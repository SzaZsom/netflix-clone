/*! For license information please see main.737dbc60.js.LICENSE.txt */
!function(){var e={472:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Se)&&(Ne(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,It=!1,Tt=[],Ct=null,Nt=null,At=null,Ot=new Map,Dt=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Ot.forEach(jt),Dt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var zt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(On),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Ur(e,0)}function $n(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Kn(t,Hn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Pr=Or[Rr];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Ir,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Ir:case Tr:case Cr:s=mn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Yn;else if(Wn(u))if(Jn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Kn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(m=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=De(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ni=Si(!1),Ai=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ni),Ei(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ii(Ci,e),Ii(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),Ii(Ci,e)):Ei(Ni),Ii(Ni,n)}var Ui=null,ji=!1,Vi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function qi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),He(Ze,qi),i}finally{kt=t,Vi=!1}}return null}var zi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,$i=null,Yi=1,Ji="";function Xi(e,t){zi[Wi++]=Gi,zi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Ji,Hi[Qi++]=$i,$i=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=zi[--Wi],zi[Wi]=null,Gi=zi[--Wi],zi[Wi]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ma.current;Ei(ma),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Di(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Di(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Xi(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Ja=$a(!1),Xa={},Za=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ii(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,jo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Uo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function zo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return qo(2048,8,e,t)}function Ko(e,t){return qo(4,2,e,t)}function Go(e,t){return qo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Uo,useDebugValue:$o,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Ns.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){return Xo(To(),yo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Xo(t,yo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Rs,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Rs,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Rs,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Rs,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Di(n)?Ai:Ci.current;return a=Oi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)zu(e,t),za(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Oi(t,c=Di(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||qa(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Oi(t,s=Di(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||qa(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Ru,Pu,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Ji,Hi[Qi++]=$i,Yi=e.id,Ji=e.overflow,$i=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Di(t.type)&&Ri(),Gu(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Je()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){Sc(e,e.return,y)}try{ns(5,e,e.return)}catch(y){Sc(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Sc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Sc(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Sc(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(y){Sc(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Je())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Sc(r,n,y)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Xu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Sc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Sc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Xu=s):xs(i);for(;null!==a;)Xu=a,ks(a,t,n),a=a.sibling;Xu=i,$u=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):bs(e)}}function bs(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var _s,Ss=Math.ceil,Es=b.ReactCurrentDispatcher,Is=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Os=0,Ds=0,Rs=Si(0),Ps=0,Ls=null,Ms=0,Fs=0,Us=0,js=null,Vs=null,Bs=0,qs=1/0,zs=null,Ws=!1,Ks=null,Gs=null,Hs=!1,Qs=null,$s=0,Ys=0,Js=null,Xs=-1,Zs=0;function ec(){return 0!==(6&Cs)?Je():-1!==Xs?Xs:Xs=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Js=null,Error(a(185));mt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Fs|=n),4===Ps&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(qs=Je()+500,ji&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Os===t||(zs=null,qs=Je()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Es.current=o,Cs=i,null!==As?t=0:(Ns=null,Os=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,zs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,zs),t);break}wc(e,Vs,zs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,zs),r);break}wc(e,Vs,zs);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,zs),rc(e,Je()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(qs=Je()+500,ji&&qi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&qi()}}function fc(){Ds=Rs.current,Ei(Rs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(Ni),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Rc(e.current,null),Os=Ds=t,Ps=0,Ls=null,Us=Fs=Ms=0,Vs=js=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Is.current=null,null===n||null===n.return){Ps=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Ns||0===(268435455&Ms)&&0===(268435455&Fs)||uc(Ns,Os)}function yc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Os===t||(zs=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Es.current=r,null!==As)throw Error(a(261));return Ns=null,Os=0,Ps}function mc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!$e();)kc(As)}function kc(e){var t=_s(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Is.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ds)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ps=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Is.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,$s=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Ks,Ks=null,e;0!==(1&$s)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Js?Ys++:(Ys=0,Js=e):Ys=0,qi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt($s),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Cs=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Ps||3===Ps&&(130023424&Os)===Os&&500>Je()-Bs?hc(e,0):Us|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(mt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return He(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=qc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ii(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),_u(e,t,r,i=ya(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),zu(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),za(t,r,i),Ka(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Cs)&&(qs=Je()+500,qi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,y&&(y=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,I=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=A,_=function(){D.postMessage(null)}}else _=function(){m(A,0)};function R(e){E=e,S||(S=!0,_())}function P(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(I),I=-1):y=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".dd4dded0.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="netflix-build-youtube:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/netflix-clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunknetflix_build_youtube=self.webpackChunknetflix_build_youtube||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ba},SDK_VERSION:function(){return Co},_DEFAULT_ENTRY_NAME:function(){return vo},_addComponent:function(){return ko},_addOrOverwriteComponent:function(){return bo},_apps:function(){return mo},_clearComponents:function(){return So},_components:function(){return go},_getProvider:function(){return xo},_registerComponent:function(){return wo},_removeServiceInstance:function(){return _o},deleteApp:function(){return Do},getApp:function(){return Ao},getApps:function(){return Oo},initializeApp:function(){return No},onLog:function(){return Lo},registerVersion:function(){return Po},setLogLevel:function(){return Mo}});var t=n(791),r=n.t(t,2),i=n(250),a=n(248),o=n(327),u=n(164);var s=function(e){e()},c=function(){return s},l=(0,t.createContext)(null);function f(){return(0,t.useContext)(l)}var h=function(){throw new Error("uSES not initialized!")},d=h,p=function(e,t){return e===t};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=d(o.addNestedSub,a.getState,u||a.getState,e,r);return(0,t.useDebugValue)(s),s}}var y=v();n(110),n(900);var m={notify:function(){},get:function(){return[]}};function g(e,t){var n,r=m;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=c(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=m)},getListeners:function(){return r}};return o}var k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var b=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=g(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);k((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||l;return t.createElement(s.Provider,{value:o},i)};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(){return n().store}}var x=w();function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?x:w(e);return function(){return t().dispatch}}var S,E=_();function I(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function T(e){return!!e&&!!e[ye]}function C(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===me}(e)||Array.isArray(e)||!!e[ve]||!!(null===(t=e.constructor)||void 0===t?void 0:t[ve])||L(e)||M(e))}function N(e,t,n){void 0===n&&(n=!1),0===A(e)?(n?Object.keys:ge)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function A(e){var t=e[ye];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:L(e)?2:M(e)?3:0}function O(e,t){return 2===A(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function D(e,t){return 2===A(e)?e.get(t):e[t]}function R(e,t,n){var r=A(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function P(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function L(e){return fe&&e instanceof Map}function M(e){return he&&e instanceof Set}function F(e){return e.o||e.t}function U(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ke(e);delete t[ye];for(var n=ge(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function j(e,t){return void 0===t&&(t=!1),B(e)||T(e)||!C(e)||(A(e)>1&&(e.set=e.add=e.clear=e.delete=V),Object.freeze(e),t&&N(e,(function(e,t){return j(t,!0)}),!0)),e}function V(){I(2)}function B(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function q(e){var t=be[e];return t||I(18,e),t}function z(e,t){be[e]||(be[e]=t)}function W(){return ce}function K(e,t){t&&(q("Patches"),e.u=[],e.s=[],e.v=t)}function G(e){H(e),e.p.forEach($),e.p=null}function H(e){e===ce&&(ce=e.l)}function Q(e){return ce={p:[],l:ce,h:e,m:!0,_:0}}function $(e){var t=e[ye];0===t.i||1===t.i?t.j():t.O=!0}function Y(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||q("ES5").S(t,e,r),r?(n[ye].P&&(G(t),I(4)),C(e)&&(e=J(t,e),t.l||Z(t,e)),t.u&&q("Patches").M(n[ye].t,e,t.u,t.s)):e=J(t,n,[]),G(t),t.u&&t.v(t.u,t.s),e!==pe?e:void 0}function J(e,t,n){if(B(t))return t;var r=t[ye];if(!r)return N(t,(function(i,a){return X(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Z(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=U(r.k):r.o;N(3===r.i?new Set(i):i,(function(t,a){return X(e,r,i,t,a,n)})),Z(e,i,!1),n&&e.u&&q("Patches").N(r,n,e.u,e.s)}return r.o}function X(e,t,n,r,i,a){if(T(i)){var o=J(e,i,a&&t&&3!==t.i&&!O(t.R,r)?a.concat(r):void 0);if(R(n,r,o),!T(o))return;e.m=!1}if(C(i)&&!B(i)){if(!e.h.D&&e._<1)return;J(e,i),t&&t.A.l||Z(e,i)}}function Z(e,t,n){void 0===n&&(n=!1),e.h.D&&e.m&&j(t,n)}function ee(e,t){var n=e[ye];return(n?F(n):e)[t]}function te(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ne(e){e.P||(e.P=!0,e.l&&ne(e.l))}function re(e){e.o||(e.o=U(e.t))}function ie(e,t,n){var r=L(t)?q("MapSet").F(t,n):M(t)?q("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:W(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=we;n&&(i=[r],a=xe);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):q("ES5").J(t,n);return(n?n.A:W()).p.push(r),r}function ae(e){return T(e)||I(22,e),function e(t){if(!C(t))return t;var n,r=t[ye],i=A(t);if(r){if(!r.P&&(r.i<4||!q("ES5").K(r)))return r.t;r.I=!0,n=oe(t,i),r.I=!1}else n=oe(t,i);return N(n,(function(t,i){r&&D(r.t,t)===i||R(n,t,e(i))})),3===i?new Set(n):n}(e)}function oe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return U(e)}function ue(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ye];return we.get(t,e)},set:function(t){var n=this[ye];we.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ye];if(!i.P)switch(i.i){case 5:r(i)&&ne(i);break;case 4:n(i)&&ne(i)}}}function n(e){for(var t=e.t,n=e.k,r=ge(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==ye){var o=t[a];if(void 0===o&&!O(t,a))return!0;var u=n[a],s=u&&u[ye];if(s?s.t!==o:!P(u,o))return!0}}var c=!!t[ye];return r.length!==ge(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};z("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=ke(n);delete a[ye];for(var o=ge(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:W(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ye,{value:a,writable:!0}),i},S:function(e,n,i){i?T(n)&&n[ye].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ye];if(n){var i=n.t,a=n.k,o=n.R,u=n.i;if(4===u)N(a,(function(t){t!==ye&&(void 0!==i[t]||O(i,t)?o[t]||e(a[t]):(o[t]=!0,ne(n)))})),N(i,(function(e){void 0!==a[e]||O(a,e)||(o[e]=!1,ne(n))}));else if(5===u){if(r(n)&&(ne(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){d=e}(o.useSyncExternalStoreWithSelector),function(e){e}(a.useSyncExternalStore),S=u.unstable_batchedUpdates,s=S;var se,ce,le="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),fe="undefined"!=typeof Map,he="undefined"!=typeof Set,de="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,pe=le?Symbol.for("immer-nothing"):((se={})["immer-nothing"]=!0,se),ve=le?Symbol.for("immer-draftable"):"__$immer_draftable",ye=le?Symbol.for("immer-state"):"__$immer_state",me=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ge="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ke=Object.getOwnPropertyDescriptors||function(e){var t={};return ge(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},be={},we={get:function(e,t){if(t===ye)return e;var n=F(e);if(!O(n,t))return function(e,t,n){var r,i=te(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!C(r)?r:r===ee(e.t,t)?(re(e),e.o[t]=ie(e.A.h,r,e)):r},has:function(e,t){return t in F(e)},ownKeys:function(e){return Reflect.ownKeys(F(e))},set:function(e,t,n){var r=te(F(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ee(F(e),t),a=null==i?void 0:i[ye];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(P(n,i)&&(void 0!==n||O(e.t,t)))return!0;re(e),ne(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==ee(e.t,t)||t in e.t?(e.R[t]=!1,re(e),ne(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=F(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){I(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){I(12)}},xe={};N(we,(function(e,t){xe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),xe.deleteProperty=function(e,t){return xe.set.call(this,e,t,void 0)},xe.set=function(e,t,n){return we.set.call(this,e[0],t,n,e[0])};var _e=function(){function e(e){var t=this;this.g=de,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&I(6),void 0!==r&&"function"!=typeof r&&I(7),C(e)){var u=Q(t),s=ie(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?G(u):H(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return K(u,r),Y(e,u)}),(function(e){throw G(u),e})):(K(u,r),Y(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===pe&&(o=void 0),t.D&&j(o,!0),r){var l=[],f=[];q("Patches").M(e,o,l,f),r(l,f)}return o}I(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){C(e)||I(8),T(e)&&(e=ae(e));var t=Q(this),n=ie(this,e,void 0);return n[ye].C=!0,H(t),n},t.finishDraft=function(e,t){var n=(e&&e[ye]).A;return K(n,t),Y(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!de&&I(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=q("Patches").$;return T(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Se=new _e,Ee=Se.produce,Ie=(Se.produceWithPatches.bind(Se),Se.setAutoFreeze.bind(Se),Se.setUseProxies.bind(Se),Se.applyPatches.bind(Se),Se.createDraft.bind(Se),Se.finishDraft.bind(Se),Ee);function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Ce(e){var t=function(e,t){if("object"!==Te(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Te(t)?t:String(t)}function Ne(e,t,n){return(t=Ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Re="function"===typeof Symbol&&Symbol.observable||"@@observable",Pe=function(){return Math.random().toString(36).substring(7).split("").join(".")},Le={INIT:"@@redux/INIT"+Pe(),REPLACE:"@@redux/REPLACE"+Pe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Pe()}};function Me(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Fe(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(De(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(De(1));return n(Fe)(e,t)}if("function"!==typeof e)throw new Error(De(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(De(3));return a}function f(e){if("function"!==typeof e)throw new Error(De(4));if(s)throw new Error(De(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(De(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!Me(e))throw new Error(De(7));if("undefined"===typeof e.type)throw new Error(De(8));if(s)throw new Error(De(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(De(10));i=e,h({type:Le.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(De(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Re]=function(){return this},e}return h({type:Le.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[Re]=p,r}function Ue(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Le.INIT}))throw new Error(De(12));if("undefined"===typeof n(void 0,{type:Le.PROBE_UNKNOWN_ACTION()}))throw new Error(De(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(De(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(De(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=je.apply(void 0,a)(n.dispatch),Oe(Oe({},n),{},{dispatch:r})}}}function Be(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var qe=Be();qe.withExtraArgument=Be;var ze=qe,We=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Ge=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},He=Object.defineProperty,Qe=Object.defineProperties,$e=Object.getOwnPropertyDescriptors,Ye=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,Ze=function(e,t,n){return t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},et=function(e,t){for(var n in t||(t={}))Je.call(t,n)&&Ze(e,n,t[n]);if(Ye)for(var r=0,i=Ye(t);r<i.length;r++){n=i[r];Xe.call(t,n)&&Ze(e,n,t[n])}return e},tt=function(e,t){return Qe(e,$e(t))},nt=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))},rt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?je:je.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function it(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var at=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return We(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Ge([void 0],e[0].concat(this)))):new(t.bind.apply(t,Ge([void 0],e.concat(this))))},t}(Array);function ot(e){return C(e)?Ie(e,(function(){})):e}function ut(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new at);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(ze.withExtraArgument(n.extraArgument)):r.push(ze));0;return r}(e)}}function st(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return et(et({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ct(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var lt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ft=["name","message","stack","code"],ht=function(e,t){this.payload=e,this.meta=t},dt=function(e,t){this.payload=e,this.meta=t},pt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=ft;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=st(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:tt(et({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=st(e+"/pending",(function(e,t,n){return{payload:void 0,meta:tt(et({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=st(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||pt)(e||"Rejected"),meta:tt(et({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):lt(),h=new o;function d(e){l=e,h.abort()}var p=function(){return nt(this,null,(function(){var o,p,v,y,m,g;return Ke(this,(function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),y=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(b=y)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,y];case 1:y=k.sent(),k.label=2;case 2:if(!1===y||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,m=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),u(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([m,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new ht(e,t)},fulfillWithValue:function(e,t){return new dt(e,t)}})).then((function(t){if(t instanceof ht)throw t;return t instanceof dt?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=k.sent(),[3,5];case 4:return g=k.sent(),v=g instanceof ht?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(vt)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function vt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var yt="listenerMiddleware";st(yt+"/add"),st(yt+"/removeAll"),st(yt+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var mt,gt=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:gt(10);ue();var kt,bt=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ot(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?ct(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=et(et({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?ct(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return ot(e())};else{var c=ot(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=Ge([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(T(e))return void 0===(r=n(e,t))?e:r;if(C(e))return Ie(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?st(c,r):st(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),wt=bt.actions,xt=wt.login,_t=wt.logout,St=function(e){return e.user.user},Et=function(e){var t,n=ut(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!it(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ue(a)}var p=u;"function"===typeof p&&(p=p(n));var v=Ve.apply(void 0,p),y=je;c&&(y=rt(et({trace:!1},"object"===typeof c&&c)));var m=[v];return Array.isArray(d)?m=Ge([v],d):"function"===typeof d&&(m=d(m)),Fe(t,f,y.apply(void 0,m))}({reducer:{user:bt.reducer}});function It(e){if(Array.isArray(e))return e}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ct(e,t){if(e){if("string"===typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}function Nt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function At(e,t){return It(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||Ct(e,t)||Nt()}function Ot(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Dt(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||Ot(e)||Ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ce(r.key),r)}}function Lt(e,t,n){return t&&Pt(e.prototype,t),n&&Pt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mt(e,t){return Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mt(e,t)}function Ft(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mt(e,t)}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}function jt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(e,t){if(t&&("object"===Te(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vt(e)}function qt(e){var t=jt();return function(){var n,r=Ut(e);if(t){var i=Ut(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Bt(this,n)}}function zt(e,t,n){return zt=jt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Mt(i,n.prototype),i},zt.apply(null,arguments)}function Wt(e){var t="function"===typeof Map?new Map:void 0;return Wt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return zt(e,arguments,Ut(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Mt(n,e)},Wt(e)}function Kt(e){return It(e)||Ot(e)||Ct(e)||Nt()}function Gt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ct(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ht.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(kt||(kt={}));var Qt,$t="popstate";function Yt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Jt(e){return{usr:e.state,key:e.key}}function Xt(e,t,n,r){return void 0===n&&(n=null),Ht({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?en(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Zt(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function en(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tn(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"===typeof e?e:Zt(e);return Yt(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}function nn(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=kt.Pop,f=null;function h(){l=kt.Pop,f&&f({action:l,location:d.location})}var d={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener($t,h),f=e,function(){o.removeEventListener($t,h),f=null}},createHref:function(e){return t(o,e)},encodeLocation:function(e){var t=tn("string"===typeof e?e:Zt(e));return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=kt.Push;var r=Xt(d.location,e,t);n&&n(r,e);var i=Jt(r),a=d.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:d.location})},replace:function(e,t){l=kt.Replace;var r=Xt(d.location,e,t);n&&n(r,e);var i=Jt(r),a=d.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:d.location})},go:function(e){return c.go(e)}};return d}function rn(e,t,n){void 0===n&&(n="/");var r=dn(("string"===typeof t?en(t):t).pathname||"/",n);if(null==r)return null;var i=an(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=ln(i[o],hn(r));return a}function an(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(Yt(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=gn([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(Yt(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),an(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:cn(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Gt(on(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function on(e){var t=e.split("/");if(0===t.length)return[];var n=Kt(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=on(i.join("/")),s=[];return s.push.apply(s,Dt(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,Dt(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Qt||(Qt={}));var un=/^:\w+$/,sn=function(e){return"*"===e};function cn(e,t){var n=e.split("/"),r=n.length;return n.some(sn)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!sn(e)})).reduce((function(e,t){return e+(un.test(t)?3:""===t?1:10)}),r)}function ln(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=fn({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:gn([i,l.pathname]),pathnameBase:kn(gn([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=gn([i,l.pathnameBase]))}return a}function fn(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);pn("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=At(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return pn(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function hn(e){try{return decodeURI(e)}catch(t){return pn(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function dn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function pn(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function vn(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function yn(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function mn(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=en(e):(Yt(!(i=Ht({},e)).pathname||!i.pathname.includes("?"),vn("?","pathname","search",i)),Yt(!i.pathname||!i.pathname.includes("#"),vn("#","pathname","hash",i)),Yt(!i.search||!i.search.includes("#"),vn("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?en(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:bn(a),hash:wn(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var gn=function(e){return e.join("/").replace(/\/\/+/g,"/")},kn=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},bn=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},wn=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},xn=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n)}(Wt(Error));var _n=Lt((function e(t,n,r,i){Rt(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function Sn(e){return e instanceof _n}var En=["post","put","patch","delete"],In=(new Set(En),["get"].concat(En));new Set(In),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;function Tn(){return Tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tn.apply(this,arguments)}var Cn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Nn=t.useState,An=t.useEffect,On=t.useLayoutEffect,Dn=t.useDebugValue;function Rn(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Cn(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var Pn=t.createContext(null);var Ln=t.createContext(null);var Mn=t.createContext(null);var Fn=t.createContext(null);var Un=t.createContext(null);var jn=t.createContext(null);var Vn=t.createContext({outlet:null,matches:[]});var Bn=t.createContext(null);function qn(){return null!=t.useContext(jn)}function zn(){return qn()||Yt(!1),t.useContext(jn).location}function Wn(){qn()||Yt(!1);var e=t.useContext(Un),n=e.basename,r=e.navigator,i=t.useContext(Vn).matches,a=zn().pathname,o=JSON.stringify(yn(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=mn(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:gn([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function Kn(){var e=function(){var e,n=t.useContext(Bn),r=Jn(Hn.UseRouteError),i=Xn(Hn.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=Sn(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var Gn,Hn,Qn=function(e){Ft(r,e);var n=qt(r);function r(e){var t;return Rt(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return Lt(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Vn.Provider,{value:this.props.routeContext},t.createElement(Bn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function $n(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(Pn);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(Vn.Provider,{value:n},i)}function Yn(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||Yt(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(Kn,null):null,l=n.concat(i.slice(0,u+1)),f=function(){return t.createElement($n,{match:o,routeContext:{outlet:e,matches:l}},s?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===u)?t.createElement(Qn,{location:r.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Jn(e){var n=t.useContext(Mn);return n||Yt(!1),n}function Xn(e){var n=function(e){var n=t.useContext(Vn);return n||Yt(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||Yt(!1),r.route.id}!function(e){e.UseRevalidator="useRevalidator"}(Gn||(Gn={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Hn||(Hn={}));var Zn;function er(e){Yt(!1)}function tr(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?kt.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;qn()&&Yt(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=en(o));var p=o,v=p.pathname,y=void 0===v?"/":v,m=p.search,g=void 0===m?"":m,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,_=p.key,S=void 0===_?"default":_,E=t.useMemo((function(){var e=dn(y,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:S}}),[h,y,g,b,x,S]);return null==E?null:t.createElement(Un.Provider,{value:d},t.createElement(jn.Provider,{children:a,value:{location:E,navigationType:s}}))}function nr(e){var n=e.children,r=e.location,i=t.useContext(Ln);return function(e,n){qn()||Yt(!1);var r,i=t.useContext(Un).navigator,a=t.useContext(Mn),o=t.useContext(Vn).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,zn());if(n){var f,h="string"===typeof n?en(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||Yt(!1),r=h}else r=l;var d=r.pathname||"/",p=rn(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=Yn(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:gn([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:gn([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?t.createElement(jn.Provider,{value:{location:Tn({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:kt.Pop}},v):v}(i&&!n?i.router.routes:ir(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Zn||(Zn={}));var rr=new Promise((function(){}));t.Component;function ir(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==er&&Yt(!1),e.props.index&&e.props.children&&Yt(!1);var a=[].concat(Dt(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=ir(e.props.children,a)),r.push(o)}else r.push.apply(r,ir(e.props.children,n))})),r}var ar=n(184);var or=function(){var e=At((0,t.useState)(!1),2),n=e[0],r=e[1],i=Wn(),a=function(){window.scrollY>100?r(!0):r(!1)};return(0,t.useEffect)((function(){return window.addEventListener("scroll",a),function(){return window.removeEventListener("scroll",a)}}),[]),(0,ar.jsx)("div",{className:"nav ".concat(n&&"nav_black"),children:(0,ar.jsxs)("div",{className:"nav_contents",children:[(0,ar.jsx)("img",{onClick:function(){return i("/")},className:"nav_logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/1280px-Netflix_2015_logo.svg.png",alt:""}),(0,ar.jsx)("img",{onClick:function(){return i("/profile")},className:"nav_avatar",src:"https://i.pinimg.com/736x/c3/3b/32/c33b322b61b8f30f0df1d0b3de690734.jpg",alt:""})]})})};function ur(){ur=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(I([])));m&&m!==t&&n.call(m,a)&&(v=m);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==Te(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function sr(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function cr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){sr(a,r,i,o,u,"next",e)}function u(e){sr(a,r,i,o,u,"throw",e)}o(void 0)}))}}function lr(e,t){return function(){return e.apply(t,arguments)}}var fr,hr=Object.prototype.toString,dr=Object.getPrototypeOf,pr=(fr=Object.create(null),function(e){var t=hr.call(e);return fr[t]||(fr[t]=t.slice(8,-1).toLowerCase())}),vr=function(e){return e=e.toLowerCase(),function(t){return pr(t)===e}},yr=function(e){return function(t){return typeof t===e}},mr=Array.isArray,gr=yr("undefined");var kr=vr("ArrayBuffer");var br=yr("string"),wr=yr("function"),xr=yr("number"),_r=function(e){return null!==e&&"object"===typeof e},Sr=function(e){if("object"!==pr(e))return!1;var t=dr(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Er=vr("Date"),Ir=vr("File"),Tr=vr("Blob"),Cr=vr("FileList"),Nr=vr("URLSearchParams");function Ar(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),mr(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var u,s=o?Object.getOwnPropertyNames(e):Object.keys(e),c=s.length;for(n=0;n<c;n++)u=s[n],t.call(null,e[u],u,e)}}function Or(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var Dr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Rr=function(e){return!gr(e)&&e!==Dr};var Pr,Lr=(Pr="undefined"!==typeof Uint8Array&&dr(Uint8Array),function(e){return Pr&&e instanceof Pr}),Mr=vr("HTMLFormElement"),Fr=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Ur=vr("RegExp"),jr=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Ar(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},Vr={isArray:mr,isArrayBuffer:kr,isBuffer:function(e){return null!==e&&!gr(e)&&null!==e.constructor&&!gr(e.constructor)&&wr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||hr.call(e)===t||wr(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&kr(e.buffer)},isString:br,isNumber:xr,isBoolean:function(e){return!0===e||!1===e},isObject:_r,isPlainObject:Sr,isUndefined:gr,isDate:Er,isFile:Ir,isBlob:Tr,isRegExp:Ur,isFunction:wr,isStream:function(e){return _r(e)&&wr(e.pipe)},isURLSearchParams:Nr,isTypedArray:Lr,isFileList:Cr,forEach:Ar,merge:function e(){for(var t=Rr(this)&&this||{},n=t.caseless,r={},i=function(t,i){var a=n&&Or(r,i)||i;Sr(r[a])&&Sr(t)?r[a]=e(r[a],t):Sr(t)?r[a]=e({},t):mr(t)?r[a]=t.slice():r[a]=t},a=0,o=arguments.length;a<o;a++)arguments[a]&&Ar(arguments[a],i);return r},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return Ar(t,(function(t,r){n&&wr(t)?e[r]=lr(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&dr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:pr,kindOfTest:vr,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(mr(e))return e;var t=e.length;if(!xr(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Mr,hasOwnProperty:Fr,hasOwnProp:Fr,reduceDescriptors:jr,freezeMethods:function(e){jr(e,(function(t,n){if(wr(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];wr(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return mr(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:Or,global:Dr,isContextDefined:Rr,toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(_r(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=mr(n)?[]:{};return Ar(n,(function(t,n){var a=e(t,r+1);!gr(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)}};function Br(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Vr.inherits(Br,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Vr.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var qr=Br.prototype,zr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){zr[e]={value:e}})),Object.defineProperties(Br,zr),Object.defineProperty(qr,"isAxiosError",{value:!0}),Br.from=function(e,t,n,r,i,a){var o=Object.create(qr);return Vr.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Br.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Wr=Br,Kr=n(472);function Gr(e){return Vr.isPlainObject(e)||Vr.isArray(e)}function Hr(e){return Vr.endsWith(e,"[]")?e.slice(0,-2):e}function Qr(e,t,n){return e?e.concat(t).map((function(e,t){return e=Hr(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var $r=Vr.toFlatObject(Vr,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Yr=function(e,t,n){if(!Vr.isObject(e))throw new TypeError("target must be an object");t=t||new(Kr||FormData);var r,i=(n=Vr.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Vr.isUndefined(t[e])}))).metaTokens,a=n.visitor||l,o=n.dots,u=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((r=t)&&Vr.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!Vr.isFunction(a))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Vr.isDate(e))return e.toISOString();if(!s&&Vr.isBlob(e))throw new Wr("Blob is not supported. Use a Buffer instead.");return Vr.isArrayBuffer(e)||Vr.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,r){var a=e;if(e&&!r&&"object"===typeof e)if(Vr.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(Vr.isArray(e)&&function(e){return Vr.isArray(e)&&!e.some(Gr)}(e)||Vr.isFileList(e)||Vr.endsWith(n,"[]")&&(a=Vr.toArray(e)))return n=Hr(n),a.forEach((function(e,r){!Vr.isUndefined(e)&&null!==e&&t.append(!0===u?Qr([n],r,o):null===u?n:n+"[]",c(e))})),!1;return!!Gr(e)||(t.append(Qr(r,n,o),c(e)),!1)}var f=[],h=Object.assign($r,{defaultVisitor:l,convertValue:c,isVisitable:Gr});if(!Vr.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Vr.isUndefined(n)){if(-1!==f.indexOf(n))throw Error("Circular reference detected in "+r.join("."));f.push(n),Vr.forEach(n,(function(n,i){!0===(!(Vr.isUndefined(n)||null===n)&&a.call(t,n,Vr.isString(i)?i.trim():i,r,h))&&e(n,r?r.concat(i):[i])})),f.pop()}}(e),t};function Jr(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Xr(e,t){this._pairs=[],e&&Yr(e,this,t)}var Zr=Xr.prototype;Zr.append=function(e,t){this._pairs.push([e,t])},Zr.toString=function(e){var t=e?function(t){return e.call(this,t,Jr)}:Jr;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var ei=Xr;function ti(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ni(e,t,n){if(!t)return e;var r,i=n&&n.encode||ti,a=n&&n.serialize;if(r=a?a(t,n):Vr.isURLSearchParams(t)?t.toString():new ei(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var ri=function(){function e(){Rt(this,e),this.handlers=[]}return Lt(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Vr.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),ii=ri,ai={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oi="undefined"!==typeof URLSearchParams?URLSearchParams:ei,ui=FormData,si=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),ci="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,li={isBrowser:!0,classes:{URLSearchParams:oi,FormData:ui,Blob:Blob},isStandardBrowserEnv:si,isStandardBrowserWebWorkerEnv:ci,protocols:["http","https","file","blob","url","data"]};var fi=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&Vr.isArray(r)?r.length:a,u?(Vr.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Vr.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Vr.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(Vr.isFormData(e)&&Vr.isFunction(e.entries)){var n={};return Vr.forEachEntry(e,(function(e,r){t(function(e){return Vr.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},hi={"Content-Type":void 0};var di={transitional:ai,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Vr.isObject(e);if(a&&Vr.isHTMLForm(e)&&(e=new FormData(e)),Vr.isFormData(e))return i&&i?JSON.stringify(fi(e)):e;if(Vr.isArrayBuffer(e)||Vr.isBuffer(e)||Vr.isStream(e)||Vr.isFile(e)||Vr.isBlob(e))return e;if(Vr.isArrayBufferView(e))return e.buffer;if(Vr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Yr(e,new li.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return li.isNode&&Vr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Vr.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Yr(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Vr.isString(e))try{return(t||JSON.parse)(e),Vr.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||di.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Vr.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Wr.from(a,Wr.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:li.classes.FormData,Blob:li.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Vr.forEach(["delete","get","head"],(function(e){di.headers[e]={}})),Vr.forEach(["post","put","patch"],(function(e){di.headers[e]=Vr.merge(hi)}));var pi=di,vi=Vr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yi=Symbol("internals");function mi(e){return e&&String(e).trim().toLowerCase()}function gi(e){return!1===e||null==e?e:Vr.isArray(e)?e.map(gi):String(e)}function ki(e,t,n,r){return Vr.isFunction(r)?r.call(this,t,n):Vr.isString(t)?Vr.isString(r)?-1!==t.indexOf(r):Vr.isRegExp(r)?r.test(t):void 0:void 0}var bi=function(e,t){function n(e){Rt(this,n),e&&this.set(e)}return Lt(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=mi(t);if(!i)throw new Error("header name must be a non-empty string");var a=Vr.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=gi(e))}var a=function(e,t){return Vr.forEach(e,(function(e,n){return i(e,n,t)}))};return Vr.isPlainObject(e)||e instanceof this.constructor?a(e,t):Vr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&vi[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=mi(e)){var n=Vr.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Vr.isFunction(t))return t.call(this,r,n);if(Vr.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=mi(e)){var n=Vr.findKey(this,e);return!(!n||t&&!ki(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=mi(e)){var i=Vr.findKey(n,e);!i||t&&!ki(0,n[i],i,t)||(delete n[i],r=!0)}}return Vr.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(e){var t=this,n={};return Vr.forEach(this,(function(r,i){var a=Vr.findKey(n,i);if(a)return t[a]=gi(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=gi(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Vr.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Vr.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=At(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[yi]=this[yi]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=mi(e);t[r]||(!function(e,t){var n=Vr.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Vr.isArray(e)?e.forEach(r):r(e),this}}]),n}();bi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),Vr.freezeMethods(bi.prototype),Vr.freezeMethods(bi);var wi=bi;function xi(e,t){var n=this||pi,r=t||n,i=wi.from(r.headers),a=r.data;return Vr.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function _i(e){return!(!e||!e.__CANCEL__)}function Si(e,t,n){Wr.call(this,null==e?"canceled":e,Wr.ERR_CANCELED,t,n),this.name="CanceledError"}Vr.inherits(Si,Wr,{__CANCEL__:!0});var Ei=Si;var Ii=li.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),Vr.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Vr.isString(r)&&o.push("path="+r),Vr.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Ti(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Ci=li.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Vr.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var Ni=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};function Ai(e,t){var n=0,r=Ni(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var Oi={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=wi.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Vr.isFormData(i)&&(li.isStandardBrowserEnv||li.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=Ti(e.baseURL,e.url);function h(){if(s){var r=wi.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Wr("Request failed with status code "+n.status,[Wr.ERR_BAD_REQUEST,Wr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),ni(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=h:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(h)},s.onabort=function(){s&&(n(new Wr("Request aborted",Wr.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new Wr("Network Error",Wr.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||ai;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Wr(t,r.clarifyTimeoutError?Wr.ETIMEDOUT:Wr.ECONNABORTED,e,s)),s=null},li.isStandardBrowserEnv){var d=(e.withCredentials||Ci(f))&&e.xsrfCookieName&&Ii.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&Vr.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),Vr.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",Ai(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",Ai(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new Ei(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===li.protocols.indexOf(p)?n(new Wr("Unsupported protocol "+p+":",Wr.ERR_BAD_REQUEST,e)):s.send(i||null)}))}};Vr.forEach(Oi,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var Di=function(e){for(var t,n,r=(e=Vr.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=Vr.isString(t)?Oi[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new Wr("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(Vr.hasOwnProp(Oi,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!Vr.isFunction(n))throw new TypeError("adapter is not a function");return n};function Ri(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ei(null,e)}function Pi(e){return Ri(e),e.headers=wi.from(e.headers),e.data=xi.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Di(e.adapter||pi.adapter)(e).then((function(t){return Ri(e),t.data=xi.call(e,e.transformResponse,t),t.headers=wi.from(t.headers),t}),(function(t){return _i(t)||(Ri(e),t&&t.response&&(t.response.data=xi.call(e,e.transformResponse,t.response),t.response.headers=wi.from(t.response.headers))),Promise.reject(t)}))}var Li=function(e){return e instanceof wi?e.toJSON():e};function Mi(e,t){t=t||{};var n={};function r(e,t,n){return Vr.isPlainObject(e)&&Vr.isPlainObject(t)?Vr.merge.call({caseless:n},e,t):Vr.isPlainObject(t)?Vr.merge({},t):Vr.isArray(t)?t.slice():t}function i(e,t,n){return Vr.isUndefined(t)?Vr.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!Vr.isUndefined(t))return r(void 0,t)}function o(e,t){return Vr.isUndefined(t)?Vr.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(Li(e),Li(t),!0)}};return Vr.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);Vr.isUndefined(o)&&a!==u||(n[r]=o)})),n}var Fi="1.2.2",Ui={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Ui[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var ji={};Ui.transitional=function(e,t,n){function r(e,t){return"[Axios v1.2.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Wr(r(i," has been removed"+(t?" in "+t:"")),Wr.ERR_DEPRECATED);return t&&!ji[i]&&(ji[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Vi={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Wr("options must be an object",Wr.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new Wr("option "+a+" must be "+s,Wr.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Wr("Unknown option "+a,Wr.ERR_BAD_OPTION)}},validators:Ui},Bi=Vi.validators,qi=function(){function e(t){Rt(this,e),this.defaults=t,this.interceptors={request:new ii,response:new ii}}return Lt(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=Mi(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&Vi.assertOptions(i,{silentJSONParsing:Bi.transitional(Bi.boolean),forcedJSONParsing:Bi.transitional(Bi.boolean),clarifyTimeoutError:Bi.transitional(Bi.boolean)},!1),void 0!==a&&Vi.assertOptions(a,{encode:Bi.function,serialize:Bi.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&Vr.merge(o.common,o[t.method]))&&Vr.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=wi.concat(n,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!s){var d=[Pi.bind(this),void 0];for(d.unshift.apply(d,u),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=u.length;var p=t;for(h=0;h<f;){var v=u[h++],y=u[h++];try{p=v(p)}catch(m){y.call(this,m);break}}try{c=Pi.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return ni(Ti((e=Mi(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Vr.forEach(["delete","get","head","options"],(function(e){qi.prototype[e]=function(t,n){return this.request(Mi(n||{},{method:e,url:t,data:(n||{}).data}))}})),Vr.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Mi(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}qi.prototype[e]=t(),qi.prototype[e+"Form"]=t(!0)}));var zi=qi,Wi=function(){function e(t){if(Rt(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new Ei(e,t,i),n(r.reason))}))}return Lt(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),Ki=Wi;var Gi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gi).forEach((function(e){var t=At(e,2),n=t[0],r=t[1];Gi[r]=n}));var Hi=Gi;var Qi=function e(t){var n=new zi(t),r=lr(zi.prototype.request,n);return Vr.extend(r,zi.prototype,n,{allOwnKeys:!0}),Vr.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Mi(t,n))},r}(pi);Qi.Axios=zi,Qi.CanceledError=Ei,Qi.CancelToken=Ki,Qi.isCancel=_i,Qi.VERSION=Fi,Qi.toFormData=Yr,Qi.AxiosError=Wr,Qi.Cancel=Qi.CanceledError,Qi.all=function(e){return Promise.all(e)},Qi.spread=function(e){return function(t){return e.apply(null,t)}},Qi.isAxiosError=function(e){return Vr.isObject(e)&&!0===e.isAxiosError},Qi.mergeConfig=Mi,Qi.AxiosHeaders=wi,Qi.formToJSON=function(e){return fi(Vr.isHTMLForm(e)?new FormData(e):e)},Qi.HttpStatusCode=Hi,Qi.default=Qi;var $i=Qi.create({baseURL:"https://api.themoviedb.org/3"}),Yi="8406a19db3219cd48f0f0e83bb998a05",Ji={fetchTrending:"/trending/all/week?api_key=".concat(Yi,"&language=en-US"),fetchNetflixOriginals:"/discover/tv?api_key=".concat(Yi,"&with_networks=213"),fetchTopRated:"/movie/top_rated?api_key=".concat(Yi,"&language=en-US"),fetchActionMovies:"/discover/movie?api_key=".concat(Yi,"&with_genres=28"),fetchComedyMovies:"/discover/movie?api_key=".concat(Yi,"&with_genres=35"),fetchHorrorMovies:"/discover/movie?api_key=".concat(Yi,"&with_genres=27"),fetchRomanceMovies:"/discover/movie?api_key=".concat(Yi,"&with_genres=10749"),fetchDocumentaries:"/discover/movie?api_key=".concat(Yi,"&with_genres=99")};var Xi=function(){var e=At((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){function e(){return(e=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i.get(Ji.fetchNetflixOriginals);case 2:return t=e.sent,r(t.data.results[Math.floor(Math.random()*t.data.results.length-1)]),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,ar.jsxs)("header",{className:"banner",style:{backgroundSize:"cover",backgroundImage:'url("https://image.tmdb.org/t/p/original/'.concat(null===n||void 0===n?void 0:n.backdrop_path,'")'),backgroundPosition:"center center"},children:[(0,ar.jsxs)("div",{className:"banner_contents",children:[(0,ar.jsx)("h1",{className:"banner_title",children:(null===n||void 0===n?void 0:n.title)||(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.original_name)}),(0,ar.jsxs)("div",{className:"banner_buttons",children:[(0,ar.jsx)("button",{className:"banner_button",children:"Play"}),(0,ar.jsx)("button",{className:"banner_button",children:"My List"})]}),(0,ar.jsx)("h1",{className:"banner_description",children:function(e,t){return(null===e||void 0===e?void 0:e.length)>t?e.substr(0,t-1)+"...":e}(null===n||void 0===n?void 0:n.overview,150)})]}),(0,ar.jsx)("div",{className:"banner--fadeBottom"})]})};var Zi=function(e){var n=e.title,r=e.fetchUrl,i=e.isLargeRow,a=void 0!==i&&i,o=At((0,t.useState)([]),2),u=o[0],s=o[1];return(0,t.useEffect)((function(){function e(){return(e=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i.get(r);case 2:return t=e.sent,s(t.data.results),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),(0,ar.jsxs)("div",{className:"row",children:[(0,ar.jsx)("h2",{children:n}),(0,ar.jsx)("div",{className:"row_posters",children:u.map((function(e){return(a&&e.poster_path||!a&&e.backdrop_path)&&(0,ar.jsx)("img",{className:"row_poster ".concat(a&&"row_posterLarge"),src:"".concat("https://image.tmdb.org/t/p/original").concat(a?e.poster_path:e.backdrop_path),alt:e.name},e.id)}))})]})};var ea=function(){return(0,ar.jsxs)("div",{className:"homeScreen",children:[(0,ar.jsx)(or,{}),(0,ar.jsx)(Xi,{}),(0,ar.jsx)(Zi,{title:"NETFLIX ORIGINALS",fetchUrl:Ji.fetchNetflixOriginals,isLargeRow:"true"}),(0,ar.jsx)(Zi,{title:"Trending Now",fetchUrl:Ji.fetchTrending}),(0,ar.jsx)(Zi,{title:"Top Rated",fetchUrl:Ji.fetchTopRated}),(0,ar.jsx)(Zi,{title:"Action Movies",fetchUrl:Ji.fetchActionMovies}),(0,ar.jsx)(Zi,{title:"Comedy Movies",fetchUrl:Ji.fetchComedyMovies}),(0,ar.jsx)(Zi,{title:"Horror Movies",fetchUrl:Ji.fetchHorrorMovies}),(0,ar.jsx)(Zi,{title:"Romance Movies",fetchUrl:Ji.fetchRomanceMovies}),(0,ar.jsx)(Zi,{title:"Documentaries",fetchUrl:Ji.fetchDocumentaries})]})};function ta(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),nn((function(e,t){var n=e.location;return Xt("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Zt(t)}),null,n)));var u=o.current,s=At(t.useState({action:u.action,location:u.location}),2),c=s[0],l=s[1];return t.useLayoutEffect((function(){return u.listen(l)}),[u]),t.createElement(tr,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:u})}var na,ra;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(na||(na={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ra||(ra={}));var ia=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},aa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ia(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},oa=function(e){return function(e){var t=ia(e);return aa.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ua=function(e){try{return aa.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function sa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=sa(e[n],t[n]));return e}function ca(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function la(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function fa(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ha(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function da(){var e=ca();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pa(){try{return"object"===typeof indexedDB}catch(e){return!1}}var va=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ya=function(){try{return va()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ua(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ma=function(){var e;return null===(e=ya())||void 0===e?void 0:e.config},ga=function(){function e(){var t=this;Rt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Lt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ka(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[oa(JSON.stringify({alg:"none",type:"JWT"})),oa(JSON.stringify(a)),""].join(".")}var ba=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Vt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Vt(a),wa.prototype.create),a}return Lt(n)}(Wt(Error)),wa=function(){function e(t,n,r){Rt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Lt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?xa(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ba(n,a,t);return o}}]),e}();function xa(e,t){return e.replace(_a,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var _a=/\{\$([^}]+)}/g;function Sa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ea(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ia(u)&&Ia(s)){if(!Ea(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ia(e){return null!==e&&"object"===typeof e}function Ta(e){for(var t=[],n=function(){var e=At(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ca(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=At(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Na(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Aa(e,t){var n=new Oa(e,t);return n.subscribe.bind(n)}var Oa=function(){function e(t,n){var r=this;Rt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Lt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Gt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Da),void 0===r.error&&(r.error=Da),void 0===r.complete&&(r.complete=Da);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Da(){}function Ra(e){return e&&e._delegate?e._delegate:e}var Pa=function(){function e(t,n,r){Rt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Lt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),La="[DEFAULT]",Ma=function(){function e(t,n){Rt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Lt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ga;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch(s){}var t,n=Gt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=At(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Dt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Dt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Gt(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=At(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(FC){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===La?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(FC){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La;return this.component?this.component.multipleInstances?e:La:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Fa,Ua,ja=function(){function e(t){Rt(this,e),this.name=t,this.providers=new Map}return Lt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ma(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Va=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ua||(Ua={}));var Ba={debug:Ua.DEBUG,verbose:Ua.VERBOSE,info:Ua.INFO,warn:Ua.WARN,error:Ua.ERROR,silent:Ua.SILENT},qa=Ua.INFO,za=(Ne(Fa={},Ua.DEBUG,"log"),Ne(Fa,Ua.VERBOSE,"log"),Ne(Fa,Ua.INFO,"info"),Ne(Fa,Ua.WARN,"warn"),Ne(Fa,Ua.ERROR,"error"),Fa),Wa=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=za[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ka=function(){function e(t){Rt(this,e),this.name=t,this._logLevel=qa,this._logHandler=Wa,this._userLogHandler=null,Va.push(this)}return Lt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ua))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ba[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ua.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ua.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ua.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ua.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ua.INFO].concat(t)),this._logHandler.apply(this,[this,Ua.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ua.WARN].concat(t)),this._logHandler.apply(this,[this,Ua.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ua.ERROR].concat(t)),this._logHandler.apply(this,[this,Ua.ERROR].concat(t))}}]),e}();var Ga,Ha;var Qa=new WeakMap,$a=new WeakMap,Ya=new WeakMap,Ja=new WeakMap,Xa=new WeakMap;var Za={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ya.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return no(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function eo(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ha||(Ha=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ro(this),n),no(Qa.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return no(e.apply(ro(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ro(this),t].concat(r));return Ya.set(a,t.sort?t.sort():[t]),no(a)}}function to(e){return"function"===typeof e?eo(e):(e instanceof IDBTransaction&&function(e){if(!$a.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));$a.set(e,t)}}(e),t=e,(Ga||(Ga=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Za):e);var t}function no(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(no(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Qa.set(t,e)})).catch((function(){})),Xa.set(t,e),t}(e);if(Ja.has(e))return Ja.get(e);var t=to(e);return t!==e&&(Ja.set(e,t),Xa.set(t,e)),t}var ro=function(e){return Xa.get(e)};var io,ao,oo=["get","getKey","getAll","getAllKeys","count"],uo=["put","add","delete","clear"],so=new Map;function co(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(so.get(t))return so.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=uo.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||oo.includes(n))){var a=function(){var e=cr(ur().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return so.set(t,a),a}}}Za=function(e){return Oe(Oe({},e),{},{get:function(t,n,r){return co(t,n)||e.get(t,n,r)},has:function(t,n){return!!co(t,n)||e.has(t,n)}})}(Za);var lo=function(){function e(t){Rt(this,e),this.container=t}return Lt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var fo="@firebase/app",ho="0.9.0",po=new Ka("@firebase/app"),vo="[DEFAULT]",yo=(Ne(io={},fo,"fire-core"),Ne(io,"@firebase/app-compat","fire-core-compat"),Ne(io,"@firebase/analytics","fire-analytics"),Ne(io,"@firebase/analytics-compat","fire-analytics-compat"),Ne(io,"@firebase/app-check","fire-app-check"),Ne(io,"@firebase/app-check-compat","fire-app-check-compat"),Ne(io,"@firebase/auth","fire-auth"),Ne(io,"@firebase/auth-compat","fire-auth-compat"),Ne(io,"@firebase/database","fire-rtdb"),Ne(io,"@firebase/database-compat","fire-rtdb-compat"),Ne(io,"@firebase/functions","fire-fn"),Ne(io,"@firebase/functions-compat","fire-fn-compat"),Ne(io,"@firebase/installations","fire-iid"),Ne(io,"@firebase/installations-compat","fire-iid-compat"),Ne(io,"@firebase/messaging","fire-fcm"),Ne(io,"@firebase/messaging-compat","fire-fcm-compat"),Ne(io,"@firebase/performance","fire-perf"),Ne(io,"@firebase/performance-compat","fire-perf-compat"),Ne(io,"@firebase/remote-config","fire-rc"),Ne(io,"@firebase/remote-config-compat","fire-rc-compat"),Ne(io,"@firebase/storage","fire-gcs"),Ne(io,"@firebase/storage-compat","fire-gcs-compat"),Ne(io,"@firebase/firestore","fire-fst"),Ne(io,"@firebase/firestore-compat","fire-fst-compat"),Ne(io,"fire-js","fire-js"),Ne(io,"firebase","fire-js-all"),io),mo=new Map,go=new Map;function ko(e,t){try{e.container.addComponent(t)}catch(n){po.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function bo(e,t){e.container.addOrOverwriteComponent(t)}function wo(e){var t=e.name;if(go.has(t))return po.debug("There were multiple attempts to register component ".concat(t,".")),!1;go.set(t,e);var n,r=Gt(mo.values());try{for(r.s();!(n=r.n()).done;){ko(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function xo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vo;xo(e,t).clearInstance(n)}function So(){go.clear()}var Eo=(Ne(ao={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ne(ao,"bad-app-name","Illegal App name: '{$appName}"),Ne(ao,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ne(ao,"app-deleted","Firebase App named '{$appName}' already deleted"),Ne(ao,"no-options","Need to provide options, when not being deployed to hosting via source."),Ne(ao,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ne(ao,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ne(ao,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ne(ao,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ne(ao,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ne(ao,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ao),Io=new wa("app","Firebase",Eo),To=function(){function e(t,n,r){var i=this;Rt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pa("app",(function(){return i}),"PUBLIC"))}return Lt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}}]),e}(),Co="9.15.0";function No(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:vo,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Io.create("bad-app-name",{appName:String(a)});if(n||(n=ma()),!n)throw Io.create("no-options");var o=mo.get(a);if(o){if(Ea(n,o.options)&&Ea(i,o.config))return o;throw Io.create("duplicate-app",{appName:a})}var u,s=new ja(a),c=Gt(go.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new To(n,i,s);return mo.set(a,f),f}function Ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vo,t=mo.get(e);if(!t&&e===vo)return No();if(!t)throw Io.create("no-app",{appName:e});return t}function Oo(){return Array.from(mo.values())}function Do(e){return Ro.apply(this,arguments)}function Ro(){return(Ro=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!mo.has(n)){e.next=6;break}return mo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(e,t,n){var r,i=null!==(r=yo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void po.warn(u.join(" "))}wo(new Pa("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Lo(e,t){if(null!==e&&"function"!==typeof e)throw Io.create("invalid-log-argument");!function(e,t){var n,r=Gt(Va);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ba[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ua[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Mo(e){var t;t=e,Va.forEach((function(e){e.setLogLevel(t)}))}var Fo="firebase-heartbeat-store",Uo=null;function jo(){return Uo||(Uo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=no(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(no(u.result),e.oldVersion,e.newVersion,no(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Fo)}}).catch((function(e){throw Io.create("idb-open",{originalErrorMessage:e.message})}))),Uo}function Vo(e){return Bo.apply(this,arguments)}function Bo(){return Bo=cr(ur().mark((function e(t){var n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jo();case 3:return n=e.sent,e.abrupt("return",n.transaction(Fo).objectStore(Fo).get(Wo(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ba?po.warn(e.t0.message):(r=Io.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),po.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Bo.apply(this,arguments)}function qo(e,t){return zo.apply(this,arguments)}function zo(){return zo=cr(ur().mark((function e(t,n){var r,i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jo();case 3:return r=e.sent,i=r.transaction(Fo,"readwrite"),a=i.objectStore(Fo),e.next=8,a.put(n,Wo(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ba?po.warn(e.t0.message):(o=Io.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),po.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),zo.apply(this,arguments)}function Wo(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ko=function(){function e(t){var n=this;Rt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Yo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Lt(e,[{key:"triggerHeartbeat",value:function(){var e=cr(ur().mark((function e(){var t,n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Go(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=cr(ur().mark((function e(){var t,n,r,i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Go(),n=Ho(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=oa(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Go(){return(new Date).toISOString().substring(0,10)}function Ho(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Gt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Jo(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Jo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Qo,$o,Yo=function(){function e(t){Rt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Lt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pa()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Vo(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=cr(ur().mark((function e(t){var n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=cr(ur().mark((function e(t){var n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Dt(r.heartbeats),Dt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Jo(e){return oa(JSON.stringify({version:2,heartbeats:e})).length}Qo="",wo(new Pa("platform-logger",(function(e){return new lo(e)}),"PRIVATE")),wo(new Pa("heartbeat",(function(e){return new Ko(e)}),"PRIVATE")),Po(fo,ho,Qo),Po(fo,ho,"esm2017"),Po("fire-js","");var Xo=function(){function e(t,n){var r=this;Rt(this,e),this._delegate=t,this.firebase=n,ko(t,new Pa("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Lt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Do(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vo;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vo;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ko(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){bo(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Zo=(Ne($o={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ne($o,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),$o),eu=new wa("app-compat","Firebase",Zo);var tu=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=No(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Sa(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Po,setLogLevel:Mo,onLog:Lo,apps:null,SDK_VERSION:Co,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(wo(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw eu.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&sa(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Sa(n,e=e||vo))throw eu.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Xo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){sa(n,e)},createSubscribe:Aa,ErrorFactory:wa,deepExtend:sa}),n}(),nu=new Ka("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){nu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ru=self.firebase.SDK_VERSION;ru&&ru.indexOf("LITE")>=0&&nu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var iu=tu;!function(e){Po("@firebase/app-compat","0.2.0",e)}();function au(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ut(e)););return e}function ou(){return ou="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=au(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ou.apply(this,arguments)}iu.registerVersion("firebase","9.15.0","app-compat");function uu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var su;Object.create;var cu="facebook.com",lu="github.com",fu="google.com",hu="password",du="twitter.com",pu="EMAIL_SIGNIN",vu="PASSWORD_RESET",yu="RECOVER_EMAIL",mu="REVERT_SECOND_FACTOR_ADDITION",gu="VERIFY_AND_CHANGE_EMAIL",ku="VERIFY_EMAIL";function bu(){return Ne({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var wu=function(){var e;return Ne(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ne(e,"argument-error",""),Ne(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ne(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ne(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ne(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ne(e,"cordova-not-ready","Cordova framework is not ready."),Ne(e,"cors-unsupported","This browser is not supported."),Ne(e,"credential-already-in-use","This credential is already associated with a different user account."),Ne(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ne(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ne(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ne(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ne(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ne(e,"email-already-in-use","The email address is already in use by another account."),Ne(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ne(e,"expired-action-code","The action code has expired."),Ne(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ne(e,"internal-error","An internal AuthError has occurred."),Ne(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ne(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ne(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ne(e,"invalid-auth-event","An internal AuthError has occurred."),Ne(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ne(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ne(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ne(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ne(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ne(e,"invalid-email","The email address is badly formatted."),Ne(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ne(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ne(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ne(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ne(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ne(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ne(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ne(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ne(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ne(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ne(e,"wrong-password","The password is invalid or the user does not have a password."),Ne(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ne(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ne(e,"invalid-provider-id","The specified provider ID is invalid."),Ne(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ne(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ne(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ne(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ne(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ne(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ne(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ne(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ne(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ne(e,"missing-continue-uri","A continue URL must be provided in the request."),Ne(e,"missing-iframe-start","An internal AuthError has occurred."),Ne(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ne(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ne(e,"missing-multi-factor-info","No second factor identifier is provided."),Ne(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ne(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ne(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ne(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ne(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ne(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ne(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ne(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ne(e,"no-auth-event","An internal AuthError has occurred."),Ne(e,"no-such-provider","User was not linked to an account with the given provider."),Ne(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ne(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ne(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ne(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ne(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ne(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ne(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ne(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ne(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ne(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ne(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ne(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ne(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ne(e,"timeout","The operation has timed out."),Ne(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ne(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ne(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ne(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ne(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ne(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ne(e,"unverified-email","The operation requires a verified email."),Ne(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ne(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ne(e,"user-disabled","The user account has been disabled by an administrator."),Ne(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ne(e,"user-signed-out",""),Ne(e,"weak-password","The password must be 6 characters long or more."),Ne(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ne(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},xu=bu,_u=new wa("auth","Firebase",bu()),Su=new Ka("@firebase/auth");function Eu(e){if(Su.logLevel<=Ua.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Su.error.apply(Su,["Auth (".concat(Co,"): ").concat(e)].concat(n))}}function Iu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Au.apply(void 0,[e].concat(n))}function Tu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Au.apply(void 0,[e].concat(n))}function Cu(e,t,n){var r=Object.assign(Object.assign({},xu()),Ne({},t,n));return new wa("auth","Firebase",r).create(t,{appName:e.name})}function Nu(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Iu(e,"argument-error"),Cu(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Au(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Dt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Dt(o)))}return _u.create.apply(_u,[e].concat(n))}function Ou(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Au.apply(void 0,[t].concat(r))}}function Du(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Eu(t),new Error(t)}function Ru(e,t){e||Du(t)}var Pu=new Map;function Lu(e){Ru(e instanceof Function,"Expected a class definition");var t=Pu.get(e);return t?(Ru(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Pu.set(e,t),t)}function Mu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fu(){return"http:"===Uu()||"https:"===Uu()}function Uu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ju=function(){function e(t,n){Rt(this,e),this.shortDelay=t,this.longDelay=n,Ru(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ca())||ha()}return Lt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fu()||fa()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Vu(e,t){Ru(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Bu=function(){function e(){Rt(this,e)}return Lt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Du("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Du("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Du("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),qu=(Ne(su={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ne(su,"MISSING_CUSTOM_TOKEN","internal-error"),Ne(su,"INVALID_IDENTIFIER","invalid-email"),Ne(su,"MISSING_CONTINUE_URI","internal-error"),Ne(su,"INVALID_PASSWORD","wrong-password"),Ne(su,"MISSING_PASSWORD","internal-error"),Ne(su,"EMAIL_EXISTS","email-already-in-use"),Ne(su,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ne(su,"INVALID_IDP_RESPONSE","invalid-credential"),Ne(su,"INVALID_PENDING_TOKEN","invalid-credential"),Ne(su,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ne(su,"MISSING_REQ_TYPE","internal-error"),Ne(su,"EMAIL_NOT_FOUND","user-not-found"),Ne(su,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ne(su,"EXPIRED_OOB_CODE","expired-action-code"),Ne(su,"INVALID_OOB_CODE","invalid-action-code"),Ne(su,"MISSING_OOB_CODE","internal-error"),Ne(su,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ne(su,"INVALID_ID_TOKEN","invalid-user-token"),Ne(su,"TOKEN_EXPIRED","user-token-expired"),Ne(su,"USER_NOT_FOUND","user-token-expired"),Ne(su,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ne(su,"INVALID_CODE","invalid-verification-code"),Ne(su,"INVALID_SESSION_INFO","invalid-verification-id"),Ne(su,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ne(su,"MISSING_SESSION_INFO","missing-verification-id"),Ne(su,"SESSION_EXPIRED","code-expired"),Ne(su,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ne(su,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ne(su,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ne(su,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ne(su,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ne(su,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ne(su,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ne(su,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ne(su,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ne(su,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ne(su,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),su),zu=new ju(3e4,6e4);function Wu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ku(e,t,n,r){return Gu.apply(this,arguments)}function Gu(){return Gu=cr(ur().mark((function e(t,n,r,i){var a,o=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Hu(t,a,cr(ur().mark((function e(){var a,o,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ta(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Bu.fetch()(Ju(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}function Hu(e,t,n){return Qu.apply(this,arguments)}function Qu(){return Qu=cr(ur().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},qu),n),e.prev=2,a=new Xu(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Zu(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=At(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Zu(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Zu(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Zu(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Cu(t,d,h);case 34:Iu(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ba)){e.next=41;break}throw e.t0;case 41:Iu(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Qu.apply(this,arguments)}function $u(e,t,n,r){return Yu.apply(this,arguments)}function Yu(){return Yu=cr(ur().mark((function e(t,n,r,i){var a,o,u=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ku(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Iu(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}function Ju(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Vu(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Xu=function(){function e(t){var n=this;Rt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Tu(n.auth,"network-request-failed"))}),zu.get())}))}return Lt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Zu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Tu(e,t,r);return i.customData._tokenResponse=n,i}function es(e,t){return ts.apply(this,arguments)}function ts(){return ts=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return as=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function us(){return us=cr(ur().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Ra(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ou((a=cs(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:os(ss(a.auth_time)),issuedAtTime:os(ss(a.iat)),expirationTime:os(ss(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function ss(e){return 1e3*Number(e)}function cs(e){var t=At(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Eu("JWT malformed, contained fewer than 3 sections"),null;try{var a=ua(r);return a?JSON.parse(a):(Eu("Failed to decode base64 JWT payload"),null)}catch(o){return Eu("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function ls(e,t){return fs.apply(this,arguments)}function fs(){return fs=cr(ur().mark((function e(t,n){var r=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ba&&hs(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),fs.apply(this,arguments)}function hs(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ds=function(){function e(t){Rt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Lt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(cr(ur().mark((function t(){return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ps=function(){function e(t,n){Rt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Lt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=os(this.lastLoginAt),this.creationTime=os(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function vs(e){return ys.apply(this,arguments)}function ys(){return ys=cr(ur().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ls(t,is(r,{idToken:i}));case 6:Ou(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ks(o.providerUserInfo):[],s=gs(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ps(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function ms(){return(ms=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ra(t),e.next=3,vs(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gs(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Dt(n),Dt(t))}function ks(e){return e.map((function(e){var t=e.providerId,n=uu(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function bs(e,t){return ws.apply(this,arguments)}function ws(){return ws=cr(ur().mark((function e(t,n){var r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hu(t,{},cr(ur().mark((function e(){var r,i,a,o,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ta({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ju(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Bu.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}var xs=function(){function e(){Rt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Lt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ou(e.idToken,"internal-error"),Ou("undefined"!==typeof e.idToken,"internal-error"),Ou("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=cs(e);return Ou(t,"internal-error"),Ou("undefined"!==typeof t.exp,"internal-error"),Ou("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=cr(ur().mark((function e(t){var n,r=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ou(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=cr(ur().mark((function e(t,n){var r,i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bs(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Du("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ou("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ou("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ou("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function _s(e,t){Ou("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ss=function(){function e(t){Rt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=uu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ds(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Dt(a.providerData):[],this.metadata=new ps(a.createdAt||void 0,a.lastLoginAt||void 0)}return Lt(e,[{key:"getIdToken",value:function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ls(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ou(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return us.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ms.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ou(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ou(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=cr(ur().mark((function e(t){var n,r,i=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,vs(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ls(this,es(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Ou(k&&_,t,"internal-error");var S=xs.fromJSON(this.name,_);Ou("string"===typeof k,t,"internal-error"),_s(f,t.name),_s(h,t.name),Ou("boolean"===typeof b,t,"internal-error"),Ou("boolean"===typeof w,t,"internal-error"),_s(d,t.name),_s(p,t.name),_s(v,t.name),_s(y,t.name),_s(m,t.name),_s(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=cr(ur().mark((function t(n,r){var i,a,o,u=arguments;return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new xs).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,vs(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Es=function(){function e(){Rt(this,e),this.type="NONE",this.storage={}}return Lt(e,[{key:"_isAvailable",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Es.type="NONE";var Is=Es;function Ts(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Cs=function(){function e(t,n,r){Rt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ts(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ts("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Lt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ss._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=cr(ur().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Lu(Is),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Lu(Is),u=Ts(i,n.config.apiKey,n.name),s=null,c=Gt(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Ss._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ns(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Rs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(As(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ls(t))return"Blackberry";if(Ms(t))return"Webos";if(Os(t))return"Safari";if((t.includes("chrome/")||Ds(t))&&!t.includes("edge/"))return"Chrome";if(Ps(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function As(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/firefox\//i.test(e)}function Os(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/crios\//i.test(e)}function Rs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/iemobile/i.test(e)}function Ps(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/android/i.test(e)}function Ls(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/blackberry/i.test(e)}function Ms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/webos/i.test(e)}function Fs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Us(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return Fs(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function js(){return da()&&10===document.documentMode}function Vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return Fs(e)||Ps(e)||Ms(e)||Ls(e)||/windows phone/i.test(e)||Rs(e)}function Bs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ns(ca());break;case"Worker":t="".concat(Ns(ca()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Co,"/").concat(r)}var qs=function(){function e(t){Rt(this,e),this.auth=t,this.queue=[]}return Lt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=cr(ur().mark((function e(t){var n,r,i,a,o,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Gt(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Gt(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(W){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),zs=function(){function e(t,n,r){Rt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ks(this),this.idTokenSubscription=new Ks(this),this.beforeStateQueue=new qs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_u,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Lt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Lu(t)),this._initializationPromise=this.queue(cr(ur().mark((function r(){var i,a;return ur().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Cs.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=cr(ur().mark((function e(t){var n,r,i,a,o,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ou(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vs(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ra(t):null)&&Ou(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=cr(ur().mark((function e(t){var n,r=this,i=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ou(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(cr(ur().mark((function n(){return ur().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Lu(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new wa("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=cr(ur().mark((function e(t,n){var r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ou(n=t&&Lu(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Cs.create(this,[Lu(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=cr(ur().mark((function e(t){var n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=cr(ur().mark((function e(t){var n=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ou(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ou(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bs(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=cr(ur().mark((function e(){var t,n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ne({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ws(e){return Ra(e)}var Ks=function(){function e(t){var n=this;Rt(this,e),this.auth=t,this.observer=null,this.addObserver=Aa((function(e){return n.observer=e}))}return Lt(e,[{key:"next",get:function(){return Ou(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Gs(e,t,n){var r=Ws(e);Ou(r._canInitEmulator,r,"emulator-config-failed"),Ou(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Hs(t),o=function(e){var t=Hs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Qs(r.substr(a.length+1))}}var o=At(r.split(":"),2);return{host:o[0],port:Qs(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Hs(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qs(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var $s=function(){function e(t,n){Rt(this,e),this.providerId=t,this.signInMethod=n}return Lt(e,[{key:"toJSON",value:function(){return Du("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Du("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Du("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Du("not implemented")}}]),e}();function Ys(e,t){return Js.apply(this,arguments)}function Js(){return Js=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,"POST","/v1/accounts:resetPassword",Wu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function Xs(e,t){return Zs.apply(this,arguments)}function Zs(){return Zs=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}function ec(e,t){return tc.apply(this,arguments)}function tc(){return tc=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,"POST","/v1/accounts:update",Wu(t,n)));case 1:case"end":return e.stop()}}),e)}))),tc.apply(this,arguments)}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithPassword",Wu(t,n)));case 1:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,"POST","/v1/accounts:sendOobCode",Wu(t,n)));case 1:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}function oc(e,t){return uc.apply(this,arguments)}function uc(){return uc=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ic(t,n));case 1:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function sc(e,t){return cc.apply(this,arguments)}function cc(){return cc=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ic(t,n));case 1:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}function lc(e,t){return fc.apply(this,arguments)}function fc(){return fc=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ic(t,n));case 1:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}function hc(e,t){return dc.apply(this,arguments)}function dc(){return dc=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ic(t,n));case 1:case"end":return e.stop()}}),e)}))),dc.apply(this,arguments)}function pc(e,t){return vc.apply(this,arguments)}function vc(){return vc=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithEmailLink",Wu(t,n)));case 1:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function yc(e,t){return mc.apply(this,arguments)}function mc(){return mc=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithEmailLink",Wu(t,n)));case 1:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}var gc=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Rt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Lt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",nc(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",pc(t,{email:this._email,oobCode:this._password}));case 5:Iu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Xs(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",yc(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Iu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}($s);function kc(e,t){return bc.apply(this,arguments)}function bc(){return bc=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithIdp",Wu(t,n)));case 1:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}var wc=function(e){Ft(n,e);var t=qt(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Lt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return kc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,kc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,kc(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ta(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Iu("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=uu(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}($s);function xc(e,t){return _c.apply(this,arguments)}function _c(){return _c=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,"POST","/v1/accounts:sendVerificationCode",Wu(t,n)));case 1:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function Sc(){return Sc=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithPhoneNumber",Wu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ec(){return Ec=cr(ur().mark((function e(t,n){var r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u(t,"POST","/v1/accounts:signInWithPhoneNumber",Wu(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Zu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}var Ic=Ne({},"USER_NOT_FOUND","user-not-found");function Tc(){return Tc=cr(ur().mark((function e(t,n){var r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithPhoneNumber",Wu(t,r),Ic));case 2:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}var Cc=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Rt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Lt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Sc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ec.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Tc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}($s);var Nc=function(){function e(t){var n,r,i,a,o,u;Rt(this,e);var s=Ca(Na(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ou(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Lt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ca(Na(e)).link,n=t?Ca(Na(t)).deep_link_id:null,r=Ca(Na(e)).deep_link_id;return(r?Ca(Na(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(FC){return null}}}]),e}();var Ac=function(){function e(){Rt(this,e),this.providerId=e.PROVIDER_ID}return Lt(e,null,[{key:"credential",value:function(e,t){return gc._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Nc.parseLink(t);return Ou(n,"argument-error"),gc._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ac.PROVIDER_ID="password",Ac.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ac.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Oc=function(){function e(t){Rt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Lt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Dc=function(e){Ft(n,e);var t=qt(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Lt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Dt(this.scopes)}}]),n}(Oc),Rc=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ou(e.idToken||e.accessToken,"argument-error"),wc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ou("providerId"in t&&"signInMethod"in t,"argument-error"),wc._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Dc),Pc=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.call(this,"facebook.com")}return Lt(n,null,[{key:"credential",value:function(e){return wc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(FC){return null}}}]),n}(Dc);Pc.FACEBOOK_SIGN_IN_METHOD="facebook.com",Pc.PROVIDER_ID="facebook.com";var Lc=function(e){Ft(n,e);var t=qt(n);function n(){var e;return Rt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Lt(n,null,[{key:"credential",value:function(e,t){return wc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(FC){return null}}}]),n}(Dc);Lc.GOOGLE_SIGN_IN_METHOD="google.com",Lc.PROVIDER_ID="google.com";var Mc=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.call(this,"github.com")}return Lt(n,null,[{key:"credential",value:function(e){return wc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(FC){return null}}}]),n}(Dc);Mc.GITHUB_SIGN_IN_METHOD="github.com",Mc.PROVIDER_ID="github.com";var Fc=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Lt(n,[{key:"_getIdTokenResponse",value:function(e){return kc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,kc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,kc(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}($s),Uc=function(e){Ft(n,e);var t=qt(n);function n(e){return Rt(this,n),Ou(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Lt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Fc.fromJSON(e);return Ou(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Fc._create(r,n)}catch(i){return null}}}]),n}(Oc),jc=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.call(this,"twitter.com")}return Lt(n,null,[{key:"credential",value:function(e,t){return wc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(FC){return null}}}]),n}(Dc);function Vc(e,t){return Bc.apply(this,arguments)}function Bc(){return Bc=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signUp",Wu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}jc.TWITTER_SIGN_IN_METHOD="twitter.com",jc.PROVIDER_ID="twitter.com";var qc=function(){function e(t){Rt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Lt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=cr(ur().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ss._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=zc(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=cr(ur().mark((function t(n,r,i){var a;return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=zc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function zc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Wc(){return Wc=cr(ur().mark((function e(t){var n,r,i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ws(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new qc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Vc(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,qc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}var Kc=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a){var o,u;return Rt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Vt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Lt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ba);function Gc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Kc._fromErrorAndOperation(e,n,t,r);throw n}))}function Hc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Qc(e,t){return $c.apply(this,arguments)}function $c(){return $c=cr(ur().mark((function e(t,n){var r,i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ra(t),e.next=3,Xc(!0,r,n);case 3:return e.t0=ns,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Hc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function Yc(e,t){return Jc.apply(this,arguments)}function Jc(){return Jc=cr(ur().mark((function e(t,n){var r,i,a=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ls,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",qc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Jc.apply(this,arguments)}function Xc(e,t,n){return Zc.apply(this,arguments)}function Zc(){return(Zc=cr(ur().mark((function e(t,n,r){var i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vs(n);case 2:i=Hc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ou(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(e,t){return tl.apply(this,arguments)}function tl(){return tl=cr(ur().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ls(t,Gc(i,a,n,t),r);case 6:return Ou((o=e.sent).idToken,i,"internal-error"),Ou(u=cs(o.idToken),i,"internal-error"),s=u.sub,Ou(t.uid===s,i,"user-mismatch"),e.abrupt("return",qc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Iu(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),tl.apply(this,arguments)}function nl(e,t){return rl.apply(this,arguments)}function rl(){return rl=cr(ur().mark((function e(t,n){var r,i,a,o,u=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Gc(t,i,n);case 4:return a=e.sent,e.next=7,qc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),rl.apply(this,arguments)}function il(e,t){return al.apply(this,arguments)}function al(){return al=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nl(Ws(t),n));case 1:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}function ol(e,t){return ul.apply(this,arguments)}function ul(){return(ul=cr(ur().mark((function e(t,n){var r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ra(t),e.next=3,Xc(!1,r,n.providerId);case 3:return e.abrupt("return",Yc(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sl(e,t){return cl.apply(this,arguments)}function cl(){return(cl=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",el(Ra(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ll(e,t){return fl.apply(this,arguments)}function fl(){return fl=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithCustomToken",Wu(t,n)));case 1:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}function hl(){return hl=cr(ur().mark((function e(t,n){var r,i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ws(t),e.next=3,ll(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,qc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),hl.apply(this,arguments)}var dl=function(){function e(t,n){Rt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Lt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?pl._fromServerResponse(e,t):Iu(e,"internal-error")}}]),e}(),pl=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Rt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Lt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(dl);function vl(e,t,n){var r;Ou((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ou("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ou(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ou(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function yl(){return yl=cr(ur().mark((function e(t,n,r){var i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ra(t),a={requestType:"PASSWORD_RESET",email:n},r&&vl(i,a,r),e.next=5,sc(i,a);case 5:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}function ml(){return ml=cr(ur().mark((function e(t,n,r){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ys(Ra(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}function gl(){return gl=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ec(Ra(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function kl(e,t){return bl.apply(this,arguments)}function bl(){return bl=cr(ur().mark((function e(t,n){var r,i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ra(t),e.next=3,Ys(r,{oobCode:n});case 3:i=e.sent,Ou(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ou(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ou(i.mfaInfo,r,"internal-error");case 13:Ou(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=dl._fromServerResponse(Ws(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function wl(){return wl=cr(ur().mark((function e(t,n){var r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kl(Ra(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),wl.apply(this,arguments)}function xl(e,t,n){return _l.apply(this,arguments)}function _l(){return _l=cr(ur().mark((function e(t,n,r){var i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ws(t),e.next=3,Vc(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,qc._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}function Sl(){return Sl=cr(ur().mark((function e(t,n,r){var i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ra(t),a={requestType:"EMAIL_SIGNIN",email:n},Ou(r.handleCodeInApp,i,"argument-error"),r&&vl(i,a,r),e.next=6,lc(i,a);case 6:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}function El(){return El=cr(ur().mark((function e(t,n,r){var i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ra(t),Ou((a=Ac.credentialWithLink(n,r||Mu()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",il(i,a));case 4:case"end":return e.stop()}}),e)}))),El.apply(this,arguments)}function Il(e,t){return Tl.apply(this,arguments)}function Tl(){return Tl=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,"POST","/v1/accounts:createAuthUri",Wu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Cl(){return Cl=cr(ur().mark((function e(t,n){var r,i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fu()?Mu():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Il(Ra(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Cl.apply(this,arguments)}function Nl(){return(Nl=cr(ur().mark((function e(t,n){var r,i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ra(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&vl(r.auth,a,n),e.next=8,oc(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Al(){return(Al=cr(ur().mark((function e(t,n,r){var i,a,o,u;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ra(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&vl(i.auth,o,r),e.next=8,hc(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ol(e,t){return Dl.apply(this,arguments)}function Dl(){return Dl=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Rl(){return(Rl=cr(ur().mark((function e(t,n){var r,i,a,o,u,s,c;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ra(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ls(a,Ol(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pl(e,t,n){return Ll.apply(this,arguments)}function Ll(){return Ll=cr(ur().mark((function e(t,n,r){var i,a,o,u;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ls(t,Xs(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}var Ml=Lt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Rt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Fl=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a){var o;return Rt(this,n),(o=t.call(this,e,r,i)).username=a,o}return Lt(n)}(Ml),Ul=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Rt(this,n),t.call(this,e,"facebook.com",r)}return Lt(n)}(Ml),jl=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Rt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Lt(n)}(Fl),Vl=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Rt(this,n),t.call(this,e,"google.com",r)}return Lt(n)}(Ml),Bl=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){return Rt(this,n),t.call(this,e,"twitter.com",r,i)}return Lt(n)}(Fl);function ql(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=cs(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ml(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ul(a,i);case"github.com":return new jl(a,i);case"google.com":return new Vl(a,i);case"twitter.com":return new Bl(a,i,e.screenName||null);case"custom":case"anonymous":return new Ml(a,null);default:return new Ml(a,r,i)}}(n)}var zl=function(){function e(t,n,r){Rt(this,e),this.type=t,this.credential=n,this.auth=r}return Lt(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ne({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Wl=function(){function e(t,n,r){Rt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Lt(e,[{key:"resolveSignIn",value:function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ws(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return dl._fromServerResponse(r,e)}));Ou(i.mfaPendingCredential,r,"internal-error");var o=zl._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=cr(ur().mark((function e(t){var a,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,qc._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ou(n.user,r,"internal-error"),e.abrupt("return",qc._forOperation(n.user,n.operationType,u));case 17:Iu(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Kl(e,t){return Ku(e,"POST","/v2/accounts/mfaEnrollment:start",Wu(e,t))}function Gl(e,t){return Ku(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Wu(e,t))}var Hl=function(){function e(t){var n=this;Rt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return dl._fromServerResponse(t.auth,e)})))}))}return Lt(e,[{key:"getSession",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=zl,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=cr(ur().mark((function e(t,n){var r,i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ls(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=cr(ur().mark((function e(t){var n,r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ls(this.user,Gl(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Ql=new WeakMap;var $l="__sak",Yl=function(){function e(t,n){Rt(this,e),this.storageRetriever=t,this.type=n}return Lt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem($l,"1"),this.storage.removeItem($l),Promise.resolve(!0)):Promise.resolve(!1)}catch(FC){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Jl=function(e){Ft(n,e);var t=qt(n);function n(){var e;return Rt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ca();return Os(e)||Fs(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Vs(),e._shouldAllowMigration=!0,e}return Lt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);js()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=cr(ur().mark((function e(t,r){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(Ut(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=cr(ur().mark((function e(t){var r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(Ut(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(Ut(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Yl);Jl.type="LOCAL";var Xl=Jl,Zl=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Lt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Yl);Zl.type="SESSION";var ef=Zl;function tf(e){return Promise.all(e.map(function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var nf=function(){function e(t){Rt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Lt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=cr(ur().mark((function e(t){var n,r,i,a,o,u,s,c;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,tf(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function rf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}nf.receivers=[];var af=function(){function e(t){Rt(this,e),this.target=t,this.handlers=new Set}return Lt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=cr(ur().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=rf("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function of(){return window}function uf(){return"undefined"!==typeof of().WorkerGlobalScope&&"function"===typeof of().importScripts}function sf(){return cf.apply(this,arguments)}function cf(){return(cf=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function lf(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ff="firebaseLocalStorageDb",hf="firebaseLocalStorage",df="fbase_key",pf=function(){function e(t){Rt(this,e),this.request=t}return Lt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function vf(e,t){return e.transaction([hf],t?"readwrite":"readonly").objectStore(hf)}function yf(){var e=indexedDB.deleteDatabase(ff);return new pf(e).toPromise()}function mf(){var e=indexedDB.open(ff,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(hf,{keyPath:df})}catch(r){n(r)}})),e.addEventListener("success",cr(ur().mark((function n(){var r;return ur().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(hf)){n.next=12;break}return r.close(),n.next=5,yf();case 5:return n.t0=t,n.next=8,mf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function gf(e,t,n){return kf.apply(this,arguments)}function kf(){return kf=cr(ur().mark((function e(t,n,r){var i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vf(t,!0).put((Ne(i={},df,n),Ne(i,"value",r),i)),e.abrupt("return",new pf(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}function bf(e,t){return wf.apply(this,arguments)}function wf(){return wf=cr(ur().mark((function e(t,n){var r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vf(t,!1).get(n),e.next=3,new pf(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),wf.apply(this,arguments)}function xf(e,t){var n=vf(e,!0).delete(t);return new pf(n).toPromise()}var _f=function(){function e(){Rt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Lt(e,[{key:"_openDb",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,mf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=cr(ur().mark((function e(t){var n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uf()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=cr(ur().mark((function e(){var t=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=nf._getInstance(uf()?self:null),this.receiver._subscribe("keyChanged",function(){var e=cr(ur().mark((function e(n,r){var i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=cr(ur().mark((function e(){var t,n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new af(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&lf()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,mf();case 5:return t=e.sent,e.next=8,gf(t,$l,"1");case 8:return e.next=10,xf(t,$l);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=cr(ur().mark((function e(t,n){var r=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return gf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return bf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=cr(ur().mark((function e(t){var n=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return xf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=cr(ur().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=vf(e,!1).getAll();return new pf(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Gt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(cr(ur().mark((function t(){return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();_f.type="LOCAL";var Sf=_f;function Ef(e,t){return Ku(e,"POST","/v2/accounts/mfaSignIn:start",Wu(e,t))}function If(e){return Tf.apply(this,arguments)}function Tf(){return Tf=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ku(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Tf.apply(this,arguments)}function Cf(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Tu("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Nf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Af=1e12,Of=function(){function e(t){Rt(this,e),this.auth=t,this.counter=Af,this._widgets=new Map}return Lt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Df(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Af;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Af;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=cr(ur().mark((function e(t){var n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Af,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Df=function(){function e(t,n,r){var i=this;Rt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ou(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Lt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Rf=Nf("rcb"),Pf=new ju(3e4,6e4),Lf="https://www.google.com/recaptcha/api.js?",Mf=function(){function e(){var t;Rt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=of().grecaptcha)||void 0===t?void 0:t.render)}return Lt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ou(Ff(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(of().grecaptcha):new Promise((function(r,i){var a=of().setTimeout((function(){i(Tu(e,"network-request-failed"))}),Pf.get());of()[Rf]=function(){of().clearTimeout(a),delete of()[Rf];var o=of().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Tu(e,"internal-error"))},Cf("".concat(Lf,"?").concat(Ta({onload:Rf,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Tu(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=of().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ff(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Uf=function(){function e(){Rt(this,e)}return Lt(e,[{key:"load",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Of(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),jf="recaptcha",Vf={theme:"light",type:"image"},Bf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Vf),r=arguments.length>2?arguments[2]:void 0;Rt(this,e),this.parameters=n,this.type=jf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ws(r),this.isInvisible="invisible"===this.parameters.size,Ou("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ou(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Uf:new Mf,this.validateStartingState()}return Lt(e,[{key:"verify",value:function(){var e=cr(ur().mark((function e(){var t,n,r,i=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ou(!this.parameters.sitekey,this.auth,"argument-error"),Ou(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ou("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=of()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ou(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=cr(ur().mark((function e(){var t,n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ou(Fu()&&!uf(),this.auth,"internal-error"),e.next=3,qf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,If(this.auth);case 8:Ou(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ou(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function qf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var zf=function(){function e(t,n){Rt(this,e),this.verificationId=t,this.onConfirmation=n}return Lt(e,[{key:"confirm",value:function(e){var t=Cc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Wf(){return Wf=cr(ur().mark((function e(t,n,r){var i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ws(t),e.next=3,Qf(i,n,Ra(r));case 3:return a=e.sent,e.abrupt("return",new zf(a,(function(e){return il(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}function Kf(e,t,n){return Gf.apply(this,arguments)}function Gf(){return(Gf=cr(ur().mark((function e(t,n,r){var i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ra(t),e.next=3,Xc(!1,i,"phone");case 3:return e.next=5,Qf(i.auth,n,Ra(r));case 5:return a=e.sent,e.abrupt("return",new zf(a,(function(e){return ol(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hf(){return(Hf=cr(ur().mark((function e(t,n,r){var i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ra(t),e.next=3,Qf(i.auth,n,Ra(r));case 3:return a=e.sent,e.abrupt("return",new zf(a,(function(e){return sl(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qf(e,t,n){return $f.apply(this,arguments)}function $f(){return $f=cr(ur().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ou("string"===typeof a,t,"argument-error"),Ou(r.type===jf,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ou("enroll"===u.type,t,"internal-error"),e.next=13,Kl(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ou("signin"===u.type,t,"internal-error"),Ou(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ef(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,xc(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),$f.apply(this,arguments)}function Yf(){return(Yf=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yc(Ra(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jf=function(){function e(t){Rt(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ws(t)}return Lt(e,[{key:"verifyPhoneNumber",value:function(e,t){return Qf(this.auth,e,Ra(t))}}],[{key:"credential",value:function(e,t){return Cc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Cc._fromTokenResponse(n,r):null}}]),e}();function Xf(e,t){return t?Lu(t):(Ou(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Jf.PROVIDER_ID="phone",Jf.PHONE_SIGN_IN_METHOD="phone";var Zf=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Rt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Lt(n,[{key:"_getIdTokenResponse",value:function(e){return kc(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return kc(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return kc(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}($s);function eh(e){return nl(e.auth,new Zf(e),e.bypassAuthState)}function th(e){var t=e.auth,n=e.user;return Ou(n,t,"internal-error"),el(n,new Zf(e),e.bypassAuthState)}function nh(e){return rh.apply(this,arguments)}function rh(){return rh=cr(ur().mark((function e(t){var n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ou(r=t.user,n,"internal-error"),e.abrupt("return",Yc(r,new Zf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),rh.apply(this,arguments)}var ih=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Rt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Lt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=cr(ur().mark((function t(n,r){return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=cr(ur().mark((function e(t){var n,r,i,a,o,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eh;case"linkViaPopup":case"linkViaRedirect":return nh;case"reauthViaPopup":case"reauthViaRedirect":return th;default:Iu(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ru(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ru(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ah=new ju(2e3,1e4);function oh(e,t,n){return uh.apply(this,arguments)}function uh(){return uh=cr(ur().mark((function e(t,n,r){var i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ws(t),Nu(t,n,Oc),a=Xf(i,r),o=new fh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function sh(){return(sh=cr(ur().mark((function e(t,n,r){var i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nu((i=Ra(t)).auth,n,Oc),a=Xf(i.auth,r),o=new fh(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ch(e,t,n){return lh.apply(this,arguments)}function lh(){return(lh=cr(ur().mark((function e(t,n,r){var i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nu((i=Ra(t)).auth,n,Oc),a=Xf(i.auth,r),o=new fh(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fh=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a,o){var u;return Rt(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Vt(u),u}return Lt(n,[{key:"executeNotNull",value:function(){var e=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ou(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=cr(ur().mark((function e(){var t,n=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ru(1===this.filter.length,"Popup operations only handle one event"),t=rf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Tu(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Tu(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Tu(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ah.get())}()}}]),n}(ih);fh.currentPopupAction=null;var hh=new Map,dh=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Rt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Lt(n,[{key:"execute",value:function(){var e=cr(ur().mark((function e(){var t,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=hh.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ph(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ou(Ut(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:hh.set(this.auth._key(),t);case 21:return this.bypassAuthState||hh.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=cr(ur().mark((function e(t){var r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ou(Ut(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ou(Ut(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ih);function ph(e,t){return vh.apply(this,arguments)}function vh(){return vh=cr(ur().mark((function e(t,n){var r,i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bh(n),i=kh(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),vh.apply(this,arguments)}function yh(e,t){return mh.apply(this,arguments)}function mh(){return mh=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kh(t)._set(bh(n),"true"));case 1:case"end":return e.stop()}}),e)}))),mh.apply(this,arguments)}function gh(e,t){hh.set(e._key(),t)}function kh(e){return Lu(e._redirectPersistence)}function bh(e){return Ts("pendingRedirect",e.config.apiKey,e.name)}function wh(e,t,n){return function(e,t,n){return xh.apply(this,arguments)}(e,t,n)}function xh(){return xh=cr(ur().mark((function e(t,n,r){var i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ws(t),Nu(t,n,Oc),a=Xf(i,r),e.next=5,yh(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}function _h(e,t,n){return function(e,t,n){return Sh.apply(this,arguments)}(e,t,n)}function Sh(){return(Sh=cr(ur().mark((function e(t,n,r){var i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nu((i=Ra(t)).auth,n,Oc),a=Xf(i.auth,r),e.next=5,yh(a,i.auth);case 5:return e.next=7,Oh(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eh(e,t,n){return function(e,t,n){return Ih.apply(this,arguments)}(e,t,n)}function Ih(){return(Ih=cr(ur().mark((function e(t,n,r){var i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nu((i=Ra(t)).auth,n,Oc),a=Xf(i.auth,r),e.next=5,Xc(!1,i,n.providerId);case 5:return e.next=7,yh(a,i.auth);case 7:return e.next=9,Oh(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Th(e,t){return Ch.apply(this,arguments)}function Ch(){return Ch=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ws(t)._initializationPromise;case 2:return e.abrupt("return",Nh(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Ch.apply(this,arguments)}function Nh(e,t){return Ah.apply(this,arguments)}function Ah(){return Ah=cr(ur().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ws(t),a=Xf(i,n),o=new dh(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Ah.apply(this,arguments)}function Oh(e){return Dh.apply(this,arguments)}function Dh(){return(Dh=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rf("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rh=function(){function e(t){Rt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Lt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Lh(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Tu(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ph(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ph(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ph(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Lh(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Mh(e){return Fh.apply(this,arguments)}function Fh(){return Fh=cr(ur().mark((function e(t){var n,r=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ku(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Fh.apply(this,arguments)}var Uh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jh=/^https?/;function Vh(){return Vh=cr(ur().mark((function e(t){var n,r,i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Mh(t);case 4:n=e.sent,r=n.authorizedDomains,i=Gt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Bh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Iu(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Vh.apply(this,arguments)}function Bh(e){var t=Mu(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!jh.test(r))return!1;if(Uh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var qh=new ju(3e4,6e4);function zh(){var e=of().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Dt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Wh=null;function Kh(e){return Wh=Wh||function(e){return new Promise((function(t,n){var r,i,a;function o(){zh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){zh(),n(Tu(e,"network-request-failed"))},timeout:qh.get()})}if(null===(i=null===(r=of().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=of().gapi)||void 0===a?void 0:a.load)){var u=Nf("iframefcb");return of()[u]=function(){gapi.load?o():n(Tu(e,"network-request-failed"))},Cf("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Wh=null,e}))}(e),Wh}var Gh=new ju(5e3,15e3),Hh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $h(e){var t=e.config;Ou(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Vu(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Co},i=Qh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ta(r).slice(1))}function Yh(e){return Jh.apply(this,arguments)}function Jh(){return Jh=cr(ur().mark((function e(t){var n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kh(t);case 2:return n=e.sent,Ou(r=of().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:$h(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hh,dontclear:!0},(function(e){return new Promise(function(){var n=cr(ur().mark((function n(r,i){var a,o,u;return ur().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){of().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Tu(t,"network-request-failed"),o=of().setTimeout((function(){i(a)}),Gh.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Jh.apply(this,arguments)}var Xh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zh="_blank",ed="http://localhost",td=function(){function e(t){Rt(this,e),this.window=t,this.associatedEvent=null}return Lt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function nd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Xh),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ca().toLowerCase();n&&(u=Ds(c)?Zh:n),As(c)&&(t=t||ed,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=At(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Us(c)&&"_self"!==u)return rd(t||"",u),new td(null);var f=window.open(t||"",u,l);Ou(f,e,"popup-blocked");try{f.focus()}catch(h){}return new td(f)}function rd(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var id="__/auth/handler",ad="emulator/auth/handler";function od(e,t,n,r,i,a){Ou(e.config.authDomain,e,"auth-domain-config-required"),Ou(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Co,eventId:i};if(t instanceof Oc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=At(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Dc){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(id);return Vu(t,ad)}(e),"?").concat(Ta(d).slice(1))}var ud="webStorageSupport",sd=function(){function e(){Rt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ef,this._completeRedirectFn=Nh,this._overrideRedirectResult=gh}return Lt(e,[{key:"_openPopup",value:function(){var e=cr(ur().mark((function e(t,n,r,i){var a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ru(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=od(t,n,r,Mu(),i),e.abrupt("return",nd(t,o,rf()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=cr(ur().mark((function e(t,n,r,i){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=od(t,n,r,Mu(),i),of().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ru(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=cr(ur().mark((function e(t){var n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yh(t);case 2:return n=e.sent,r=new Rh(t),n.register("authEvent",(function(e){return Ou(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ud,{type:ud},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ud];void 0!==i&&t(!!i),Iu(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Vh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Vs()||Os()||Fs()}}]),e}(),cd=sd,ld=function(){function e(t){Rt(this,e),this.factorId=t}return Lt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Du("unexpected MultiFactorSessionType")}}}]),e}(),fd=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Rt(this,n),(r=t.call(this,"phone")).credential=e,r}return Lt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ku(e,"POST","/v2/accounts/mfaEnrollment:finalize",Wu(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ku(e,"POST","/v2/accounts/mfaSignIn:finalize",Wu(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ld),hd=function(){function e(){Rt(this,e)}return Lt(e,null,[{key:"assertion",value:function(e){return fd._fromCredential(e)}}]),e}();hd.FACTOR_ID="phone";var dd="@firebase/auth",pd="0.21.0",vd=function(){function e(t){Rt(this,e),this.auth=t,this.internalListeners=new Map}return Lt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ou(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var yd;!function(e){var t;null===(t=ya())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function md(){return window}yd="Browser",wo(new Pa("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Ou(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Ou(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:yd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bs(yd)},i=new zs(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),wo(new Pa("auth-internal",(function(e){return function(e){return new vd(e)}(Ws(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Po(dd,pd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(yd)),Po(dd,pd,"esm2017");function gd(e,t,n){return kd.apply(this,arguments)}function kd(){return kd=cr(ur().mark((function e(t,n,r){var i,a,o,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=md(),o=a.BuildInfo,Ru(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Ed(n.sessionId);case 4:return u=e.sent,s={},Fs()?s.ibi=o.packageName:Ps()?s.apn=o.packageName:Iu(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",od(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}function bd(){return bd=cr(ur().mark((function e(t){var n,r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=md(),r=n.BuildInfo,i={},Fs()?i.iosBundleId=r.packageName:Ps()?i.androidPackageName=r.packageName:Iu(t,"operation-not-supported-in-this-environment"),e.next=5,Mh(t,i);case 5:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}function wd(e){var t=md().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function xd(e,t,n){return _d.apply(this,arguments)}function _d(){return _d=cr(ur().mark((function e(t,n,r){var i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=md(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Tu(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ps()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),_d.apply(this,arguments)}function Sd(e){var t,n,r,i,a,o,u,s,c,l,f=md();Ou("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ou("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ou("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ou("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ou("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Ed(e){return Id.apply(this,arguments)}function Id(){return(Id=cr(ur().mark((function e(t){var n,r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Td(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Td(e){if(Ru(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Cd=function(e){Ft(n,e);var t=qt(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Lt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ou(Ut(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Rh);function Nd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Pd(),postBody:null,tenantId:e.tenantId,error:Tu(e,"no-auth-event")}}function Ad(e,t){return Ld()._set(Md(e),t)}function Od(e){return Dd.apply(this,arguments)}function Dd(){return Dd=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld()._get(Md(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Ld()._remove(Md(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Dd.apply(this,arguments)}function Rd(e,t){var n,r,i=function(e){var t=Fd(e),n=t.link?decodeURIComponent(t.link):void 0,r=Fd(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Fd(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Fd(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Tu(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Pd(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Ld(){return Lu(Xl)}function Md(e){return Ts("authEvent",e.config.apiKey,e.name)}function Fd(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=Kt(e.split("?"));t[0];return Ca(t.slice(1).join("?"))}var Ud=function(){function e(){Rt(this,e),this._redirectPersistence=ef,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Nh,this._overrideRedirectResult=gh}return Lt(e,[{key:"_initialize",value:function(){var e=cr(ur().mark((function e(t){var n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Cd(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Iu(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=cr(ur().mark((function e(t,n,r,i){var a,o,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sd(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),hh.clear(),e.next=10,this._originValidation(t);case 10:return o=Nd(t,r,i),e.next=13,Ad(t,o);case 13:return e.next=15,gd(t,o,n);case 15:return u=e.sent,e.next=18,wd(u);case 18:return s=e.sent,e.abrupt("return",xd(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return bd.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=md(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(cr(ur().mark((function n(){return ur().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Od(e);case 2:t.onEvent(Vd());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=cr(ur().mark((function n(r){var i,a;return ur().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Od(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Rd(i,r.url)),t.onEvent(a||Vd());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");md().handleOpenURL=function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),jd=Ud;function Vd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Tu("no-auth-event")}}function Bd(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function qd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return!("file:"!==Bd()&&"ionic:"!==Bd()&&"capacitor:"!==Bd()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function zd(){return da()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Wd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/Edge\/\d+/.test(e)}function Kd(){try{var e=self.localStorage,t=rf();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return zd()||Wd(e)}()||pa()}catch(n){return Gd()&&pa()}return!1}function Gd(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Hd(){return("http:"===Bd()||"https:"===Bd()||fa()||qd())&&!(ha()||la())&&Kd()&&!Gd()}function Qd(){return qd()&&"undefined"!==typeof document}function $d(){return Yd.apply(this,arguments)}function Yd(){return(Yd=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qd()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jd={LOCAL:"local",NONE:"none",SESSION:"session"},Xd=Ou,Zd="persistence";function ep(e,t){Xd(Object.values(Jd).includes(t),e,"invalid-persistence-type"),ha()?Xd(t!==Jd.SESSION,e,"unsupported-persistence-type"):la()?Xd(t===Jd.NONE,e,"unsupported-persistence-type"):Gd()?Xd(t===Jd.NONE||t===Jd.LOCAL&&pa(),e,"unsupported-persistence-type"):Xd(t===Jd.NONE||Kd(),e,"unsupported-persistence-type")}function tp(e){return np.apply(this,arguments)}function np(){return np=cr(ur().mark((function e(t){var n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=rp(),r=Ts(Zd,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),np.apply(this,arguments)}function rp(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var ip=Ou,ap=function(){function e(){Rt(this,e),this.browserResolver=Lu(cd),this.cordovaResolver=Lu(jd),this.underlyingResolver=null,this._redirectPersistence=ef,this._completeRedirectFn=Nh,this._overrideRedirectResult=gh}return Lt(e,[{key:"_initialize",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=cr(ur().mark((function e(t,n,r,i){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=cr(ur().mark((function e(t,n,r,i){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Qd()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ip(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$d();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function op(e){return e.unwrap()}function up(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new hp(e,function(e,t){var n,r=Ra(e),i=t;return Ou(t.customData.operationType,r,"argument-error"),Ou(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Wl._fromError(r,i)}(e,t));else if(r){var i=sp(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function sp(e){var t=(e instanceof ba?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ba)&&"temporaryProof"in t&&"phoneNumber"in t)return Jf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===hu)return null;switch(r){case fu:n=Lc;break;case cu:n=Pc;break;case lu:n=Mc;break;case du:n=jc;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Fc._create(r,u):wc._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Rc(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ba?n.credentialFromError(e):n.credentialFromResult(e)}function cp(e,t){return t.catch((function(t){throw t instanceof ba&&up(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,sp(t)),additionalUserInfo:ql(e),user:dp.getOrCreate(r)}}))}function lp(e,t){return fp.apply(this,arguments)}function fp(){return fp=cr(ur().mark((function e(t,n){var r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return cp(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),fp.apply(this,arguments)}var hp=function(){function e(t,n){Rt(this,e),this.resolver=n,this.auth=t.wrapped()}return Lt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return cp(op(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),dp=function(){function e(t){Rt(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ra(e);return Ql.has(t)||Ql.set(t,Hl._fromUser(t)),Ql.get(t)}(t)}return Lt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cp(this.auth,ol(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lp(this.auth,Kf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cp(this.auth,ch(this._delegate,t,ap)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tp(Ws(this.auth));case 2:return e.abrupt("return",Eh(this._delegate,t,ap));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cp(this.auth,sl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return lp(this.auth,function(e,t,n){return Hf.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return cp(this.auth,function(e,t,n){return sh.apply(this,arguments)}(this._delegate,e,ap))}},{key:"reauthenticateWithRedirect",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tp(Ws(this.auth));case 2:return e.abrupt("return",_h(this._delegate,t,ap));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Nl.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Pl(Ra(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Pl(Ra(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Yf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Rl.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Al.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();dp.USER_MAP=new WeakMap;var pp=Ou,vp=function(){function e(t,n){if(Rt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;pp(r,"invalid-api-key",{appName:t.name}),pp(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?ap:void 0;this._delegate=n.initialize({options:{persistence:mp(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(wu),this.linkUnderlyingAuth()}return Lt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?dp.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Gs(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return gl.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return kl(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ml.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cp(this._delegate,xl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Cl.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Nc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pp(Hd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Th(this._delegate,ap);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",cp(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ws(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=yp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=yp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Sl.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return yl.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=cr(ur().mark((function e(t){var n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ep(this._delegate,t),e.t0=t,e.next=e.t0===Jd.SESSION?4:e.t0===Jd.LOCAL?6:e.t0===Jd.NONE?11:13;break;case 4:return n=ef,e.abrupt("break",14);case 6:return e.next=8,Lu(Sf)._isAvailable();case 8:return r=e.sent,n=r?Sf:Xl,e.abrupt("break",14);case 11:return n=Is,e.abrupt("break",14);case 13:return e.abrupt("return",Iu("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return cp(this._delegate,function(e){return Wc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return cp(this._delegate,il(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return cp(this._delegate,function(e,t){return hl.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return cp(this._delegate,function(e,t,n){return il(Ra(e),Ac.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return cp(this._delegate,function(e,t,n){return El.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return lp(this._delegate,function(e,t,n){return Wf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pp(Hd(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",cp(this._delegate,oh(this._delegate,t,ap)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pp(Hd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,tp(this._delegate);case 3:return e.abrupt("return",wh(this._delegate,t,ap));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return wl.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function yp(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&dp.getOrCreate(e))},error:t,complete:n}}function mp(e,t){var n=function(e,t){var n=rp();if(!n)return[];var r=Ts(Zd,e,t);switch(n.getItem(r)){case Jd.NONE:return[Is];case Jd.LOCAL:return[Sf,ef];case Jd.SESSION:return[ef];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Sf)||n.push(Sf),"undefined"!==typeof window)for(var r=0,i=[Xl,ef];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Is)||n.push(Is),n}vp.Persistence=Jd;var gp=function(){function e(){Rt(this,e),this.providerId="phone",this._delegate=new Jf(op(iu.auth()))}return Lt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Jf.credential(e,t)}}]),e}();gp.PHONE_SIGN_IN_METHOD=Jf.PHONE_SIGN_IN_METHOD,gp.PROVIDER_ID=Jf.PROVIDER_ID;var kp=Ou,bp=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iu.app();Rt(this,e),kp(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Bf(t,n,i.auth()),this.type=this._delegate.type}return Lt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Pa("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new vp(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pu,PASSWORD_RESET:vu,RECOVER_EMAIL:yu,REVERT_SECOND_FACTOR_ADDITION:mu,VERIFY_AND_CHANGE_EMAIL:gu,VERIFY_EMAIL:ku}},EmailAuthProvider:Ac,FacebookAuthProvider:Pc,GithubAuthProvider:Mc,GoogleAuthProvider:Lc,OAuthProvider:Rc,SAMLAuthProvider:Uc,PhoneAuthProvider:gp,PhoneMultiFactorGenerator:hd,RecaptchaVerifier:bp,TwitterAuthProvider:jc,Auth:vp,AuthCredential:$s,Error:ba}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.3.0")}(iu);var wp,xp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},_p={},Sp=Sp||{},Ep=xp||self;function Ip(){}function Tp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Cp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Np="closure_uid_"+(1e9*Math.random()>>>0),Ap=0;function Op(e,t,n){return e.call.apply(e.bind,arguments)}function Dp(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Rp(e,t,n){return(Rp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Op:Dp).apply(null,arguments)}function Pp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Lp(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Mp(){this.s=this.s,this.o=this.o}Mp.prototype.s=!1,Mp.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Np)&&e[Np]||(e[Np]=++Ap)}(this)},Mp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Fp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Up(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function jp(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Tp(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Vp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Vp.prototype.h=function(){this.defaultPrevented=!0};var Bp=function(){if(!Ep.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ep.addEventListener("test",Ip,t),Ep.removeEventListener("test",Ip,t)}catch(P){}return e}();function qp(e){return/^[\s\xa0]*$/.test(e)}var zp=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Wp(e,t){return e<t?-1:e>t?1:0}function Kp(){var e=Ep.navigator;return e&&(e=e.userAgent)?e:""}function Gp(e){return-1!=Kp().indexOf(e)}function Hp(e){return Hp[" "](e),e}Hp[" "]=Ip;var Qp,$p=Gp("Opera"),Yp=Gp("Trident")||Gp("MSIE"),Jp=Gp("Edge"),Xp=Jp||Yp,Zp=Gp("Gecko")&&!(-1!=Kp().toLowerCase().indexOf("webkit")&&!Gp("Edge"))&&!(Gp("Trident")||Gp("MSIE"))&&!Gp("Edge"),ev=-1!=Kp().toLowerCase().indexOf("webkit")&&!Gp("Edge");function tv(){var e=Ep.document;return e?e.documentMode:void 0}e:{var nv="",rv=function(){var e=Kp();return Zp?/rv:([^\);]+)(\)|;)/.exec(e):Jp?/Edge\/([\d\.]+)/.exec(e):Yp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ev?/WebKit\/(\S+)/.exec(e):$p?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(rv&&(nv=rv?rv[1]:""),Yp){var iv=tv();if(null!=iv&&iv>parseFloat(nv)){Qp=String(iv);break e}}Qp=nv}var av,ov={};function uv(){return function(e){var t=ov;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=zp(String(Qp)).split("."),n=zp("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Wp(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Wp(0==a[2].length,0==o[2].length)||Wp(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ep.document&&Yp){var sv=tv();av=sv||(parseInt(Qp,10)||void 0)}else av=void 0;var cv=av;function lv(e,t){if(Vp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Zp){e:{try{Hp(t.nodeName);var i=!0;break e}catch(R){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:fv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&lv.X.h.call(this)}}Lp(lv,Vp);var fv={2:"touch",3:"pen",4:"mouse"};lv.prototype.h=function(){lv.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hv="closure_listenable_"+(1e6*Math.random()|0),dv=0;function pv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++dv,this.ba=this.ea=!1}function vv(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function yv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function mv(e){var t={};for(var n in e)t[n]=e[n];return t}var gv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kv(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<gv.length;a++)n=gv[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bv(e){this.src=e,this.g={},this.h=0}function wv(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Fp(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(vv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function xv(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}bv.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=xv(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new pv(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var _v="closure_lm_"+(1e6*Math.random()|0),Sv={};function Ev(e,t,n,r,i){if(r&&r.once)return Tv(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ev(e,t[a],n,r,i);return null}return n=Pv(n),e&&e[hv]?e.N(t,n,Cp(r)?!!r.capture:!!r,i):Iv(e,t,n,!1,r,i)}function Iv(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Cp(i)?!!i.capture:!!i,u=Dv(e);if(u||(e[_v]=u=new bv(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ov;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Bp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Av(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Tv(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Tv(e,t[a],n,r,i);return null}return n=Pv(n),e&&e[hv]?e.O(t,n,Cp(r)?!!r.capture:!!r,i):Iv(e,t,n,!0,r,i)}function Cv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Cv(e,t[a],n,r,i);else r=Cp(r)?!!r.capture:!!r,n=Pv(n),e&&e[hv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=xv(a=e.g[t],n,r,i))&&(vv(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Dv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=xv(t,n,r,i)),(n=-1<e?t[e]:null)&&Nv(n))}function Nv(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[hv])wv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Av(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Dv(t))?(wv(n,e),0==n.h&&(n.src=null,t[_v]=null)):vv(e)}}}function Av(e){return e in Sv?Sv[e]:Sv[e]="on"+e}function Ov(e,t){if(e.ba)e=!0;else{t=new lv(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Nv(e),e=n.call(r,t)}return e}function Dv(e){return(e=e[_v])instanceof bv?e:null}var Rv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pv(e){return"function"===typeof e?e:(e[Rv]||(e[Rv]=function(t){return e.handleEvent(t)}),e[Rv])}function Lv(){Mp.call(this),this.i=new bv(this),this.P=this,this.I=null}function Mv(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Vp(t,e);else if(t instanceof Vp)t.target=t.target||e;else{var i=t;kv(t=new Vp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Fv(o,r,!0,t)&&i}if(i=Fv(o=t.g=e,r,!0,t)&&i,i=Fv(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Fv(o=t.g=n[a],r,!1,t)&&i}function Fv(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&wv(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Lp(Lv,Mp),Lv.prototype[hv]=!0,Lv.prototype.removeEventListener=function(e,t,n,r){Cv(this,e,t,n,r)},Lv.prototype.M=function(){if(Lv.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vv(n[r]);delete t.g[e],t.h--}}this.I=null},Lv.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Lv.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Uv=Ep.JSON.stringify;function jv(){var e=Hv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Vv,Bv=function(){function e(){Rt(this,e),this.h=this.g=null}return Lt(e,[{key:"add",value:function(e,t){var n=qv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),qv=new(function(){function e(t,n){Rt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Lt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new zv}),(function(e){return e.reset()})),zv=function(){function e(){Rt(this,e),this.next=this.g=this.h=null}return Lt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Wv(e){Ep.setTimeout((function(){throw e}),0)}function Kv(e,t){Vv||function(){var e=Ep.Promise.resolve(void 0);Vv=function(){e.then(Qv)}}(),Gv||(Vv(),Gv=!0),Hv.add(e,t)}var Gv=!1,Hv=new Bv;function Qv(){for(var e;e=jv();){try{e.h.call(e.g)}catch(P){Wv(P)}var t=qv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Gv=!1}function $v(e,t){Lv.call(this),this.h=e||1,this.g=t||Ep,this.j=Rp(this.lb,this),this.l=Date.now()}function Yv(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Jv(e,t,n){if("function"===typeof e)n&&(e=Rp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Rp(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ep.setTimeout(e,t||0)}function Xv(e){e.g=Jv((function(){e.g=null,e.i&&(e.i=!1,Xv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Lp($v,Lv),(wp=$v.prototype).ca=!1,wp.R=null,wp.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Mv(this,"tick"),this.ca&&(Yv(this),this.start()))}},wp.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wp.M=function(){$v.X.M.call(this),Yv(this),delete this.g};var Zv=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Lt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Xv(this)}},{key:"M",value:function(){ou(Ut(n.prototype),"M",this).call(this),this.g&&(Ep.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Mp);function ey(e){Mp.call(this),this.h=e,this.g={}}Lp(ey,Mp);var ty=[];function ny(e,t,n,r){Array.isArray(n)||(n&&(ty[0]=n.toString()),n=ty);for(var i=0;i<n.length;i++){var a=Ev(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ry(e){yv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Nv(e)}),e),e.g={}}function iy(){this.g=!0}function ay(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Uv(n)}catch(I){return t}}(e,n)+(r?" "+r:"")}))}ey.prototype.M=function(){ey.X.M.call(this),ry(this)},ey.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},iy.prototype.Aa=function(){this.g=!1},iy.prototype.info=function(){};var oy={},uy=null;function sy(){return uy=uy||new Lv}function cy(e){Vp.call(this,oy.Pa,e)}function ly(e){var t=sy();Mv(t,new cy(t))}function fy(e,t){Vp.call(this,oy.STAT_EVENT,e),this.stat=t}function hy(e){var t=sy();Mv(t,new fy(t,e))}function dy(e,t){Vp.call(this,oy.Qa,e),this.size=t}function py(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ep.setTimeout((function(){e()}),t)}oy.Pa="serverreachability",Lp(cy,Vp),oy.STAT_EVENT="statevent",Lp(fy,Vp),oy.Qa="timingevent",Lp(dy,Vp);var vy={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},yy={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function my(){}function gy(e){return e.h||(e.h=e.i())}function ky(){}my.prototype.h=null;var by,wy={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function xy(){Vp.call(this,"d")}function _y(){Vp.call(this,"c")}function Sy(){}function Ey(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new ey(this),this.O=Ty,e=Xp?125:void 0,this.T=new $v(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Iy}function Iy(){this.i=null,this.g="",this.h=!1}Lp(xy,Vp),Lp(_y,Vp),Lp(Sy,my),Sy.prototype.g=function(){return new XMLHttpRequest},Sy.prototype.i=function(){return{}},by=new Sy;var Ty=45e3,Cy={},Ny={};function Ay(e,t,n){e.K=1,e.v=$y(Wy(t)),e.s=n,e.P=!0,Oy(e,null)}function Oy(e,t){e.F=Date.now(),Ly(e),e.A=Wy(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),sm(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Iy,e.g=sg(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Zv(Rp(e.La,e,e.g),e.N)),ny(e.S,e.g,"readystatechange",e.ib),t=e.H?mv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),ly(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Dy(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Ry(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Py(e,n))==Ny){4==t&&(e.o=4,hy(14),i=!1),ay(e.j,e.m,null,"[Incomplete Response]");break}if(r==Cy){e.o=4,hy(15),ay(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ay(e.j,e.m,r,null),Vy(e,r)}Dy(e)&&r!=Ny&&r!=Cy&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,hy(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),eg(t),t.K=!0,hy(11))):(ay(e.j,e.m,n,"[Invalid Chunked Response]"),jy(e),Uy(e))}function Py(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ny:(n=Number(t.substring(n,r)),isNaN(n)?Cy:(r+=1)+n>t.length?Ny:(t=t.substr(r,n),e.C=r+n,t))}function Ly(e){e.V=Date.now()+e.O,My(e,e.O)}function My(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=py(Rp(e.gb,e),t)}function Fy(e){e.B&&(Ep.clearTimeout(e.B),e.B=null)}function Uy(e){0==e.l.G||e.I||rg(e.l,e)}function jy(e){Fy(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Yv(e.T),ry(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Vy(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||vm(n.h,e)))if(!e.J&&vm(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ng(n),Gm(n)}Zm(n),hy(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=py(Rp(n.cb,n),6e3));if(1>=pm(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else ag(n,11)}else if((e.J||n.g==e)&&ng(n),!qp(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(ym(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Qy(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=ug(r,r.H?r.ka:null,r.V),d.J){mm(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Fy(p),Ly(p)),r.g=d}else Xm(r);0<n.i.length&&Qm(n)}else"stop"!=a[0]&&"close"!=a[0]||ag(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ag(n,7):Km(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}ly()}catch(a){}}function By(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Tp(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Tp(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Tp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(wp=Ey.prototype).setTimeout=function(e){this.O=e},wp.ib=function(e){e=e.target;var t=this.L;t&&3==jm(e)?t.l():this.La(e)},wp.La=function(e){try{if(e==this.g)e:{var t=jm(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Xp||this.g&&(this.h.h||this.g.fa()||Vm(this.g)))){this.I||4!=t||7==n||ly(),Fy(this);var r=this.g.aa();this.Y=r;t:if(Dy(this)){var i=Vm(this.g);e="";var a=i.length,o=4==jm(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){jy(this),Uy(this);var u="";break t}this.h.i=new Ep.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qp(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,hy(12),jy(this),Uy(this);break e}ay(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vy(this,r)}this.P?(Ry(this,t,u),Xp&&this.i&&3==t&&(ny(this.S,this.T,"tick",this.hb),this.T.start())):(ay(this.j,this.m,u,null),Vy(this,u)),4==t&&jy(this),this.i&&!this.I&&(4==t?rg(this.l,this):(this.i=!1,Ly(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,hy(12)):(this.o=0,hy(13)),jy(this),Uy(this)}}}catch(t){}},wp.hb=function(){if(this.g){var e=jm(this.g),t=this.g.fa();this.C<t.length&&(Fy(this),Ry(this,e,t),this.i&&4!=e&&Ly(this))}},wp.cancel=function(){this.I=!0,jy(this)},wp.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ly(),hy(17)),jy(this),this.o=2,Uy(this)):My(this,this.V-e)};var qy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zy(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof zy){this.h=void 0!==t?t:e.h,Ky(this,e.j),this.s=e.s,this.g=e.g,Gy(this,e.m),this.l=e.l,t=e.i;var n=new im;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Hy(this,n),this.o=e.o}else e&&(n=String(e).match(qy))?(this.h=!!t,Ky(this,n[1]||"",!0),this.s=Yy(n[2]||""),this.g=Yy(n[3]||"",!0),Gy(this,n[4]),this.l=Yy(n[5]||"",!0),Hy(this,n[6]||"",!0),this.o=Yy(n[7]||"")):(this.h=!!t,this.i=new im(null,this.h))}function Wy(e){return new zy(e)}function Ky(e,t,n){e.j=n?Yy(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Gy(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hy(e,t,n){t instanceof im?(e.i=t,function(e,t){t&&!e.j&&(am(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(om(this,t),sm(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Jy(t,nm)),e.i=new im(t,e.h))}function Qy(e,t,n){e.i.set(t,n)}function $y(e){return Qy(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Yy(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jy(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Xy),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Xy(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}zy.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Jy(t,Zy,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Jy(t,Zy,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Jy(n,"/"==n.charAt(0)?tm:em,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Jy(n,rm)),e.join("")};var Zy=/[#\/\?@]/g,em=/[#\?:]/g,tm=/[#\?]/g,nm=/[#\?@]/g,rm=/#/g;function im(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function am(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function om(e,t){am(e),t=cm(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function um(e,t){return am(e),t=cm(e,t),e.g.has(t)}function sm(e,t,n){om(e,t),0<n.length&&(e.i=null,e.g.set(cm(e,t),Up(n)),e.h+=n.length)}function cm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(wp=im.prototype).add=function(e,t){am(this),this.i=null,e=cm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},wp.forEach=function(e,t){am(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},wp.oa=function(){am(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},wp.W=function(e){am(this);var t=[];if("string"===typeof e)um(this,e)&&(t=t.concat(this.g.get(cm(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},wp.set=function(e,t){return am(this),this.i=null,um(this,e=cm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},wp.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},wp.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var lm=Lt((function e(t,n){Rt(this,e),this.h=t,this.g=n}));function fm(e){this.l=e||hm,Ep.PerformanceNavigationTiming?e=0<(e=Ep.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ep.g&&Ep.g.Ga&&Ep.g.Ga()&&Ep.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hm=10;function dm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function pm(e){return e.h?1:e.g?e.g.size:0}function vm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ym(e,t){e.g?e.g.add(t):e.h=t}function mm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function gm(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Gt(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Up(e.i)}function km(){}function bm(){this.g=new km}function wm(e,t,n){var r=n||"";try{By(e,(function(e,n){var i=e;Cp(e)&&(i=Uv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function xm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(R){}}function _m(e){this.l=e.ac||null,this.j=e.jb||!1}function Sm(e,t){Lv.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Em,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fm.prototype.cancel=function(){if(this.i=gm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Gt(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},km.prototype.stringify=function(e){return Ep.JSON.stringify(e,void 0)},km.prototype.parse=function(e){return Ep.JSON.parse(e,void 0)},Lp(_m,my),_m.prototype.g=function(){return new Sm(this.l,this.j)},_m.prototype.i=function(e){return function(){return e}}({}),Lp(Sm,Lv);var Em=0;function Im(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Tm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cm(e)}function Cm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(wp=Sm.prototype).open=function(e,t){if(this.readyState!=Em)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cm(this)},wp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ep).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},wp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tm(this)),this.readyState=Em},wp.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cm(this)),this.g&&(this.readyState=3,Cm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Ep.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Im(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},wp.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tm(this):Cm(this),3==this.readyState&&Im(this)}},wp.Va=function(e){this.g&&(this.response=this.responseText=e,Tm(this))},wp.Ua=function(e){this.g&&(this.response=e,Tm(this))},wp.ga=function(){this.g&&Tm(this)},wp.setRequestHeader=function(e,t){this.v.append(e,t)},wp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},wp.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Sm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Nm=Ep.JSON.parse;function Am(e){Lv.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Om,this.K=this.L=!1}Lp(Am,Lv);var Om="",Dm=/^https?$/i,Rm=["POST","PUT"];function Pm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Lm(e),Fm(e)}function Lm(e){e.D||(e.D=!0,Mv(e,"complete"),Mv(e,"error"))}function Mm(e){if(e.h&&"undefined"!=typeof Sp&&(!e.C[1]||4!=jm(e)||2!=e.aa()))if(e.v&&4==jm(e))Jv(e.Ha,0,e);else if(Mv(e,"readystatechange"),4==jm(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(qy)[1]||null;if(!a&&Ep.self&&Ep.self.location){var o=Ep.self.location.protocol;a=o.substr(0,o.length-1)}i=!Dm.test(a?a.toLowerCase():"")}t=i}if(t)Mv(e,"complete"),Mv(e,"success");else{e.m=6;try{var u=2<jm(e)?e.g.statusText:""}catch(O){u=""}e.j=u+" ["+e.aa()+"]",Lm(e)}}finally{Fm(e)}}}function Fm(e,t){if(e.g){Um(e);var n=e.g,r=e.C[0]?Ip:null;e.g=null,e.C=null,t||Mv(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Um(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ep.clearTimeout(e.A),e.A=null)}function jm(e){return e.g?e.g.readyState:0}function Vm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Om:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(q){return null}}function Bm(e){var t="";return yv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function qm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Bm(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Qy(e,t,n))}function zm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wm(e){this.Ca=0,this.i=[],this.j=new iy,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=zm("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=zm("baseRetryDelayMs",5e3,e),this.bb=zm("retryDelaySeedMs",1e4,e),this.$a=zm("forwardChannelMaxRetries",2,e),this.ta=zm("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new fm(e&&e.concurrentRequestLimit),this.Fa=new bm,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Km(e){if(Hm(e),3==e.G){var t=e.U++,n=Wy(e.F);Qy(n,"SID",e.I),Qy(n,"RID",t),Qy(n,"TYPE","terminate"),Ym(e,n),(t=new Ey(e,e.j,t,void 0)).K=2,t.v=$y(Wy(n)),n=!1,Ep.navigator&&Ep.navigator.sendBeacon&&(n=Ep.navigator.sendBeacon(t.v.toString(),"")),!n&&Ep.Image&&((new Image).src=t.v,n=!0),n||(t.g=sg(t.l,null),t.g.da(t.v)),t.F=Date.now(),Ly(t)}og(e)}function Gm(e){e.g&&(eg(e),e.g.cancel(),e.g=null)}function Hm(e){Gm(e),e.u&&(Ep.clearTimeout(e.u),e.u=null),ng(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Ep.clearTimeout(e.m),e.m=null)}function Qm(e){dm(e.h)||e.m||(e.m=!0,Kv(e.Ja,e),e.C=0)}function $m(e,t){var n;n=t?t.m:e.U++;var r=Wy(e.F);Qy(r,"SID",e.I),Qy(r,"RID",n),Qy(r,"AID",e.T),Ym(e,r),e.o&&e.s&&qm(r,e.o,e.s),n=new Ey(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Jm(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),ym(e.h,n),Ay(n,r,t)}function Ym(e,t){e.ia&&yv(e.ia,(function(e,n){Qy(t,n,e)})),e.l&&By({},(function(e,n){Qy(t,n,e)}))}function Jm(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Rp(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{wm(l,o,"req"+c+"_")}catch(ue){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Xm(e){e.g||e.u||(e.Z=1,Kv(e.Ia,e),e.A=0)}function Zm(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=py(Rp(e.Ia,e),ig(e,e.A)),e.A++,!0)}function eg(e){null!=e.B&&(Ep.clearTimeout(e.B),e.B=null)}function tg(e){e.g=new Ey(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Wy(e.sa);Qy(t,"RID","rpc"),Qy(t,"SID",e.I),Qy(t,"CI",e.L?"0":"1"),Qy(t,"AID",e.T),Qy(t,"TYPE","xmlhttp"),Ym(e,t),e.o&&e.s&&qm(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=$y(Wy(t)),n.s=null,n.P=!0,Oy(n,e)}function ng(e){null!=e.v&&(Ep.clearTimeout(e.v),e.v=null)}function rg(e,t){var n=null;if(e.g==t){ng(e),eg(e),e.g=null;var r=2}else{if(!vm(e.h,t))return;n=t.D,mm(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Mv(r=sy(),new dy(r,n)),Qm(e)}else Xm(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(pm(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=py(Rp(e.Ja,e,t),ig(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zm(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ag(e,5);break;case 4:ag(e,10);break;case 3:ag(e,6);break;default:ag(e,2)}}function ig(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function ag(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Rp(e.kb,e);n||(n=new zy("//www.google.com/images/cleardot.gif"),Ep.location&&"http"==Ep.location.protocol||Ky(n,"https"),$y(n)),function(e,t){var n=new iy;if(Ep.Image){var r=new Image;r.onload=Pp(xm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Pp(xm,n,r,"TestLoadImage: error",!1,t),r.onabort=Pp(xm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Pp(xm,n,r,"TestLoadImage: timeout",!1,t),Ep.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else hy(2);e.G=0,e.l&&e.l.va(t),og(e),Hm(e)}function og(e){if(e.G=0,e.la=[],e.l){var t=gm(e.h);0==t.length&&0==e.i.length||(jp(e.la,t),jp(e.la,e.i),e.h.i.length=0,Up(e.i),e.i.length=0),e.l.ua()}}function ug(e,t,n){var r=n instanceof zy?Wy(n):new zy(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Gy(r,r.m);else{var i=Ep.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new zy(null,void 0);r&&Ky(a,r),t&&(a.g=t),i&&Gy(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Qy(r,n,t),Qy(r,"VER",e.ma),Ym(e,r),r}function sg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Am(new _m({jb:!0})):new Am(e.ra)).Ka(e.H),t}function cg(){}function lg(){if(Yp&&!(10<=Number(cv)))throw Error("Environmental error: no available transport.")}function fg(e,t){Lv.call(this),this.g=new Wm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!qp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qp(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new pg(this)}function hg(e){xy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dg(){_y.call(this),this.status=1}function pg(e){this.g=e}(wp=Am.prototype).Ka=function(e){this.L=e},wp.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():by.g(),this.C=this.u?gy(this.u):gy(by),this.g.onreadystatechange=Rp(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Pm(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Gt(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Ep.FormData&&e instanceof Ep.FormData,!(0<=Fp(Rm,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Gt(n);try{for(c.s();!(s=c.n()).done;){var l=At(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Um(this),0<this.B&&((this.K=function(e){return Yp&&uv()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rp(this.qa,this)):this.A=Jv(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Pm(this,u)}},wp.qa=function(){"undefined"!=typeof Sp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mv(this,"timeout"),this.abort(8))},wp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Mv(this,"complete"),Mv(this,"abort"),Fm(this))},wp.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fm(this,!0)),Am.X.M.call(this)},wp.Ha=function(){this.s||(this.F||this.v||this.l?Mm(this):this.fb())},wp.fb=function(){Mm(this)},wp.aa=function(){try{return 2<jm(this)?this.g.status:-1}catch(D){return-1}},wp.fa=function(){try{return this.g?this.g.responseText:""}catch(D){return""}},wp.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Nm(t)}},wp.Ea=function(){return this.m},wp.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(wp=Wm.prototype).ma=8,wp.G=1,wp.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Ey(this,this.j,e,void 0),n=this.s;if(this.S&&(n?kv(n=mv(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Jm(this,t,r),Qy(i=Wy(this.F),"RID",e),Qy(i,"CVER",22),this.D&&Qy(i,"X-HTTP-Session-Id",this.D),Ym(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Bm(n)))+"&"+r:this.o&&qm(i,this.o,n)),ym(this.h,t),this.Ya&&Qy(i,"TYPE","init"),this.O?(Qy(i,"$req",r),Qy(i,"SID","null"),t.Z=!0,Ay(t,i,null)):Ay(t,i,r),this.G=2}}else 3==this.G&&(e?$m(this,e):0==this.i.length||dm(this.h)||$m(this))},wp.Ia=function(){if(this.u=null,tg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=py(Rp(this.eb,this),e)}},wp.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,hy(10),Gm(this),tg(this))},wp.cb=function(){null!=this.v&&(this.v=null,Gm(this),Zm(this),hy(19))},wp.kb=function(e){e?(this.j.info("Successfully pinged google.com"),hy(2)):(this.j.info("Failed to ping google.com"),hy(1))},(wp=cg.prototype).xa=function(){},wp.wa=function(){},wp.va=function(){},wp.ua=function(){},wp.Ra=function(){},lg.prototype.g=function(e,t){return new fg(e,t)},Lp(fg,Lv),fg.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;hy(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=ug(e,null,e.V),Qm(e)},fg.prototype.close=function(){Km(this.g)},fg.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Uv(e),e=n);t.i.push(new lm(t.ab++,e)),3==t.G&&Qm(t)},fg.prototype.M=function(){this.g.l=null,delete this.j,Km(this.g),delete this.g,fg.X.M.call(this)},Lp(hg,xy),Lp(dg,_y),Lp(pg,cg),pg.prototype.xa=function(){Mv(this.g,"a")},pg.prototype.wa=function(e){Mv(this.g,new hg(e))},pg.prototype.va=function(e){Mv(this.g,new dg)},pg.prototype.ua=function(){Mv(this.g,"b")},lg.prototype.createWebChannel=lg.prototype.g,fg.prototype.send=fg.prototype.u,fg.prototype.open=fg.prototype.m,fg.prototype.close=fg.prototype.close,vy.NO_ERROR=0,vy.TIMEOUT=8,vy.HTTP_ERROR=6,yy.COMPLETE="complete",ky.EventType=wy,wy.OPEN="a",wy.CLOSE="b",wy.ERROR="c",wy.MESSAGE="d",Lv.prototype.listen=Lv.prototype.N,Am.prototype.listenOnce=Am.prototype.O,Am.prototype.getLastError=Am.prototype.Oa,Am.prototype.getLastErrorCode=Am.prototype.Ea,Am.prototype.getStatus=Am.prototype.aa,Am.prototype.getResponseJson=Am.prototype.Sa,Am.prototype.getResponseText=Am.prototype.fa,Am.prototype.send=Am.prototype.da,Am.prototype.setWithCredentials=Am.prototype.Ka;var vg=_p.createWebChannelTransport=function(){return new lg},yg=_p.getStatEventTarget=function(){return sy()},mg=_p.ErrorCode=vy,gg=_p.EventType=yy,kg=_p.Event=oy,bg=_p.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},wg=_p.FetchXmlHttpFactory=_m,xg=_p.WebChannel=ky,_g=_p.XhrIo=Am,Sg="@firebase/firestore",Eg=function(){function e(t){Rt(this,e),this.uid=t}return Lt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Eg.UNAUTHENTICATED=new Eg(null),Eg.GOOGLE_CREDENTIALS=new Eg("google-credentials-uid"),Eg.FIRST_PARTY=new Eg("first-party-uid"),Eg.MOCK_USER=new Eg("mock-user");var Ig="9.15.0",Tg=new Ka("@firebase/firestore");function Cg(){return Tg.logLevel}function Ng(e){if(Tg.logLevel<=Ua.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dg);Tg.debug.apply(Tg,["Firestore (".concat(Ig,"): ").concat(e)].concat(Dt(i)))}}function Ag(e){if(Tg.logLevel<=Ua.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dg);Tg.error.apply(Tg,["Firestore (".concat(Ig,"): ").concat(e)].concat(Dt(i)))}}function Og(e){if(Tg.logLevel<=Ua.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dg);Tg.warn.apply(Tg,["Firestore (".concat(Ig,"): ").concat(e)].concat(Dt(i)))}}function Dg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Rg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ig,") INTERNAL ASSERTION FAILED: ")+e;throw Ag(t),new Error(t)}function Pg(e,t){e||Rg()}function Lg(e,t){return e}var Mg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fg=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Lt(n)}(ba),Ug=Lt((function e(){var t=this;Rt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),jg=Lt((function e(t,n){Rt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Vg=function(){function e(){Rt(this,e)}return Lt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Eg.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Bg=function(){function e(t){Rt(this,e),this.token=t,this.changeListener=null}return Lt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),qg=function(){function e(t){Rt(this,e),this.t=t,this.currentUser=Eg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Lt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ug;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ug,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ng("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ng("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ug)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ng("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Pg("string"==typeof n.accessToken),new jg(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Pg(null===e||"string"==typeof e),new Eg(e)}}]),e}(),zg=function(){function e(t,n,r,i){Rt(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Eg.FIRST_PARTY,this.p=new Map}return Lt(e,[{key:"I",value:function(){return this.g?this.g():(Pg(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Wg=function(){function e(t,n,r,i){Rt(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Lt(e,[{key:"getToken",value:function(){return Promise.resolve(new zg(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Eg.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Kg=Lt((function e(t){Rt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Gg=function(){function e(t){Rt(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Lt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ng("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Ng("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ng("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Ng("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Pg("string"==typeof t.token),e.A=t.token,new Kg(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Hg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Qg=function(){function e(){Rt(this,e)}return Lt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Hg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function $g(e,t){return e<t?-1:e>t?1:0}function Yg(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Jg(e){return e+"\0"}var Xg=function(){function e(t,n){if(Rt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Fg(Mg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fg(Mg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Fg(Mg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fg(Mg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Lt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?$g(this.nanoseconds,e.nanoseconds):$g(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Zg=function(){function e(t){Rt(this,e),this.timestamp=t}return Lt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Xg(0,0))}},{key:"max",value:function(){return new e(new Xg(253402300799,999999999))}}]),e}(),ek=function(){function e(t,n,r){Rt(this,e),void 0===n?n=0:n>t.length&&Rg(),void 0===r?r=t.length-n:r>t.length-n&&Rg(),this.segments=t,this.offset=n,this.len=r}return Lt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),tk=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Dt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ek),nk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rk=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return nk.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Fg(Mg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Fg(Mg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Fg(Mg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ek),ik=function(){function e(t){Rt(this,e),this.path=t}return Lt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===tk.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(tk.fromString(t))}},{key:"fromName",value:function(t){return new e(tk.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(tk.emptyPath())}},{key:"comparator",value:function(e,t){return tk.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new tk(t.slice()))}}]),e}(),ak=Lt((function e(t,n,r,i){Rt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ok(e){return e.fields.find((function(e){return 2===e.kind}))}function uk(e){return e.fields.filter((function(e){return 2!==e.kind}))}ak.UNKNOWN_ID=-1;var sk=Lt((function e(t,n){Rt(this,e),this.fieldPath=t,this.kind=n}));var ck=function(){function e(t,n){Rt(this,e),this.sequenceNumber=t,this.offset=n}return Lt(e,null,[{key:"empty",value:function(){return new e(0,hk.min())}}]),e}();function lk(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Zg.fromTimestamp(1e9===r?new Xg(n+1,0):new Xg(n,r));return new hk(i,ik.empty(),t)}function fk(e){return new hk(e.readTime,e.key,-1)}var hk=function(){function e(t,n,r){Rt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Lt(e,null,[{key:"min",value:function(){return new e(Zg.min(),ik.empty(),-1)}},{key:"max",value:function(){return new e(Zg.max(),ik.empty(),-1)}}]),e}();function dk(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ik.comparator(e.documentKey,t.documentKey))?n:$g(e.largestBatchId,t.largestBatchId)}var pk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vk=function(){function e(){Rt(this,e),this.onCommittedListeners=[]}return Lt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function yk(e){return mk.apply(this,arguments)}function mk(){return mk=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Mg.FAILED_PRECONDITION&&t.message===pk){e.next=2;break}throw t;case 2:Ng("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),mk.apply(this,arguments)}var gk=function(){function e(t){var n=this;Rt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Lt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Rg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Gt(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),kk=function(){function e(t,n){var r=this;Rt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Ug,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new xk(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Tk(e.target.error);r.P.reject(new xk(t,n))}}return Lt(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Ng("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Sk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new xk(n,t)}}}]),e}(),bk=function(){function e(t,n,r){Rt(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(ca())&&Ag("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Lt(e,[{key:"F",value:function(){var e=cr(ur().mark((function e(t){var n=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ng("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new xk(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Fg(Mg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Fg(Mg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new xk(t,n))},i.onupgradeneeded=function(e){Ng("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Ng("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=cr(ur().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=ur().mark((function e(){var n,u,s,l;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=kk.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),gk.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Ng("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ng("SimpleDb","Removing database:",e),Ek(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!pa())return!1;if(e.N())return!0;var t=ca(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),wk=function(){function e(t){Rt(this,e),this.q=t,this.U=!1,this.K=null}return Lt(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Ek(this.q.delete())}}]),e}(),xk=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,Mg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Lt(n)}(Fg);function _k(e){return"IndexedDbTransactionError"===e.name}var Sk=function(){function e(t){Rt(this,e),this.store=t}return Lt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ng("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ng("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ek(n)}},{key:"add",value:function(e){return Ng("SimpleDb","ADD",this.store.name,e,e),Ek(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Ek(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ng("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ng("SimpleDb","DELETE",this.store.name,e),Ek(this.store.delete(e))}},{key:"count",value:function(){return Ng("SimpleDb","COUNT",this.store.name),Ek(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new gk((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new gk((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Ng("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new gk((function(n,r){t.onerror=function(e){var t=Tk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new gk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new wk(i),o=t(i.primaryKey,i.value,a);if(o instanceof gk){var u=o.catch((function(e){return a.done(),gk.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return gk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Ek(e){return new gk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Tk(e.target.error);n(t)}}))}var Ik=!1;function Tk(e){var t=bk.D(ca());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Fg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ik||(Ik=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ck=function(){function e(t,n){Rt(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Lt(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Ng("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Ng,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!_k(e.t4)){e.next=17;break}Ng("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,yk(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Nk=function(){function e(t,n){Rt(this,e),this.localStore=t,this.persistence=n}return Lt(e,[{key:"st",value:function(){var e=cr(ur().mark((function e(){var t,n=this,r=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return gk.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Ng("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Ng("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=fk(t);dk(r,n)>0&&(n=r)})),new hk(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Ak=function(){function e(t,n){var r=this;Rt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Lt(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();Ak.at=-1;var Ok=Lt((function e(t,n,r,i,a,o,u,s){Rt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Dk=function(){function e(t,n){Rt(this,e),this.projectId=t,this.database=n||"(default)"}return Lt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Rk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Lk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Mk(e){return null==e}function Fk(e){return 0===e&&1/e==-1/0}function Uk(e){return"number"==typeof e&&Number.isInteger(e)&&!Fk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var jk=function(e){function t(e){Rt(this,t),this.binaryString=e}return Lt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return $g(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();jk.EMPTY_BYTE_STRING=new jk("");var Vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bk(e){if(Pg(!!e),"string"==typeof e){var t=0,n=Vk.exec(e);if(Pg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qk(e.seconds),nanos:qk(e.nanos)}}function qk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function zk(e){return"string"==typeof e?jk.fromBase64String(e):jk.fromUint8Array(e)}function Wk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kk(e){var t=e.mapValue.fields.__previous_value__;return Wk(t)?Kk(t):t}function Gk(e){var t=Bk(e.mapValue.fields.__local_write_time__.timestampValue);return new Xg(t.seconds,t.nanos)}var Hk={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qk={nullValue:"NULL_VALUE"};function $k(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wk(e)?4:cb(e)?9007199254740991:10:Rg()}function Yk(e,t){if(e===t)return!0;var n=$k(e);if(n!==$k(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gk(e).isEqual(Gk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Bk(e.timestampValue),r=Bk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return zk(e.bytesValue).isEqual(zk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qk(e.geoPointValue.latitude)===qk(t.geoPointValue.latitude)&&qk(e.geoPointValue.longitude)===qk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qk(e.integerValue)===qk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=qk(e.doubleValue),r=qk(t.doubleValue);return n===r?Fk(n)===Fk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Yg(e.arrayValue.values||[],t.arrayValue.values||[],Yk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Rk(n)!==Rk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Yk(n[i],r[i])))return!1;return!0}(e,t);default:return Rg()}}function Jk(e,t){return void 0!==(e.values||[]).find((function(e){return Yk(e,t)}))}function Xk(e,t){if(e===t)return 0;var n=$k(e),r=$k(t);if(n!==r)return $g(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $g(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=qk(e.integerValue||e.doubleValue),r=qk(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zk(e.timestampValue,t.timestampValue);case 4:return Zk(Gk(e),Gk(t));case 5:return $g(e.stringValue,t.stringValue);case 6:return function(e,t){var n=zk(e),r=zk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=$g(n[i],r[i]);if(0!==a)return a}return $g(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=$g(qk(e.latitude),qk(t.latitude));return 0!==n?n:$g(qk(e.longitude),qk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Xk(n[i],r[i]);if(a)return a}return $g(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Hk.mapValue&&t===Hk.mapValue)return 0;if(e===Hk.mapValue)return 1;if(t===Hk.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=$g(r[o],a[o]);if(0!==u)return u;var s=Xk(n[r[o]],i[a[o]]);if(0!==s)return s}return $g(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Rg()}}function Zk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $g(e,t);var n=Bk(e),r=Bk(t),i=$g(n.seconds,r.seconds);return 0!==i?i:$g(n.nanos,r.nanos)}function eb(e){return tb(e)}function tb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Bk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?zk(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ik.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Gt(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=tb(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Gt(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(tb(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Rg();var t,n}function nb(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function rb(e){return!!e&&"integerValue"in e}function ib(e){return!!e&&"arrayValue"in e}function ab(e){return!!e&&"nullValue"in e}function ob(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ub(e){return!!e&&"mapValue"in e}function sb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Pk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=sb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=sb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function cb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function lb(e){return"nullValue"in e?Qk:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?nb(Dk.empty(),ik.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Rg()}function fb(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?nb(Dk.empty(),ik.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Hk:Rg()}function hb(e,t){var n=Xk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function db(e,t){var n=Xk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var pb=Lt((function e(t,n){Rt(this,e),this.position=t,this.inclusive=n}));function vb(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ik.comparator(ik.fromName(o.referenceValue),n.key):Xk(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function yb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Yk(e.position[n],t.position[n]))return!1;return!0}var mb=Lt((function e(){Rt(this,e)})),gb=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xk(t,this.value)):null!==t&&$k(this.value)===$k(t)&&this.matchesComparison(Xk(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rg()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Cb(e,t,r):"array-contains"===t?new Db(e,r):"in"===t?new Rb(e,r):"not-in"===t?new Pb(e,r):"array-contains-any"===t?new Lb(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Nb(e,n):new Ab(e,n)}}]),n}(mb),kb=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return Lt(n,[{key:"matches",value:function(e){return bb(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=Gt(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(mb);function bb(e){return"and"===e.op}function wb(e){return"or"===e.op}function xb(e){return _b(e)&&bb(e)}function _b(e){var t,n=Gt(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof kb)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Sb(e){if(e instanceof gb)return e.field.canonicalString()+e.op.toString()+eb(e.value);var t=e.filters.map((function(e){return Sb(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Eb(e,t){return e instanceof gb?function(e,t){return t instanceof gb&&e.op===t.op&&e.field.isEqual(t.field)&&Yk(e.value,t.value)}(e,t):e instanceof kb?function(e,t){return t instanceof kb&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Eb(n,t.filters[r])}),!0)}(e,t):void Rg()}function Ib(e,t){var n=e.filters.concat(t);return kb.create(n,e.op)}function Tb(e){return e instanceof gb?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(eb(e.value))}(e):e instanceof kb?function(e){return e.op.toString()+" {"+e.getFilters().map(Tb).join(" ,")+"}"}(e):"Filter"}var Cb=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this,e,r,i)).key=ik.fromName(i.referenceValue),a}return Lt(n,[{key:"matches",value:function(e){var t=ik.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(gb),Nb=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,"in",r)).keys=Ob("in",r),i}return Lt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gb),Ab=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,"not-in",r)).keys=Ob("not-in",r),i}return Lt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gb);function Ob(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ik.fromName(e.referenceValue)}))}var Db=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Rt(this,n),t.call(this,e,"array-contains",r)}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ib(t)&&Jk(t.arrayValue,this.value)}}]),n}(gb),Rb=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Rt(this,n),t.call(this,e,"in",r)}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Jk(this.value.arrayValue,t)}}]),n}(gb),Pb=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Rt(this,n),t.call(this,e,"not-in",r)}return Lt(n,[{key:"matches",value:function(e){if(Jk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Jk(this.value.arrayValue,t)}}]),n}(gb),Lb=function(e){Ft(n,e);var t=qt(n);function n(e,r){return Rt(this,n),t.call(this,e,"array-contains-any",r)}return Lt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ib(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Jk(t.value.arrayValue,e)}))}}]),n}(gb),Mb=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Rt(this,e),this.field=t,this.dir=n}));function Fb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Ub=function(){function e(t,n){Rt(this,e),this.comparator=t,this.root=n||Vb.EMPTY}return Lt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Vb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new jb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new jb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new jb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new jb(this.root,e,this.comparator,!0)}}]),e}(),jb=function(){function e(t,n,r,i){Rt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Lt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Vb=function(){function e(t,n,r,i,a){Rt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Lt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Rg();if(this.right.isRed())throw Rg();var e=this.left.check();if(e!==this.right.check())throw Rg();return e+(this.isRed()?0:1)}}]),e}();Vb.EMPTY=null,Vb.RED=!0,Vb.BLACK=!1,Vb.EMPTY=new(function(){function e(){Rt(this,e),this.size=0}return Lt(e,[{key:"key",get:function(){throw Rg()}},{key:"value",get:function(){throw Rg()}},{key:"color",get:function(){throw Rg()}},{key:"left",get:function(){throw Rg()}},{key:"right",get:function(){throw Rg()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Vb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Bb=function(){function e(t){Rt(this,e),this.comparator=t,this.data=new Ub(this.comparator)}return Lt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new qb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new qb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),qb=function(){function e(t){Rt(this,e),this.iter=t}return Lt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function zb(e){return e.hasNext()?e.getNext():void 0}var Wb=function(){function e(t){Rt(this,e),this.fields=t,t.sort(rk.comparator)}return Lt(e,[{key:"unionWith",value:function(t){var n,r=new Bb(rk.comparator),i=Gt(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Gt(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Gt(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Yg(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Kb=function(){function e(t){Rt(this,e),this.value=t}return Lt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ub(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sb(t)}},{key:"setAll",value:function(e){var t=this,n=rk.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=sb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ub(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Yk(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ub(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Pk(t,(function(t,n){return e[t]=n}));var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(sb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Gb(e){var t=[];return Pk(e.fields,(function(e,n){var r=new rk([e]);if(ub(n)){var i=Gb(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Gt(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Wb(t)}var Hb=function(){function e(t,n,r,i,a,o,u){Rt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Lt(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Zg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Kb.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Kb.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Zg.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Zg.min(),Zg.min(),Zg.min(),Kb.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Zg.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Zg.min(),Zg.min(),Kb.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Zg.min(),Zg.min(),Kb.empty(),2)}}]),e}(),Qb=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Rt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function $b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Qb(e,t,n,r,i,a,o)}function Yb(e){var t=Lg(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Sb(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Mk(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return eb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return eb(e)})).join(",")),t.ft=n}return t.ft}function Jb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Fb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Eb(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yb(e.startAt,t.startAt)&&yb(e.endAt,t.endAt)}function Xb(e){return ik.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Zb(e,t){return e.filters.filter((function(e){return e instanceof gb&&e.field.isEqual(t)}))}function ew(e,t,n){var r,i=Qk,a=!0,o=Gt(Zb(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Qk,c=!0;switch(u.op){case"<":case"<=":s=lb(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Qk}hb({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];hb({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function tw(e,t,n){var r,i=Hk,a=!0,o=Gt(Zb(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Hk,c=!0;switch(u.op){case">=":case">":s=fb(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Hk}db({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];db({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var nw=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Rt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function rw(e,t,n,r,i,a,o,u){return new nw(e,t,n,r,i,a,o,u)}function iw(e){return new nw(e)}function aw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ow(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function uw(e){var t,n=Gt(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function sw(e){return null!==e.collectionGroup}function cw(e){var t=Lg(e);if(null===t.dt){t.dt=[];var n=uw(t),r=ow(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Mb(n)),t.dt.push(new Mb(rk.keyField(),"asc"));else{var i,a=!1,o=Gt(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Mb(rk.keyField(),s))}}}return t.dt}function lw(e){var t=Lg(e);if(!t._t)if("F"===t.limitType)t._t=$b(t.path,t.collectionGroup,cw(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Gt(cw(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Mb(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new pb(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new pb(t.startAt.position,t.startAt.inclusive):null;t._t=$b(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function fw(e,t){t.getFirstInequalityField(),uw(e);var n=e.filters.concat([t]);return new nw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function hw(e,t,n){return new nw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dw(e,t){return Jb(lw(e),lw(t))&&e.limitType===t.limitType}function pw(e){return"".concat(Yb(lw(e)),"|lt:").concat(e.limitType)}function vw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Tb(e)})).join(", "),"]")),Mk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return eb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return eb(e)})).join(",")),"Target(".concat(t,")")}(lw(e)),"; limitType=").concat(e.limitType,")")}function yw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ik.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Gt(cw(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Gt(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=vb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,cw(e),t))&&!(e.endAt&&!function(e,t,n){var r=vb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,cw(e),t))}(e,t)}function mw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gw(e){return function(t,n){var r,i=!1,a=Gt(cw(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=kw(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function kw(e,t,n){var r=e.field.isKeyField()?ik.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Xk(r,i):Rg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Rg()}}function bw(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fk(t)?"-0":t}}function ww(e){return{integerValue:""+e}}function xw(e,t){return Uk(t)?ww(t):bw(e,t)}var _w=Lt((function e(){Rt(this,e),this._=void 0}));function Sw(e,t,n){return e instanceof Tw?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cw?Nw(e,t):e instanceof Aw?Ow(e,t):function(e,t){var n=Iw(e,t),r=Rw(n)+Rw(e.gt);return rb(n)&&rb(e.gt)?ww(r):bw(e.yt,r)}(e,t)}function Ew(e,t,n){return e instanceof Cw?Nw(e,t):e instanceof Aw?Ow(e,t):n}function Iw(e,t){return e instanceof Dw?rb(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Tw=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n)}(_w),Cw=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).elements=e,r}return Lt(n)}(_w);function Nw(e,t){var n,r=Pw(t),i=Gt(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Yk(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Aw=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).elements=e,r}return Lt(n)}(_w);function Ow(e,t){var n,r=Pw(t),i=Gt(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Yk(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Dw=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return Lt(n)}(_w);function Rw(e){return qk(e.integerValue||e.doubleValue)}function Pw(e){return ib(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Lw=Lt((function e(t,n){Rt(this,e),this.field=t,this.transform=n}));var Mw=Lt((function e(t,n){Rt(this,e),this.version=t,this.transformResults=n})),Fw=function(){function e(t,n){Rt(this,e),this.updateTime=t,this.exists=n}return Lt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Uw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var jw=Lt((function e(){Rt(this,e)}));function Vw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Xw(e.key,Fw.none()):new Kw(e.key,e.data,Fw.none());var n,r=e.data,i=Kb.empty(),a=new Bb(rk.comparator),o=Gt(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Gw(e.key,i,new Wb(a.toArray()),Fw.none())}function Bw(e,t,n){e instanceof Kw?function(e,t,n){var r=e.value.clone(),i=Qw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gw?function(e,t,n){if(Uw(e.precondition,t)){var r=Qw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Hw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qw(e,t,n,r){return e instanceof Kw?function(e,t,n,r){if(!Uw(e.precondition,t))return n;var i=e.value.clone(),a=$w(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Gw?function(e,t,n,r){if(!Uw(e.precondition,t))return n;var i=$w(e.fieldTransforms,r,t),a=t.data;return a.setAll(Hw(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Uw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function zw(e,t){var n,r=null,i=Gt(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Iw(a.transform,o||null);null!=u&&(null===r&&(r=Kb.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ww(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Yg(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cw&&t instanceof Cw||e instanceof Aw&&t instanceof Aw?Yg(e.elements,t.elements,Yk):e instanceof Dw&&t instanceof Dw?Yk(e.gt,t.gt):e instanceof Tw&&t instanceof Tw}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Kw=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Rt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Lt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(jw),Gw=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Rt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Lt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(jw);function Hw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Qw(e,t,n){var r=new Map;Pg(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Ew(o,u,n[i]))}return r}function $w(e,t,n){var r,i=new Map,a=Gt(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Sw(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Yw,Jw,Xw=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Lt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(jw),Zw=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Lt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(jw),ex=Lt((function e(t){Rt(this,e),this.count=t}));function tx(e){switch(e){default:return Rg();case Mg.CANCELLED:case Mg.UNKNOWN:case Mg.DEADLINE_EXCEEDED:case Mg.RESOURCE_EXHAUSTED:case Mg.INTERNAL:case Mg.UNAVAILABLE:case Mg.UNAUTHENTICATED:return!1;case Mg.INVALID_ARGUMENT:case Mg.NOT_FOUND:case Mg.ALREADY_EXISTS:case Mg.PERMISSION_DENIED:case Mg.FAILED_PRECONDITION:case Mg.ABORTED:case Mg.OUT_OF_RANGE:case Mg.UNIMPLEMENTED:case Mg.DATA_LOSS:return!0}}function nx(e){if(void 0===e)return Ag("GRPC error has no .code"),Mg.UNKNOWN;switch(e){case Yw.OK:return Mg.OK;case Yw.CANCELLED:return Mg.CANCELLED;case Yw.UNKNOWN:return Mg.UNKNOWN;case Yw.DEADLINE_EXCEEDED:return Mg.DEADLINE_EXCEEDED;case Yw.RESOURCE_EXHAUSTED:return Mg.RESOURCE_EXHAUSTED;case Yw.INTERNAL:return Mg.INTERNAL;case Yw.UNAVAILABLE:return Mg.UNAVAILABLE;case Yw.UNAUTHENTICATED:return Mg.UNAUTHENTICATED;case Yw.INVALID_ARGUMENT:return Mg.INVALID_ARGUMENT;case Yw.NOT_FOUND:return Mg.NOT_FOUND;case Yw.ALREADY_EXISTS:return Mg.ALREADY_EXISTS;case Yw.PERMISSION_DENIED:return Mg.PERMISSION_DENIED;case Yw.FAILED_PRECONDITION:return Mg.FAILED_PRECONDITION;case Yw.ABORTED:return Mg.ABORTED;case Yw.OUT_OF_RANGE:return Mg.OUT_OF_RANGE;case Yw.UNIMPLEMENTED:return Mg.UNIMPLEMENTED;case Yw.DATA_LOSS:return Mg.DATA_LOSS;default:return Rg()}}(Jw=Yw||(Yw={}))[Jw.OK=0]="OK",Jw[Jw.CANCELLED=1]="CANCELLED",Jw[Jw.UNKNOWN=2]="UNKNOWN",Jw[Jw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jw[Jw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jw[Jw.NOT_FOUND=5]="NOT_FOUND",Jw[Jw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jw[Jw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jw[Jw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jw[Jw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jw[Jw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jw[Jw.ABORTED=10]="ABORTED",Jw[Jw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jw[Jw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jw[Jw.INTERNAL=13]="INTERNAL",Jw[Jw.UNAVAILABLE=14]="UNAVAILABLE",Jw[Jw.DATA_LOSS=15]="DATA_LOSS";var rx=function(){function e(t,n){Rt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Lt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=At(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Pk(this.inner,(function(t,n){var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=At(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Lk(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ix=new Ub(ik.comparator);function ax(){return ix}var ox=new Ub(ik.comparator);function ux(){for(var e=ox,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function sx(e){var t=ox;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function cx(){return fx()}function lx(){return fx()}function fx(){return new rx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var hx=new Ub(ik.comparator),dx=new Bb(ik.comparator);function px(){for(var e=dx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var vx=new Bb($g);function yx(){return vx}var mx=function(){function e(t,n,r,i,a){Rt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Lt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,gx.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Zg.min(),i,yx(),ax(),px())}}]),e}(),gx=function(){function e(t,n,r,i,a){Rt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Lt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,px(),px(),px())}}]),e}(),kx=Lt((function e(t,n,r,i){Rt(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),bx=Lt((function e(t,n){Rt(this,e),this.targetId=t,this.Et=n})),wx=Lt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jk.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Rt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),xx=function(){function e(){Rt(this,e),this.At=0,this.Rt=Ex(),this.bt=jk.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return Lt(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=px(),t=px(),n=px();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Rg()}})),new gx(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=Ex()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),_x=function(){function e(t){Rt(this,e),this.$t=t,this.Bt=new Map,this.Lt=ax(),this.qt=Sx(),this.Ut=new Bb($g)}return Lt(e,[{key:"Kt",value:function(e){var t,n=Gt(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Gt(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Rg()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(Xb(i))if(0===n){var a=new ik(i.path);this.Qt(t,a,Hb.newNoDocument(a,Zg.min()))}else Pg(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Xb(a.target)){var o=new ik(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Hb.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=px();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new mx(e,n,this.Ut,this.Lt,r);return this.Lt=ax(),this.qt=Sx(),this.Ut=new Bb($g),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new xx,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Bb($g),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Ng("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new xx),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function Sx(){return new Ub(ik.comparator)}function Ex(){return new Ub(ik.comparator)}var Ix={asc:"ASCENDING",desc:"DESCENDING"},Tx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cx={and:"AND",or:"OR"},Nx=Lt((function e(t,n){Rt(this,e),this.databaseId=t,this.wt=n}));function Ax(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ox(e,t){return e.wt?t.toBase64():t.toUint8Array()}function Dx(e,t){return Ax(e,t.toTimestamp())}function Rx(e){return Pg(!!e),Zg.fromTimestamp(function(e){var t=Bk(e);return new Xg(t.seconds,t.nanos)}(e))}function Px(e,t){return function(e){return new tk(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Lx(e){var t=tk.fromString(e);return Pg(i_(t)),t}function Mx(e,t){return Px(e.databaseId,t.path)}function Fx(e,t){var n=Lx(t);if(n.get(1)!==e.databaseId.projectId)throw new Fg(Mg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fg(Mg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ik(Bx(n))}function Ux(e,t){return Px(e.databaseId,t)}function jx(e){var t=Lx(e);return 4===t.length?tk.emptyPath():Bx(t)}function Vx(e){return new tk(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Bx(e){return Pg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function qx(e,t,n){return{name:Mx(e,t),fields:n.value.mapValue.fields}}function zx(e,t,n){var r=Fx(e,t.name),i=Rx(t.updateTime),a=t.createTime?Rx(t.createTime):Zg.min(),o=new Kb({mapValue:{fields:t.fields}}),u=Hb.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Wx(e,t){return"found"in t?function(e,t){Pg(!!t.found),t.found.name,t.found.updateTime;var n=Fx(e,t.found.name),r=Rx(t.found.updateTime),i=t.found.createTime?Rx(t.found.createTime):Zg.min(),a=new Kb({mapValue:{fields:t.found.fields}});return Hb.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Pg(!!t.missing),Pg(!!t.readTime);var n=Fx(e,t.missing),r=Rx(t.readTime);return Hb.newNoDocument(n,r)}(e,t):Rg()}function Kx(e,t){var n;if(t instanceof Kw)n={update:qx(e,t.key,t.value)};else if(t instanceof Xw)n={delete:Mx(e,t.key)};else if(t instanceof Gw)n={update:qx(e,t.key,t.data),updateMask:r_(t.fieldMask)};else{if(!(t instanceof Zw))return Rg();n={verify:Mx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Tw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Aw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Dw)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Rg()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Dx(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Rg()}(e,t.precondition)),n}function Gx(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Fw.updateTime(Rx(e.updateTime)):void 0!==e.exists?Fw.exists(e.exists):Fw.none()}(t.currentDocument):Fw.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Pg("REQUEST_TIME"===t.setToServerValue),n=new Tw;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Cw(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Aw(i)}else"increment"in t?n=new Dw(e,t.increment):Rg();var a=rk.fromServerFormat(t.fieldPath);return new Lw(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Fx(e,t.update.name),a=new Kb({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Wb(t.map((function(e){return rk.fromServerFormat(e)})))}(t.updateMask);return new Gw(i,a,o,n,r)}return new Kw(i,a,n,r)}if(t.delete){var u=Fx(e,t.delete);return new Xw(u,n)}if(t.verify){var s=Fx(e,t.verify);return new Zw(s,n)}return Rg()}function Hx(e,t){return{documents:[Ux(e,t.path)]}}function Qx(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ux(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ux(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return n_(kb.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:e_(e.field),direction:Jx(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||Mk(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function $x(e){var t=jx(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Pg(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Yx(e);return t instanceof kb&&xb(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Mb(t_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Mk(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new pb(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new pb(n,t)}(n.endAt)),rw(t,i,u,o,s,"F",c,l)}function Yx(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=t_(e.unaryFilter.field);return gb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=t_(e.unaryFilter.field);return gb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=t_(e.unaryFilter.field);return gb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=t_(e.unaryFilter.field);return gb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Rg()}}(e):void 0!==e.fieldFilter?function(e){return gb.create(t_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rg()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return kb.create(e.compositeFilter.filters.map((function(e){return Yx(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Rg()}}(e.compositeFilter.op))}(e):Rg()}function Jx(e){return Ix[e]}function Xx(e){return Tx[e]}function Zx(e){return Cx[e]}function e_(e){return{fieldPath:e.canonicalString()}}function t_(e){return rk.fromServerFormat(e.fieldPath)}function n_(e){return e instanceof gb?function(e){if("=="===e.op){if(ob(e.value))return{unaryFilter:{field:e_(e.field),op:"IS_NAN"}};if(ab(e.value))return{unaryFilter:{field:e_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ob(e.value))return{unaryFilter:{field:e_(e.field),op:"IS_NOT_NAN"}};if(ab(e.value))return{unaryFilter:{field:e_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:e_(e.field),op:Xx(e.op),value:e.value}}}(e):e instanceof kb?function(e){var t=e.getFilters().map((function(e){return n_(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Zx(e.op),filters:t}}}(e):Rg()}function r_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function i_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function a_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=u_(t)),t=o_(e.get(n),t);return u_(t)}function o_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function u_(e){return e+"\x01\x01"}function s_(e){var t=e.length;if(Pg(t>=2),2===t)return Pg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),tk.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Rg(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Rg()}a=o+2}return new tk(r)}var c_=["userId","batchId"];function l_(e,t){return[e,a_(t)]}function f_(e,t,n){return[e,a_(t),n]}var h_={},d_=["prefixPath","collectionGroup","readTime","documentId"],p_=["prefixPath","collectionGroup","documentId"],v_=["collectionGroup","readTime","prefixPath","documentId"],y_=["canonicalId","targetId"],m_=["targetId","path"],g_=["path","targetId"],k_=["collectionId","parent"],b_=["indexId","uid"],w_=["uid","sequenceNumber"],x_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],__=["indexId","uid","orderedDocumentKey"],S_=["userId","collectionPath","documentId"],E_=["userId","collectionPath","largestBatchId"],I_=["userId","collectionGroup","largestBatchId"],T_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),C_=[].concat(Dt(T_),["documentOverlays"]),N_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],A_=N_,O_=[].concat(A_,["indexConfiguration","indexState","indexEntries"]),D_=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return Lt(n)}(vk);function R_(e,t){var n=Lg(e);return bk.M(n.se,t)}var P_=function(){function e(t,n,r,i){Rt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Lt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Bw(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Gt(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=qw(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Gt(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=qw(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=lx();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Vw(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Zg.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),px())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Yg(this.mutations,e.mutations,(function(e,t){return Ww(e,t)}))&&Yg(this.baseMutations,e.baseMutations,(function(e,t){return Ww(e,t)}))}}]),e}(),L_=function(){function e(t,n,r,i){Rt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Lt(e,null,[{key:"from",value:function(t,n,r){Pg(t.mutations.length===r.length);for(var i=hx,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),M_=function(){function e(t,n){Rt(this,e),this.largestBatchId=t,this.mutation=n}return Lt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),F_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Zg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Zg.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jk.EMPTY_BYTE_STRING;Rt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Lt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),U_=Lt((function e(t){Rt(this,e),this.ie=t}));function j_(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:V_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Mx(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ax(e,t.version.toTimestamp()),createTime:Ax(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:B_(t.version)};else{if(!t.isUnknownDocument())return Rg();r.unknownDocument={path:n.path.toArray(),version:B_(t.version)}}return r}function V_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function B_(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function q_(e){var t=new Xg(e.seconds,e.nanoseconds);return Zg.fromTimestamp(t)}function z_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Gx(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Gx(e.ie,t)})),u=Xg.fromMillis(t.localWriteTimeMs);return new P_(t.batchId,u,n,o)}function W_(e){var t,n,r=q_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?q_(e.lastLimboFreeSnapshotVersion):Zg.min();return void 0!==e.query.documents?(Pg(1===(n=e.query).documents.length),t=lw(iw(jx(n.documents[0])))):t=function(e){return lw($x(e))}(e.query),new F_(t,e.targetId,0,e.lastListenSequenceNumber,r,i,jk.fromBase64String(e.resumeToken))}function K_(e,t){var n,r=B_(t.snapshotVersion),i=B_(t.lastLimboFreeSnapshotVersion);n=Xb(t.target)?Hx(e.ie,t.target):Qx(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Yb(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function G_(e){var t=$x({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?hw(t,t.limit,"L"):t}function H_(e,t){return new M_(t.largestBatchId,Gx(e.ie,t.overlayMutation))}function Q_(e,t){var n=t.path.lastSegment();return[e,a_(t.path.popLast()),n]}function $_(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:B_(r.readTime),documentKey:a_(r.documentKey.path),largestBatchId:r.largestBatchId}}var Y_=function(){function e(){Rt(this,e)}return Lt(e,[{key:"getBundleMetadata",value:function(e,t){return J_(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:q_(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return J_(e).put({bundleId:(n=t).id,createTime:B_(Rx(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return X_(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:G_(t.bundledQuery),readTime:q_(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return X_(e).put(function(e){return{name:e.name,readTime:B_(Rx(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function J_(e){return R_(e,"bundles")}function X_(e){return R_(e,"namedQueries")}var Z_=function(){function e(t,n){Rt(this,e),this.yt=t,this.userId=n}return Lt(e,[{key:"getOverlay",value:function(e,t){var n=this;return eS(e).get(Q_(this.userId,t)).next((function(e){return e?H_(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=cx();return gk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new M_(t,a);i.push(r.oe(e,o))})),gk.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(a_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(eS(e).Y("collectionPathOverlayIndex",i))})),gk.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=cx(),a=a_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return eS(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Gt(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=H_(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=cx(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return eS(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=H_(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return eS(e).put(function(e,t,n){var r=At(Q_(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Kx(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function eS(e){return R_(e,"documentOverlays")}var tS=function(){function e(){Rt(this,e)}return Lt(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(qk(e.integerValue));else if("doubleValue"in e){var n=qk(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Fk(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(zk(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?cb(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Rg()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),ik.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function nS(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function rS(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=nS(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}tS.Ie=new tS;var iS=function(){function e(){Rt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Lt(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=Gt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=Gt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=rS(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=rS(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),aS=function(){function e(t){Rt(this,e),this.$e=t}return Lt(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),oS=function(){function e(t){Rt(this,e),this.$e=t}return Lt(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),uS=function(){function e(){Rt(this,e),this.$e=new iS,this.Be=new aS(this.$e),this.Le=new oS(this.$e)}return Lt(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),sS=function(){function e(t,n,r,i){Rt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Lt(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function cS(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=lS(e.arrayValue,t.arrayValue))?n:0!==(n=lS(e.directionalValue,t.directionalValue))?n:ik.comparator(e.documentKey,t.documentKey)}function lS(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var fS=function(){function e(t){Rt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=Gt(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Lt(e,[{key:"je",value:function(e){Pg(e.collectionGroup===this.collectionId);var t=ok(e);if(void 0!==t&&!this.We(t))return!1;for(var n=uk(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=Gt(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function hS(e){var t,n;if(Pg(e instanceof gb||e instanceof kb),e instanceof gb){if(e instanceof Rb){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return gb.create(e.field,"==",t)})))||[];return kb.create(r,"or")}return e}var i=e.filters.map((function(e){return hS(e)}));return kb.create(i,e.op)}function dS(e){if(0===e.getFilters().length)return[];var t=mS(hS(e));return Pg(yS(t)),pS(t)||vS(t)?[t]:t.getFilters()}function pS(e){return e instanceof gb}function vS(e){return e instanceof kb&&xb(e)}function yS(e){return pS(e)||vS(e)||function(e){if(e instanceof kb&&wb(e)){var t,n=Gt(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!pS(r)&&!vS(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function mS(e){if(Pg(e instanceof gb||e instanceof kb),e instanceof gb)return e;if(1===e.filters.length)return mS(e.filters[0]);var t=e.filters.map((function(e){return mS(e)})),n=kb.create(t,e.op);return yS(n=bS(n))?n:(Pg(n instanceof kb),Pg(bb(n)),Pg(n.filters.length>1),n.filters.reduce((function(e,t){return gS(e,t)})))}function gS(e,t){var n;return Pg(e instanceof gb||e instanceof kb),Pg(t instanceof gb||t instanceof kb),n=e instanceof gb?t instanceof gb?function(e,t){return kb.create([e,t],"and")}(e,t):kS(e,t):t instanceof gb?kS(t,e):function(e,t){if(Pg(e.filters.length>0&&t.filters.length>0),bb(e)&&bb(t))return Ib(e,t.getFilters());var n=wb(e)?e:t,r=wb(e)?t:e,i=n.filters.map((function(e){return gS(e,r)}));return kb.create(i,"or")}(e,t),bS(n)}function kS(e,t){if(bb(t))return Ib(t,e.getFilters());var n=t.filters.map((function(t){return gS(e,t)}));return kb.create(n,"or")}function bS(e){if(Pg(e instanceof gb||e instanceof kb),e instanceof gb)return e;var t=e.getFilters();if(1===t.length)return bS(t[0]);if(_b(e))return e;var n=t.map((function(e){return bS(e)})),r=[];return n.forEach((function(t){t instanceof gb?r.push(t):t instanceof kb&&(t.op===e.op?r.push.apply(r,Dt(t.filters)):r.push(t))})),1===r.length?r[0]:kb.create(r,e.op)}var wS=function(){function e(){Rt(this,e),this.Je=new xS}return Lt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),gk.resolve()}},{key:"getCollectionParents",value:function(e,t){return gk.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return gk.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return gk.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return gk.resolve(null)}},{key:"getIndexType",value:function(e,t){return gk.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return gk.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return gk.resolve(null)}},{key:"getMinOffset",value:function(e,t){return gk.resolve(hk.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return gk.resolve(hk.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return gk.resolve()}},{key:"updateIndexEntries",value:function(e,t){return gk.resolve()}}]),e}(),xS=function(){function e(){Rt(this,e),this.index={}}return Lt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Bb(tk.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Bb(tk.comparator)).toArray()}}]),e}(),_S=new Uint8Array(0),SS=function(){function e(t,n){Rt(this,e),this.user=t,this.databaseId=n,this.Ye=new xS,this.Xe=new rx((function(e){return Yb(e)}),(function(e,t){return Jb(e,t)})),this.uid=t.uid||""}return Lt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:a_(i)};return ES(e).put(a)}return gk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Jg(t),""],!1,!0);return ES(e).W(r).next((function(e){var r,i=Gt(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(s_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=TS(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=CS(e);return a.next((function(e){o.put($_(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=TS(e),r=CS(e),i=IS(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=IS(e),i=!0,a=new Map;return gk.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=px(),o=[];return gk.forEach(a,(function(i,a){var u;Ng("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Yb(t)));var s=function(e,t){var n=ok(t);if(void 0===n)return null;var r,i=Gt(Zb(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Gt(uk(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Gt(Zb(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Gt(uk(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ew(e,o.fieldPath,e.startAt):tw(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new pb(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Gt(uk(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?tw(e,o.fieldPath,e.endAt):ew(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new pb(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return gk.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=ik.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return gk.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:dS(kb.create(e.filters,"and")).map((function(t){return $b(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.rn(t[h/c]):_S,f=u.on(e,s,n[h%c],r),d=u.un(e,s,i[h%c],a),p=o.map((function(t){return u.on(e,s,t,!0)}));l.push.apply(l,Dt(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"on",value:function(e,t,n,r){var i=new sS(e,ik.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new sS(e,ik.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new fS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Gt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return gk.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Bb(rk.comparator),r=!1,i=Gt(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Gt(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=Gt(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new uS,i=Gt(uk(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);tS.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new uS;return tS.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new uS;return tS.Ie.ue(nb(this.databaseId,t),n.qe(function(e){var t=uk(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new uS);var i,a=0,o=Gt(uk(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Gt(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&ib(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);tS.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=Dt(e),a=[],o=Gt(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Gt(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new uS;f.seed(l.Fe()),tS.Ie.ue(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof gb&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=TS(e),i=CS(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return gk.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ck(t.sequenceNumber,new hk(q_(t.readTime),new ik(s_(t.documentKey)),t.largestBatchId)):ck.empty(),r=e.fields.map((function(e){var t=At(e,2),n=t[0],r=t[1];return new sk(rk.fromServerFormat(n),r)}));return new ak(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:$g(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=TS(e),a=CS(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return gk.forEach(t,(function(t){return a.put($_(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return gk.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?gk.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),gk.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?gk.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return IS(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return IS(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=IS(e),i=new Bb(cS);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new sS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Bb(cS),r=this.cn(t,e);if(null==r)return n;var i=ok(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ib(a)){var o,u=Gt(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new sS(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new sS(t.indexId,e.key,_S,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;Ng("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=zb(a),s=zb(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=zb(o)):l?(i(u),u=zb(a)):(u=zb(a),s=zb(o))}}(r,i,cS,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),gk.waitFor(o)}},{key:"dn",value:function(e){var t=1;return CS(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return cS(e,t)})).filter((function(e,t,n){return!t||0!==cS(e,n[t-1])}));var r=[];r.push(e);var i,a=Gt(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=cS(o,e),s=cS(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,_S,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,_S,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return cS(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(NS)}},{key:"getMinOffset",value:function(e,t){var n=this;return gk.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||Rg()}))})).next(NS)}}]),e}();function ES(e){return R_(e,"collectionParents")}function IS(e){return R_(e,"indexEntries")}function TS(e){return R_(e,"indexConfiguration")}function CS(e){return R_(e,"indexState")}function NS(e){Pg(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;dk(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new hk(t.readTime,t.documentKey,n)}var AS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OS=function(){function e(t,n,r){Rt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Lt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function DS(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Pg(1===u)})));var c,l=[],f=Gt(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=f_(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return gk.waitFor(a).next((function(){return l}))}function RS(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Rg();t=e.noDocument}return JSON.stringify(t).length}OS.DEFAULT_COLLECTION_PERCENTILE=10,OS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,OS.DEFAULT=new OS(41943040,OS.DEFAULT_COLLECTION_PERCENTILE,OS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),OS.DISABLED=new OS(-1,0,0);var PS=function(){function e(t,n,r,i){Rt(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Lt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return MS(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=FS(e),o=MS(e);return o.add({}).next((function(u){Pg("number"==typeof u);var s,c=new P_(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Kx(e.ie,t)})),i=n.mutations.map((function(t){return Kx(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new Bb((function(e,t){return $g(e.canonicalString(),t.canonicalString())})),d=Gt(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=f_(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,h_))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),gk.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return MS(e).get(t).next((function(e){return e?(Pg(e.userId===n.userId),z_(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?gk.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return MS(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Pg(t.batchId>=r),a=z_(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return MS(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return MS(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return z_(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=l_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return FS(e).Z({range:i},(function(r,i,o){var u=At(r,3),s=u[0],c=u[1],l=u[2],f=s_(c);if(s===n.userId&&t.path.isEqual(f))return MS(e).get(l).next((function(e){if(!e)throw Rg();Pg(e.userId===n.userId),a.push(z_(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Bb($g),i=[];return t.forEach((function(t){var a=l_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=FS(e).Z({range:o},(function(e,i,a){var o=At(e,3),u=o[0],s=o[1],c=o[2],l=s_(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),gk.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=l_(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Bb($g);return FS(e).Z({range:o},(function(e,t,a){var o=At(e,3),s=o[0],c=o[1],l=o[2],f=s_(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(MS(e).get(t).next((function(e){if(null===e)throw Rg();Pg(e.userId===n.userId),r.push(z_(n.yt,e))})))})),gk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return DS(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),gk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return gk.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return FS(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=s_(e[1]);i.push(a)}else r.done()})).next((function(){Pg(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return LS(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return US(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return Pg(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function LS(e,t,n){var r=l_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return FS(e).Z({range:a,X:!0},(function(e,n,r){var a=At(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function MS(e){return R_(e,"mutations")}function FS(e){return R_(e,"documentMutations")}function US(e){return R_(e,"mutationQueues")}var jS=function(){function e(t){Rt(this,e),this.bn=t}return Lt(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),VS=function(){function e(t,n){Rt(this,e),this.referenceDelegate=t,this.yt=n}return Lt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new jS(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Zg.fromTimestamp(new Xg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return BS(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Pg(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return BS(e).Z((function(o,u){var s=W_(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return gk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return BS(e).Z((function(e,n){var r=W_(n);t(r)}))}},{key:"Vn",value:function(e){return qS(e).get("targetGlobalKey").next((function(e){return Pg(null!==e),e}))}},{key:"Sn",value:function(e,t){return qS(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return BS(e).put(K_(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Yb(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return BS(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=W_(n);Jb(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=zS(e);return t.forEach((function(t){var o=a_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),gk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=zS(e);return gk.forEach(t,(function(t){var a=a_(t.path);return gk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=zS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=zS(e),i=px();return r.Z({range:n,X:!0},(function(e,t,n){var r=s_(e[1]),a=new ik(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=a_(t.path),r=IDBKeyRange.bound([n],[Jg(n)],!1,!0),i=0;return zS(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=At(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return BS(e).get(t).next((function(e){return e?W_(e):null}))}}]),e}();function BS(e){return R_(e,"targets")}function qS(e){return R_(e,"targetGlobal")}function zS(e){return R_(e,"targetDocuments")}function WS(e,t){var n=At(e,2),r=n[0],i=n[1],a=At(t,2),o=a[0],u=a[1],s=$g(r,o);return 0===s?$g(i,u):s}var KS=function(){function e(t){Rt(this,e),this.xn=t,this.buffer=new Bb(WS),this.Nn=0}return Lt(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();WS(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),GS=function(){function e(t,n,r){Rt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return Lt(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Ng("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!_k(e.t0)){e.next=12;break}Ng("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,yk(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),HS=function(){function e(t,n){Rt(this,e),this.$n=t,this.params=n}return Lt(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return gk.resolve(Ak.at);var r=new KS(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ng("LruGarbageCollector","Garbage collection skipped; disabled"),gk.resolve(AS)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ng("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),AS):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ng("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Cg()<=Ua.DEBUG&&Ng("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),gk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),QS=function(){function e(t,n){Rt(this,e),this.db=t,this.garbageCollector=function(e,t){return new HS(e,t)}(this,n)}return Lt(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return $S(e,n)}},{key:"removeReference",value:function(e,t,n){return $S(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return $S(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return US(e).tt((function(r){return LS(e,r,t).next((function(e){return e&&(n=!0),gk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Zg.min()),zS(e).delete([0,a_(o.path)])}))}));i.push(s)}})).next((function(){return gk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return $S(e,t)}},{key:"Kn",value:function(e,t){var n,r=zS(e),i=Ak.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=At(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Ak.at&&t(new ik(s_(n)),i),i=s,n=u):i=Ak.at})).next((function(){i!==Ak.at&&t(new ik(s_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function $S(e,t){return zS(e).put(function(e,t){return{targetId:0,path:a_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var YS=function(){function e(){Rt(this,e),this.changes=new rx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Lt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Hb.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?gk.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),JS=function(){function e(t){Rt(this,e),this.yt=t}return Lt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return tE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return tE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],V_(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Hb.newInvalidDocument(t);return tE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(nE(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Hb.newInvalidDocument(t)};return tE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(nE(t))},(function(e,i){r={document:n.jn(t,i),size:RS(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ax();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=ax(),i=new Ub(ik.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,RS(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return gk.resolve();var r=new Bb(iE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(nE(r.first()),nE(r.last())),a=r.getIterator(),o=a.getNext();return tE(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ik.fromSegments([].concat(Dt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&iE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(nE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),V_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tE(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=ax(),i=Gt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(ik.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ax(),o=rE(t,n),u=rE(t,hk.max());return tE(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(ik.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new ZS(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return eE(e).get("remoteDocumentGlobalKey").next((function(e){return Pg(!!e),e}))}},{key:"Qn",value:function(e,t){return eE(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=zx(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ik.fromSegments(t.noDocument.path),i=q_(t.noDocument.readTime);n=Hb.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Rg();var a=ik.fromSegments(t.unknownDocument.path),o=q_(t.unknownDocument.version);n=Hb.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Xg(e[0],e[1]);return Zg.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(Zg.min()))return n}return Hb.newInvalidDocument(e)}}]),e}();function XS(e){return new JS(e)}var ZS=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new rx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Lt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Bb((function(e,t){return $g(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=j_(t.Yn.yt,o);i=i.add(a.path.popLast());var c=RS(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=j_(t.Yn.yt,o.convertToNoDocument(Zg.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),gk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(YS);function eE(e){return R_(e,"remoteDocumentGlobal")}function tE(e){return R_(e,"remoteDocumentsV14")}function nE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function rE(e,t){var n=t.documentKey.path.toArray();return[e,V_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function iE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=$g(n[a],r[a]))return i;return(i=$g(n.length,r.length))||((i=$g(n[n.length-2],r[r.length-2]))||$g(n[n.length-1],r[r.length-1]))}var aE=Lt((function e(t,n){Rt(this,e),this.overlayedDocument=t,this.mutatedFields=n})),oE=function(){function e(t,n,r,i){Rt(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Lt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&qw(r.mutation,e,Wb.empty(),Xg.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,px()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:px(),i=cx();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=ux();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=cx();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,px())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ax(),a=fx(),o=fx();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Gw)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),qw(o.mutation,t,o.mutation.getFieldMask(),Xg.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new aE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=fx(),i=new Ub((function(e,t){return e-t})),a=px();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Gt(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Wb.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||px()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=lx();c.forEach((function(e){if(!a.has(e)){var n=Vw(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return gk.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ik.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):gk.resolve(cx()),u=-1,s=a;return o.next((function(t){return gk.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?gk.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,px())})).next((function(e){return{batchId:u,changes:sx(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ik(t)).next((function(e){var t=ux();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ux();return this.indexManager.getCollectionParents(e,i).next((function(o){return gk.forEach(o,(function(o){var u=function(e,t){return new nw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Hb.newInvalidDocument(n)))}));var n=ux();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&qw(a.mutation,i,Wb.empty(),Xg.now()),yw(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),uE=function(){function e(t){Rt(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return Lt(e,[{key:"getBundleMetadata",value:function(e,t){return gk.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Rx(n.createTime)}),gk.resolve()}},{key:"getNamedQuery",value:function(e,t){return gk.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:G_(e.bundledQuery),readTime:Rx(e.readTime)}}(t)),gk.resolve()}}]),e}(),sE=function(){function e(){Rt(this,e),this.overlays=new Ub(ik.comparator),this.es=new Map}return Lt(e,[{key:"getOverlay",value:function(e,t){return gk.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=cx();return gk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),gk.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),gk.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=cx(),i=t.length+1,a=new ik(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return gk.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ub((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=cx(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=cx(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return gk.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new M_(t,n));var a=this.es.get(t);void 0===a&&(a=px(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),cE=function(){function e(){Rt(this,e),this.ns=new Bb(lE.ss),this.rs=new Bb(lE.os)}return Lt(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new lE(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new lE(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new ik(new tk([])),r=new lE(n,e),i=new lE(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new ik(new tk([])),n=new lE(t,e),r=new lE(t,e+1),i=px();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new lE(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),lE=function(){function e(t,n){Rt(this,e),this.key=t,this._s=n}return Lt(e,null,[{key:"ss",value:function(e,t){return ik.comparator(e.key,t.key)||$g(e._s,t._s)}},{key:"os",value:function(e,t){return $g(e._s,t._s)||ik.comparator(e.key,t.key)}}]),e}(),fE=function(){function e(t,n){Rt(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Bb(lE.ss)}return Lt(e,[{key:"checkEmpty",value:function(e){return gk.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new P_(i,t,n,r);this.mutationQueue.push(a);var o,u=Gt(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new lE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return gk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return gk.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return gk.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return gk.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return gk.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new lE(t,0),i=new lE(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),gk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Bb($g);return t.forEach((function(e){var t=new lE(e,0),i=new lE(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),gk.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ik.isDocumentKey(i)||(i=i.child(""));var a=new lE(new ik(i),0),o=new Bb($g);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),gk.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Pg(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return gk.forEach(t.mutations,(function(i){var a=new lE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new lE(t,0),r=this.gs.firstAfterOrEqual(n);return gk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,gk.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),hE=function(){function e(t){Rt(this,e),this.Es=t,this.docs=new Ub(ik.comparator),this.size=0}return Lt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return gk.resolve(n?n.document.mutableCopy():Hb.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ax();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Hb.newInvalidDocument(e))})),gk.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=ax(),i=new ik(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||dk(fk(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return gk.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Rg()}},{key:"As",value:function(e,t){return gk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new dE(this)}},{key:"getSize",value:function(e){return gk.resolve(this.size)}}]),e}(),dE=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).Yn=e,r}return Lt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),gk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(YS),pE=function(){function e(t){Rt(this,e),this.persistence=t,this.Rs=new rx((function(e){return Yb(e)}),Jb),this.lastRemoteSnapshotVersion=Zg.min(),this.highestTargetId=0,this.bs=0,this.Ps=new cE,this.targetCount=0,this.vs=jS.Pn()}return Lt(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),gk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return gk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return gk.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),gk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),gk.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new jS(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,gk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),gk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,gk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),gk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return gk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return gk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),gk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),gk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),gk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return gk.resolve(n)}},{key:"containsKey",value:function(e,t){return gk.resolve(this.Ps.containsKey(t))}}]),e}(),vE=function(){function e(t,n){var r=this;Rt(this,e),this.Vs={},this.overlays={},this.Ss=new Ak(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new pE(this),this.indexManager=new wS,this.remoteDocumentCache=new hE((function(e){return r.referenceDelegate.xs(e)})),this.yt=new U_(n),this.Ns=new uE(this.yt)}return Lt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new sE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new fE(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Ng("MemoryPersistence","Starting transaction:",e);var i=new yE(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return gk.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),yE=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Lt(n)}(vk),mE=function(){function e(t){Rt(this,e),this.persistence=t,this.Fs=new cE,this.$s=null}return Lt(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Rg()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),gk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),gk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),gk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gk.forEach(this.Ls,(function(r){var i=ik.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,Zg.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return gk.or([function(){return gk.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),gE=function(){function e(t){Rt(this,e),this.yt=t}return Lt(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new kk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",c_,{unique:!0}),e.createObjectStore("documentMutations")}(e),kE(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=gk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),kE(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",c_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return gk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:S_});t.createIndex("collectionPathOverlayIndex",E_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",I_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:d_});t.createIndex("documentKeyIndex",p_),t.createIndex("collectionGroupIndex",v_)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:b_}).createIndex("sequenceNumberIndex",w_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:x_}).createIndex("documentKeyIndex",__,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=RS(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return gk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return gk.forEach(r,(function(r){Pg(r.userId===n.userId);var i=z_(t.yt,r);return DS(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new tk(n),o=function(e){return[0,a_(e)]}(a);r.push(t.get(o).next((function(n){return n?gk.resolve():function(n){return t.put({targetId:0,path:a_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return gk.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:k_});var n=t.store("collectionParents"),r=new xS,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:a_(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new tk(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=At(e,3),r=(n[0],n[1]),a=(n[2],s_(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=W_(r),a=K_(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new ik(tk.fromString(i.document.name).popFirst(5)):i.noDocument?ik.fromSegments(i.noDocument.path):i.unknownDocument?ik.fromSegments(i.unknownDocument.path):Rg()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return gk.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=XS(this.yt),a=new vE(mE.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:px();z_(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),gk.forEach(r,(function(e,r){var o=new Eg(r),u=Z_.re(n.yt,o),s=a.getIndexManager(o),c=PS.re(o,n.yt,s,a.referenceDelegate);return new oE(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new D_(t,Ak.at),e).next()}))}))}}]),e}();function kE(e){e.createObjectStore("targetDocuments",{keyPath:m_}).createIndex("documentTargetsIndex",g_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",y_,{unique:!0}),e.createObjectStore("targetGlobal")}var bE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wE=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Rt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Fg(Mg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QS(this,i),this.ii=n+"main",this.yt=new U_(s),this.ri=new bk(this.ii,this.Xs,new gE(this.yt)),this.Cs=new VS(this.referenceDelegate,this.yt),this.remoteDocumentCache=XS(this.yt),this.Ns=new Y_,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Ag("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Lt(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Fg(Mg.FAILED_PRECONDITION,bE);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Ak(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=cr(ur().mark((function n(r){return ur().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=cr(ur().mark((function t(n){return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return _E(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(_k(t))return Ng("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ng("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return xE(e).get("owner").next((function(e){return gk.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return _E(e).delete(this.clientId)}},{key:"yi",value:function(){var e=cr(ur().mark((function e(){var t,n,r,i,a=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=R_(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return gk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Gt(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?gk.resolve(!0):xE(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Fg(Mg.FAILED_PRECONDITION,bE);return!1}}return!(!t.networkEnabled||!t.inForeground)||_E(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ng("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=cr(ur().mark((function e(){var t=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new D_(e,Ak.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return _E(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return PS.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new SS(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Z_.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Ng("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?O_:14===i?A_:13===i?N_:12===i?C_:11===i?T_:void Rg();return this.ri.runTransaction(e,o,u,(function(i){return a=new D_(i,r.Ss?r.Ss.next():Ak.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Ag("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Fg(Mg.FAILED_PRECONDITION,pk);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return xE(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Fg(Mg.FAILED_PRECONDITION,bE)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xE(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=xE(e);return n.get("owner").next((function(e){return t.mi(e)?(Ng("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):gk.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ag("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!la()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ng("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ag("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(C){Ag("Failed to set zombie client id.",C)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(C){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return bk.C()}}]),e}();function xE(e){return R_(e,"owner")}function _E(e){return R_(e,"clientMetadata")}function SE(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var EE=function(){function e(t,n,r,i){Rt(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Lt(e,null,[{key:"Ci",value:function(t,n){var r,i=px(),a=px(),o=Gt(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),IE=function(){function e(){Rt(this,e),this.xi=!1}return Lt(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(aw(t))return gk.resolve(null);var r=lw(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=hw(t,null,"F"),r=lw(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=px.apply(void 0,Dt(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,hw(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return aw(t)||r.isEqual(Zg.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Cg()<=Ua.DEBUG&&Ng("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vw(t)),i.Bi(e,o,t,lk(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Bb(gw(e));return t.forEach((function(t,r){yw(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Cg()<=Ua.DEBUG&&Ng("QueryEngine","Using full collection scan to execute query:",vw(t)),this.Ni.getDocumentsMatchingQuery(e,t,hk.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),TE=function(){function e(t,n,r,i){Rt(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new Ub($g),this.Ui=new rx((function(e){return Yb(e)}),Jb),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Lt(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oE(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function CE(e,t,n,r){return new TE(e,t,n,r)}function NE(e,t){return AE.apply(this,arguments)}function AE(){return AE=cr(ur().mark((function e(t,n){var r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=px(),s=Gt(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Gt(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Gt(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Gt(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function OE(e,t){var n=Lg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=gk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Pg(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=px(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function DE(e){var t=Lg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function RE(e,t){var n=Lg(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(jk.EMPTY_BYTE_STRING,Zg.min()).withLastLimboFreeSnapshotVersion(Zg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=ax(),s=px();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(PE(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Zg.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return gk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function PE(e,t,n){var r=px(),i=px();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ax();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Zg.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ng("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function LE(e,t){var n=Lg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function ME(e,t){var n=Lg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,gk.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new F_(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function FE(e,t,n){return UE.apply(this,arguments)}function UE(){return UE=cr(ur().mark((function e(t,n,r){var i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Lg(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),_k(e.t1)){e.next=12;break}throw e.t1;case 12:Ng("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),UE.apply(this,arguments)}function jE(e,t,n){var r=Lg(e),i=Zg.min(),a=px();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Lg(e),i=r.Ui.get(n);return void 0!==i?gk.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,lw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Zg.min(),n?a:px())})).next((function(e){return qE(r,mw(t),e),{documents:e,Hi:a}}))}))}function VE(e,t){var n=Lg(e),r=Lg(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function BE(e,t){var n=Lg(e),r=n.Ki.get(t)||Zg.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,lk(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return qE(n,t,e),e}))}function qE(e,t,n){var r=e.Ki.get(t)||Zg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function zE(e,t,n,r){return WE.apply(this,arguments)}function WE(){return WE=cr(ur().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Lg(t),o=px(),u=ax(),s=Gt(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,ME(a,function(e){return lw(iw(tk.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return PE(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function KE(e,t){return GE.apply(this,arguments)}function GE(){return GE=cr(ur().mark((function e(t,n){var r,i,a,o=arguments;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:px(),e.next=3,ME(t,lw(G_(n.bundledQuery)));case 3:return i=e.sent,a=Lg(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Rx(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(jk.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function HE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function QE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function $E(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var YE=function(){function e(t,n,r,i){Rt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Lt(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Fg(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ag("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),JE=function(){function e(t,n,r){Rt(this,e),this.targetId=t,this.state=n,this.error=r}return Lt(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Fg(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ag("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),XE=function(){function e(t,n){Rt(this,e),this.clientId=t,this.activeTargetIds=n}return Lt(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=yx(),o=0;i&&o<r.activeTargetIds.length;++o)i=Uk(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ag("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ZE=function(){function e(t,n){Rt(this,e),this.clientId=t,this.onlineState=n}return Lt(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ag("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),eI=function(){function e(){Rt(this,e),this.activeTargetIds=yx()}return Lt(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),tI=function(){function e(t,n,r,i,a){Rt(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ub($g),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=HE(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new eI),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Lt(e,[{key:"start",value:function(){var e=cr(ur().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Gt(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(HE(this.persistenceKey,i)))&&(o=XE.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Gt(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem($E(this.persistenceKey,e));if(n){var r=JE.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem($E(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ng("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ng("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ng("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ng("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Ag("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(cr(ur().mark((function e(){var r,i,a,o,u,s,c;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=Ak.at;if(null!=e)try{var n=JSON.parse(e);Pg("number"==typeof n),t=n}catch(e){Ag("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Ak.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new YE(this.currentUser,e,t,n),i=QE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=QE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=$E(this.persistenceKey,e),i=new JE(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return XE.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return YE.Zi(new Eg(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return JE.Zi(r,t)}},{key:"yr",value:function(e){return ZE.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Ng("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=yx();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),nI=function(){function e(){Rt(this,e),this.Lr=new eI,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Lt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new eI,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),rI=function(){function e(){Rt(this,e)}return Lt(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),iI=function(){function e(){var t=this;Rt(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Lt(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Ng("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Gt(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Ng("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Gt(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),aI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},oI=function(){function e(t){Rt(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Lt(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),uI=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Rt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Lt(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new _g;o.setWithCredentials(!0),o.listenOnce(gg.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case mg.NO_ERROR:var t=o.getResponseJson();Ng("Connection","XHR received:",JSON.stringify(t)),i(t);break;case mg.TIMEOUT:Ng("Connection",'RPC "'+e+'" timed out'),a(new Fg(Mg.DEADLINE_EXCEEDED,"Request time out"));break;case mg.HTTP_ERROR:var n=o.getStatus();if(Ng("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Mg).indexOf(t)>=0?t:Mg.UNKNOWN}(u.status);a(new Fg(s,u.message))}else a(new Fg(Mg.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Fg(Mg.UNAVAILABLE,"Connection failed."));break;default:Rg()}}finally{Ng("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=vg(),a=yg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new wg({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Ng("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new oI({Hr:function(e){l?Ng("Connection","Not sending because WebChannel is closed:",e):(c||(Ng("Connection","Opening WebChannel transport."),s.open(),c=!0),Ng("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,xg.EventType.OPEN,(function(){l||Ng("Connection","WebChannel transport opened.")})),h(s,xg.EventType.CLOSE,(function(){l||(l=!0,Ng("Connection","WebChannel transport closed"),f.io())})),h(s,xg.EventType.ERROR,(function(e){l||(l=!0,Og("Connection","WebChannel transport errored:",e),f.io(new Fg(Mg.UNAVAILABLE,"The operation could not be completed")))})),h(s,xg.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Pg(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ng("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Yw[e];if(void 0!==t)return nx(t)}(a),u=i.message;void 0===o&&(o=Mg.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Fg(o,u)),s.close()}else Ng("Connection","WebChannel received:",n),f.ro(n)}})),h(a,kg.STAT_EVENT,(function(e){e.stat===bg.PROXY?Ng("Connection","Detected buffering proxy"):e.stat===bg.NOPROXY&&Ng("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Rt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Lt(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Ng("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Ng("RestConnection","Received: ",e),e}),(function(t){throw Og("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ig,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=aI[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function sI(){return"undefined"!=typeof window?window:null}function cI(){return"undefined"!=typeof document?document:null}function lI(e){return new Nx(e,!0)}var fI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Rt(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Lt(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Ng("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),hI=function(){function e(t,n,r,i,a,o,u,s){Rt(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new fI(t,n)}return Lt(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Mg.RESOURCE_EXHAUSTED?(Ag(n.toString()),Ag("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Mg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=At(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Fg(Mg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(cr(ur().mark((function t(){return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Ng("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Ng("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),dI=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a,o,u){var s;return Rt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return Lt(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Rg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(Pg(void 0===t||"string"==typeof t),jk.fromBase64String(t||"")):(Pg(void 0===t||t instanceof Uint8Array),jk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Mg.UNKNOWN:nx(e.code);return new Fg(t,e.message||"")}(o);n=new wx(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Fx(e,s.document.name),l=Rx(s.document.updateTime),f=s.document.createTime?Rx(s.document.createTime):Zg.min(),h=new Kb({mapValue:{fields:s.document.fields}}),d=Hb.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new kx(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=Fx(e,y.document),g=y.readTime?Rx(y.readTime):Zg.min(),k=Hb.newNoDocument(m,g),b=y.removedTargetIds||[];n=new kx([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Fx(e,w.document),_=w.removedTargetIds||[];n=new kx([],_,x,null)}else{if(!("filter"in t))return Rg();t.filter;var S=t.filter;S.targetId;var E=S.count||0,I=new ex(E),T=S.targetId;n=new bx(T,I)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return Zg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Zg.min():t.readTime?Rx(t.readTime):Zg.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Vx(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=Xb(r)?{documents:Hx(e,r)}:{query:Qx(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ox(e,t.resumeToken):t.snapshotVersion.compareTo(Zg.min())>0&&(n.readTime=Ax(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rg()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Vx(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(hI),pI=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a,o,u){var s;return Rt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return Lt(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,ou(Ut(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Pg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Pg(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Rx(e.updateTime):Rx(t);return n.isEqual(Zg.min())&&(n=Rx(t)),new Mw(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Rx(e.commitTime);return this.listener.Zo(n,t)}return Pg(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Vx(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Kx(t.yt,e)}))};this.Bo(n)}}]),n}(hI),vI=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a){var o;return Rt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return Lt(n,[{key:"su",value:function(){if(this.nu)throw new Fg(Mg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=At(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Mg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fg(Mg.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=At(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Mg.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Fg(Mg.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Lt((function e(){Rt(this,e)}))}());var yI=function(){function e(t,n){Rt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Lt(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Ag(t),this.ou=!1):Ng("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),mI=Lt((function e(t,n,r,i,a){var o=this;Rt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=CI(o),!e.t0){e.next=5;break}return Ng("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Lg(t))._u.add(4),e.next=4,bI(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,gI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new yI(r,i)}));function gI(e){return kI.apply(this,arguments)}function kI(){return kI=cr(ur().mark((function e(t){var n,r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!CI(t)){e.next=18;break}n=Gt(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),kI.apply(this,arguments)}function bI(e){return wI.apply(this,arguments)}function wI(){return wI=cr(ur().mark((function e(t){var n,r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Gt(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),wI.apply(this,arguments)}function xI(e,t){var n=Lg(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),TI(n)?II(n):rT(n).ko()&&SI(n,t))}function _I(e,t){var n=Lg(e),r=rT(n);n.du.delete(t),r.ko()&&EI(n,t),0===n.du.size&&(r.ko()?r.Fo():CI(n)&&n.gu.set("Unknown"))}function SI(e,t){e.yu.Ot(t.targetId),rT(e).zo(t)}function EI(e,t){e.yu.Ot(t),rT(e).Ho(t)}function II(e){e.yu=new _x({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),rT(e).start(),e.gu.uu()}function TI(e){return CI(e)&&!rT(e).No()&&e.du.size>0}function CI(e){return 0===Lg(e)._u.size}function NI(e){e.yu=void 0}function AI(e){return OI.apply(this,arguments)}function OI(){return OI=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){SI(t,e)}));case 1:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}function DI(e,t){return RI.apply(this,arguments)}function RI(){return RI=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:NI(t),TI(t)?(t.gu.hu(n),II(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),RI.apply(this,arguments)}function PI(e,t,n){return LI.apply(this,arguments)}function LI(){return LI=cr(ur().mark((function e(t,n,r){var i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof wx&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=cr(ur().mark((function e(t,n){var r,i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Gt(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ng("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,MI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof kx?t.yu.Kt(n):n instanceof bx?t.yu.Jt(n):t.yu.jt(n),r.isEqual(Zg.min())){e.next=29;break}return e.prev=14,e.next=17,DE(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(jk.EMPTY_BYTE_STRING,n.snapshotVersion)),EI(e,t);var r=new F_(n.target,t,1,n.sequenceNumber);SI(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ng("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,MI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),LI.apply(this,arguments)}function MI(e,t,n){return FI.apply(this,arguments)}function FI(){return FI=cr(ur().mark((function e(t,n,r){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_k(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,bI(t);case 5:t.gu.set("Offline"),r||(r=function(){return DE(t.localStore)}),t.asyncQueue.enqueueRetryable(cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ng("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,gI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),FI.apply(this,arguments)}function UI(e,t){return t().catch((function(n){return MI(e,n,t)}))}function jI(e){return VI.apply(this,arguments)}function VI(){return VI=cr(ur().mark((function e(t){var n,r,i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Lg(t),r=iT(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!BI(n)){e.next=19;break}return e.prev=3,e.next=6,LE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,qI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,MI(n,e.t0);case 17:e.next=2;break;case 19:zI(n)&&WI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),VI.apply(this,arguments)}function BI(e){return CI(e)&&e.fu.length<10}function qI(e,t){e.fu.push(t);var n=iT(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function zI(e){return CI(e)&&!iT(e).No()&&e.fu.length>0}function WI(e){iT(e).start()}function KI(e){return GI.apply(this,arguments)}function GI(){return GI=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:iT(t).eu();case 1:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}function HI(e){return QI.apply(this,arguments)}function QI(){return QI=cr(ur().mark((function e(t){var n,r,i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=iT(t),r=Gt(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function $I(e,t,n){return YI.apply(this,arguments)}function YI(){return YI=cr(ur().mark((function e(t,n,r){var i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=L_.from(i,n,r),e.next=3,UI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,jI(t);case 5:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}function JI(e,t){return XI.apply(this,arguments)}function XI(){return XI=cr(ur().mark((function e(t,n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&iT(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=cr(ur().mark((function e(t,n){var r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tx(i=n.code)||i===Mg.ABORTED){e.next=7;break}return r=t.fu.shift(),iT(t).Mo(),e.next=5,UI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,jI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:zI(t)&&WI(t);case 5:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function ZI(e,t){return eT.apply(this,arguments)}function eT(){return eT=cr(ur().mark((function e(t,n){var r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Lg(t)).asyncQueue.verifyOperationInProgress(),Ng("RemoteStore","RemoteStore received new credentials"),i=CI(r),r._u.add(3),e.next=6,bI(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,gI(r);case 12:case"end":return e.stop()}}),e)}))),eT.apply(this,arguments)}function tT(e,t){return nT.apply(this,arguments)}function nT(){return nT=cr(ur().mark((function e(t,n){var r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lg(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,gI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,bI(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),nT.apply(this,arguments)}function rT(e){return e.pu||(e.pu=function(e,t,n){var r=Lg(e);return r.su(),new dI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:AI.bind(null,e),Zr:DI.bind(null,e),Wo:PI.bind(null,e)}),e.wu.push(function(){var t=cr(ur().mark((function t(n){return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),TI(e)?II(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:NI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function iT(e){return e.Iu||(e.Iu=function(e,t,n){var r=Lg(e);return r.su(),new pI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:KI.bind(null,e),Zr:JI.bind(null,e),tu:HI.bind(null,e),Zo:$I.bind(null,e)}),e.wu.push(function(){var t=cr(ur().mark((function t(n){return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,jI(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Ng("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var aT=function(){function e(t,n,r,i,a){Rt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ug,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Lt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fg(Mg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function oT(e,t){if(Ag("AsyncQueue","".concat(t,": ").concat(e)),_k(e))return new Fg(Mg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var uT=function(){function e(t){Rt(this,e),this.comparator=t?function(e,n){return t(e,n)||ik.comparator(e.key,n.key)}:function(e,t){return ik.comparator(e.key,t.key)},this.keyedMap=ux(),this.sortedSet=new Ub(this.comparator)}return Lt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),sT=function(){function e(){Rt(this,e),this.Tu=new Ub(ik.comparator)}return Lt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Rg():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),cT=function(){function e(t,n,r,i,a,o,u,s,c){Rt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Lt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,uT.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),lT=Lt((function e(){Rt(this,e),this.Au=void 0,this.listeners=[]})),fT=Lt((function e(){Rt(this,e),this.queries=new rx((function(e){return pw(e)}),dw),this.onlineState="Unknown",this.Ru=new Set}));function hT(e,t){return dT.apply(this,arguments)}function dT(){return dT=cr(ur().mark((function e(t,n){var r,i,a,o,u;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lg(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new lT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=oT(e.t0,"Initialization of query '".concat(vw(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&gT(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),dT.apply(this,arguments)}function pT(e,t){return vT.apply(this,arguments)}function vT(){return vT=cr(ur().mark((function e(t,n){var r,i,a,o,u;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lg(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}function yT(e,t){var n,r=Lg(e),i=!1,a=Gt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Gt(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&gT(r)}function mT(e,t,n){var r=Lg(e),i=r.queries.get(t);if(i){var a,o=Gt(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function gT(e){e.Ru.forEach((function(e){e.next()}))}var kT=function(){function e(t,n,r){Rt(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Lt(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Gt(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new cT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=cT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),bT=function(){function e(t,n){Rt(this,e),this.ku=t,this.byteLength=n}return Lt(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),wT=function(){function e(t){Rt(this,e),this.yt=t}return Lt(e,[{key:"Ji",value:function(e){return Fx(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?zx(this.yt,e.document,!1):Hb.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Rx(e)}}]),e}(),xT=function(){function e(t,n,r){Rt(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_T(t)}return Lt(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=tk.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new wT(this.yt),i=Gt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Gt(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||px()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=cr(ur().mark((function e(){var t,n,r,i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zE(this.localStore,new wT(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Gt(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,KE(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function _T(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ST=Lt((function e(t){Rt(this,e),this.key=t})),ET=Lt((function e(t){Rt(this,e),this.key=t})),IT=function(){function e(t,n){Rt(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=px(),this.mutatedKeys=px(),this.Gu=gw(t),this.Qu=new uT(this.Gu)}return Lt(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new sT,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=yw(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rg()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new cT(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new sT,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=px(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new ET(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new ST(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=px();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return cT.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),TT=Lt((function e(t,n,r){Rt(this,e),this.query=t,this.targetId=n,this.view=r})),CT=Lt((function e(t){Rt(this,e),this.key=t,this.nc=!1})),NT=function(){function e(t,n,r,i,a,o){Rt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new rx((function(e){return pw(e)}),dw),this.rc=new Map,this.oc=new Set,this.uc=new Ub(ik.comparator),this.cc=new Map,this.ac=new cE,this.hc={},this.lc=new Map,this.fc=jS.vn(),this.onlineState="Unknown",this.dc=void 0}return Lt(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function AT(e,t){return OT.apply(this,arguments)}function OT(){return OT=cr(ur().mark((function e(t,n){var r,i,a,o,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_C(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,ME(r.localStore,lw(n));case 8:return u=e.sent,r.isPrimaryClient&&xI(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,DT(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}function DT(e,t,n,r,i){return RT.apply(this,arguments)}function RT(){return RT=cr(ur().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=cr(ur().mark((function e(t,n,r,i){var a,o,u;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,jE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(ZT(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,jE(t.localStore,n,!0);case 3:return o=e.sent,u=new IT(n,o.Hi),s=u.Wu(o.documents),c=gx.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),ZT(t,r,l.Xu),f=new TT(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function PT(e,t){return LT.apply(this,arguments)}function LT(){return LT=cr(ur().mark((function e(t,n){var r,i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lg(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!dw(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,FE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),_I(r.remoteStore,i.targetId),JT(r,i.targetId)})).catch(yk);case 9:e.next=14;break;case 11:return JT(r,i.targetId),e.next=14,FE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}function MT(e,t,n){return FT.apply(this,arguments)}function FT(){return FT=cr(ur().mark((function e(t,n,r){var i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=SC(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Lg(e),a=Xg.now(),o=t.reduce((function(e,t){return e.add(t.key)}),px());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=ax(),s=px();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Gt(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=zw(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Gw(c.key,l,Gb(l.value.mapValue),Fw.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:sx(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Ub($g)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,nC(i,a.changes);case 9:return e.next=11,jI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=oT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),FT.apply(this,arguments)}function UT(e,t){return jT.apply(this,arguments)}function jT(){return jT=cr(ur().mark((function e(t,n){var r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),e.prev=1,e.next=4,RE(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Pg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Pg(n.nc):e.removedDocuments.size>0&&(Pg(n.nc),n.nc=!1))})),e.next=8,nC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,yk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),jT.apply(this,arguments)}function VT(e,t,n){var r=Lg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Lg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Gt(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&gT(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function BT(e,t,n){return qT.apply(this,arguments)}function qT(){return qT=cr(ur().mark((function e(t,n,r){var i,a,o,u,s,c;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Lg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ub(ik.comparator)).insert(o,Hb.newNoDocument(o,Zg.min())),s=px().add(o),c=new mx(Zg.min(),new Map,new Bb($g),u,s),e.next=9,UT(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),tC(i),e.next=16;break;case 14:return e.next=16,FE(i.localStore,n,!1).then((function(){return JT(i,n,r)})).catch(yk);case 16:case"end":return e.stop()}}),e)}))),qT.apply(this,arguments)}function zT(e,t){return WT.apply(this,arguments)}function WT(){return WT=cr(ur().mark((function e(t,n){var r,i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),i=n.batch.batchId,e.prev=1,e.next=4,OE(r.localStore,n);case 4:return a=e.sent,YT(r,i,null),$T(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,nC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),WT.apply(this,arguments)}function KT(e,t,n){return GT.apply(this,arguments)}function GT(){return GT=cr(ur().mark((function e(t,n,r){var i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lg(t),e.prev=1,e.next=4,function(e,t){var n=Lg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Pg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,YT(i,n,r),$T(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,nC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),GT.apply(this,arguments)}function HT(e,t){return QT.apply(this,arguments)}function QT(){return QT=cr(ur().mark((function e(t,n){var r,i,a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CI((r=Lg(t)).remoteStore)||Ng("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Lg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=oT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),QT.apply(this,arguments)}function $T(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function YT(e,t,n){var r=Lg(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function JT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Gt(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||XT(e,t)}))}function XT(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(_I(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),tC(e))}function ZT(e,t,n){var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ST?(e.ac.addReference(a.key,t),eC(e,a)):a instanceof ET?(Ng("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||XT(e,a.key)):Rg()}}catch(o){i.e(o)}finally{i.f()}}function eC(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Ng("SyncEngine","New document in limbo: "+n),e.oc.add(r),tC(e))}function tC(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new ik(tk.fromString(t)),r=e.fc.next();e.cc.set(r,new CT(n)),e.uc=e.uc.insert(n,r),xI(e.remoteStore,new F_(lw(iw(n.path)),r,2,Ak.at))}}function nC(e,t,n){return rC.apply(this,arguments)}function rC(){return rC=cr(ur().mark((function e(t,n,r){var i,a,o,u;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Lg(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=EE.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=cr(ur().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return gk.forEach(n,(function(t){return gk.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return gk.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),_k(e.t0)){e.next=10;break}throw e.t0;case 10:Ng("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Gt(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(e,t){return aC.apply(this,arguments)}function aC(){return aC=cr(ur().mark((function e(t,n){var r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Lg(t)).currentUser.isEqual(n)){e.next=11;break}return Ng("SyncEngine","User change. New user:",n.toKey()),e.next=5,NE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Fg(Mg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,nC(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),aC.apply(this,arguments)}function oC(e,t){var n=Lg(e),r=n.cc.get(t);if(r&&r.nc)return px().add(r.key);var i=px(),a=n.rc.get(t);if(!a)return i;var o,u=Gt(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function uC(e,t){return sC.apply(this,arguments)}function sC(){return sC=cr(ur().mark((function e(t,n){var r,i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),e.next=3,jE(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&ZT(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),sC.apply(this,arguments)}function cC(e,t){return lC.apply(this,arguments)}function lC(){return lC=cr(ur().mark((function e(t,n){var r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),e.abrupt("return",BE(r.localStore,n).then((function(e){return nC(r,e)})));case 2:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}function fC(e,t,n,r){return hC.apply(this,arguments)}function hC(){return hC=cr(ur().mark((function e(t,n,r,i){var a,o;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Lg(t),e.next=3,function(e,t){var n=Lg(e),r=Lg(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):gk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,jI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(YT(a,n,i||null),$T(a,n),function(e,t){Lg(Lg(e).mutationQueue).An(t)}(a.localStore,n)):Rg();case 11:return e.next=13,nC(a,o);case 13:e.next=16;break;case 15:Ng("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function dC(e,t){return pC.apply(this,arguments)}function pC(){return pC=cr(ur().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_C(r=Lg(t)),SC(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,vC(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,tT(r.remoteStore,!0);case 9:o=Gt(a);try{for(o.s();!(u=o.n()).done;)s=u.value,xI(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return JT(r,t),FE(r.localStore,t,!0)})),_I(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,vC(r,c);case 21:return function(e){var t=Lg(e);t.cc.forEach((function(e,n){_I(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Ub(ik.comparator)}(r),r.dc=!1,e.next=25,tT(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}function vC(e,t,n){return yC.apply(this,arguments)}function yC(){return yC=cr(ur().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Lg(t),a=[],o=[],u=Gt(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,ME(i.localStore,lw(f[0]));case 11:l=e.sent,h=Gt(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,uC(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,VE(i.localStore,c);case 36:return m=e.sent,e.next=39,ME(i.localStore,m);case 39:return l=e.sent,e.next=42,DT(i,mC(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),yC.apply(this,arguments)}function mC(e){return rw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function gC(e){var t=Lg(e);return Lg(Lg(t.localStore).persistence).vi()}function kC(e,t,n,r){return bC.apply(this,arguments)}function bC(){return bC=cr(ur().mark((function e(t,n,r,i){var a,o,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Lg(t)).dc){e.next=3;break}return e.abrupt("return",void Ng("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,BE(a.localStore,mw(o[0]));case 10:return u=e.sent,s=mx.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,jk.EMPTY_BYTE_STRING),e.next=14,nC(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,FE(a.localStore,n,!0);case 17:return JT(a,n,i),e.abrupt("break",20);case 19:Rg();case 20:case"end":return e.stop()}}),e)}))),bC.apply(this,arguments)}function wC(e,t,n){return xC.apply(this,arguments)}function xC(){return xC=cr(ur().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=_C(t)).dc){e.next=45;break}a=Gt(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return Ng("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,VE(i.localStore,u);case 12:return s=e.sent,e.next=15,ME(i.localStore,s);case 15:return c=e.sent,e.next=18,DT(i,mC(s),c.targetId,!1,c.resumeToken);case 18:xI(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Gt(r),e.prev=30,h=ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,FE(i.localStore,t,!1).then((function(){_I(i.remoteStore,t),JT(i,t)})).catch(yk);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),xC.apply(this,arguments)}function _C(e){var t=Lg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BT.bind(null,t),t.sc.Wo=yT.bind(null,t.eventManager),t.sc.wc=mT.bind(null,t.eventManager),t}function SC(e){var t=Lg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KT.bind(null,t),t}function EC(e,t,n){var r=Lg(e);(function(){var e=cr(ur().mark((function e(t,n,r){var i,a,o,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Lg(e),r=Rx(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(_T(i)),a=new xT(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,nC(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Lg(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Og("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var IC=function(){function e(){Rt(this,e),this.synchronizeTabs=!1}return Lt(e,[{key:"initialize",value:function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=lI(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return CE(this.persistence,new IE,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new vE(mE.Bs,this.yt)}},{key:"gc",value:function(e){return new nI}},{key:"terminate",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),TC=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Lt(n,[{key:"initialize",value:function(){var e=cr(ur().mark((function e(t){var r=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(Ut(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,SC(this.Ac.syncEngine);case 6:return e.next=8,jI(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return CE(this.persistence,new IE,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new GS(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Nk(t,this.persistence);return new Ck(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=SE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?OS.withCacheSize(this.cacheSizeBytes):OS.DEFAULT;return new wE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,sI(),cI(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new nI}}]),n}(IC),CC=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Lt(n,[{key:"initialize",value:function(){var e=cr(ur().mark((function e(t){var r,i=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(Ut(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof tI,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:fC.bind(null,r),$r:kC.bind(null,r),Br:wC.bind(null,r),vi:gC.bind(null,r),Mr:cC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dC(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=sI();if(!tI.C(t))throw new Fg(Mg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=SE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tI(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(TC),NC=function(){function e(){Rt(this,e)}return Lt(e,[{key:"initialize",value:function(){var e=cr(ur().mark((function e(t,n){var r=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return VT(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=iC.bind(null,this.syncEngine),e.next=12,tT(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new fT}},{key:"createDatastore",value:function(e){var t,n=lI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new uI(t));return function(e,t,n,r){return new vI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return VT(o.syncEngine,e,0)},a=iI.C()?new iI:new rI,new mI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new NT(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lg(t),Ng("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,bI(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function AC(e,t,n){if(!n)throw new Fg(Mg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function OC(e,t,n,r){if(!0===t&&!0===r)throw new Fg(Mg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function DC(e){if(!ik.isDocumentKey(e))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function RC(e){if(ik.isDocumentKey(e))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function PC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Rg()}function LC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fg(Mg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=PC(e);throw new Fg(Mg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function MC(e,t){if(t<=0)throw new Fg(Mg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var FC=new Map,UC=function(){function e(t){var n;if(Rt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Fg(Mg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fg(Mg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,OC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Lt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),jC=function(){function e(t,n,r,i){Rt(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UC({}),this._settingsFrozen=!1}return Lt(e,[{key:"app",get:function(){if(!this._app)throw new Fg(Mg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Fg(Mg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vg;switch(e.type){case"gapi":var t=e.client;return new Wg(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Fg(Mg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=FC.get(e);t&&(Ng("ComponentProvider","Removing Datastore"),FC.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function VC(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=LC(e,jC))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Og("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Eg.MOCK_USER;else{o=ka(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Fg(Mg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Eg(s)}e._authCredentials=new Bg(new jg(o,u))}}var BC=function(){function e(t,n,r){Rt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Lt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new zC(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),qC=function(){function e(t,n,r){Rt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Lt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),zC=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this,e,r,iw(i)))._path=i,a.type="collection",a}return Lt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new BC(this.firestore,null,new ik(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(qC);function WC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ra(e),AC("collection","path",t),e instanceof jC){var a=tk.fromString.apply(tk,[t].concat(r));return RC(a),new zC(e,null,a)}if(!(e instanceof BC||e instanceof zC))throw new Fg(Mg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(tk.fromString.apply(tk,[t].concat(r)));return RC(o),new zC(e.firestore,null,o)}function KC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ra(e),1===arguments.length&&(t=Qg.R()),AC("doc","path",t),e instanceof jC){var a=tk.fromString.apply(tk,[t].concat(r));return DC(a),new BC(e,null,new ik(a))}if(!(e instanceof BC||e instanceof zC))throw new Fg(Mg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(tk.fromString.apply(tk,[t].concat(r)));return DC(o),new BC(e.firestore,e instanceof zC?e.converter:null,new ik(o))}function GC(e,t){return e=Ra(e),t=Ra(t),(e instanceof BC||e instanceof zC)&&(t instanceof BC||t instanceof zC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function HC(e,t){return e=Ra(e),t=Ra(t),e instanceof qC&&t instanceof qC&&e.firestore===t.firestore&&dw(e._query,t._query)&&e.converter===t.converter}function QC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return cr(ur().mark((function r(){var i;return ur().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var $C=function(){function e(t){Rt(this,e),this.observer=t,this.muted=!1}return Lt(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Ag("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),YC=function(){function e(t,n){var r=this;Rt(this,e),this.Pc=t,this.yt=n,this.metadata=new Ug,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return Lt(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=cr(ur().mark((function e(){var t,n,r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new bT(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=cr(ur().mark((function e(){var t,n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=cr(ur().mark((function e(){var t,n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),JC=function(){function e(t){Rt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Lt(e,[{key:"lookup",value:function(){var e=cr(ur().mark((function e(t){var n,r=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Fg(Mg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=cr(ur().mark((function e(t,n){var r,i,a,o,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),i=Vx(r.yt)+"/documents",a={documents:n.map((function(e){return Mx(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Wx(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Pg(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Xw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=cr(ur().mark((function e(){var t,n=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ik.fromPath(t);n.mutations.push(new Zw(r,n.precondition(r)))})),e.next=7,function(){var e=cr(ur().mark((function e(t,n){var r,i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lg(t),i=Vx(r.yt)+"/documents",a={writes:n.map((function(e){return Kx(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Rg();t=Zg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Fg(Mg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Zg.min())?Fw.exists(!1):Fw.updateTime(t):Fw.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Zg.min()))throw new Fg(Mg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fw.updateTime(t)}return Fw.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),XC=function(){function e(t,n,r,i,a){Rt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new fI(this.asyncQueue,"transaction_retry")}return Lt(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(cr(ur().mark((function t(){var n,r;return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new JC(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Mk(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!tx(t)}return!1}}]),e}(),ZC=function(){function e(t,n,r,i){var a=this;Rt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Eg.UNAUTHENTICATED,this.clientId=Qg.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ng("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ng("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Lt(e,[{key:"getConfiguration",value:function(){var e=cr(ur().mark((function e(){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Fg(Mg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ug;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(cr(ur().mark((function n(){var r;return ur().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=oT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function eN(e,t){return tN.apply(this,arguments)}function tN(){return tN=cr(ur().mark((function e(t,n){var r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ng("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,NE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),tN.apply(this,arguments)}function nN(e,t){return rN.apply(this,arguments)}function rN(){return rN=cr(ur().mark((function e(t,n){var r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,iN(t);case 3:return r=e.sent,Ng("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ZI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ZI(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),rN.apply(this,arguments)}function iN(e){return aN.apply(this,arguments)}function aN(){return aN=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ng("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,eN(t,new IC);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),aN.apply(this,arguments)}function oN(e){return uN.apply(this,arguments)}function uN(){return uN=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ng("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,nN(t,new NC);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),uN.apply(this,arguments)}function sN(e){return iN(e).then((function(e){return e.persistence}))}function cN(e){return iN(e).then((function(e){return e.localStore}))}function lN(e){return oN(e).then((function(e){return e.remoteStore}))}function fN(e){return oN(e).then((function(e){return e.syncEngine}))}function hN(e){return oN(e).then((function(e){return e.datastore}))}function dN(e){return pN.apply(this,arguments)}function pN(){return pN=cr(ur().mark((function e(t){var n,r;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oN(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=AT.bind(null,n.syncEngine),r.onUnlisten=PT.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),pN.apply(this,arguments)}function vN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ug;return e.asyncQueue.enqueueAndForget(cr(ur().mark((function i(){return ur().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new $C({next:function(a){t.enqueueAndForget((function(){return pT(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Fg(Mg.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Fg(Mg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new kT(iw(n.path),a,{includeMetadataChanges:!0,Nu:!0});return hT(e,o)},i.next=3,dN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function yN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ug;return e.asyncQueue.enqueueAndForget(cr(ur().mark((function i(){return ur().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new $C({next:function(n){t.enqueueAndForget((function(){return pT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Fg(Mg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new kT(n,a,{includeMetadataChanges:!0,Nu:!0});return hT(e,o)},i.next=3,dN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var mN=function(){function e(){var t=this;Rt(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new fI(this,"async_queue_retry"),this.Wc=function(){var e=cI();e&&Ng("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=cI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return Lt(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=cI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new Ug;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=cr(ur().mark((function e(){var t=this;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),_k(e.t0)){e.next=12;break}throw e.t0;case 12:Ng("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ag("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=aT.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&Rg()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=cr(ur().mark((function e(){var t;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Gt(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Gt(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function gN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Gt(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var kN=function(){function e(){Rt(this,e),this._progressObserver={},this._taskCompletionResolver=new Ug,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Lt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),bN=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a){var o;return Rt(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new mN,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Lt(n,[{key:"_terminate",value:function(){return this._firestoreClient||xN(this),this._firestoreClient.terminate()}}]),n}(jC);function wN(e){return e._firestoreClient||xN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xN(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ok(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ZC(e._authCredentials,e._appCheckCredentials,e._queue,r)}function _N(e,t,n){var r=new Ug;return e.asyncQueue.enqueue(cr(ur().mark((function i(){var a;return ur().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,eN(e,n);case 3:return i.next=5,nN(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Mg.FAILED_PRECONDITION||e.code===Mg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Og("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function SN(e){return function(e){return e.asyncQueue.enqueue(cr(ur().mark((function t(){var n,r;return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sN(e);case 2:return n=t.sent,t.next=5,lN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Lg(e);return t._u.delete(0),gI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(wN(e=LC(e,bN)))}function EN(e){return function(e){return e.asyncQueue.enqueue(cr(ur().mark((function t(){var n,r;return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sN(e);case 2:return n=t.sent,t.next=5,lN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Lg(t))._u.add(0),e.next=4,bI(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(wN(e=LC(e,bN)))}function IN(e,t){var n=wN(e=LC(e,bN)),r=new kN;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new YC(e,t)}(function(e,t){if(e instanceof Uint8Array)return QC(e,t);if(e instanceof ArrayBuffer)return QC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,lI(t));e.asyncQueue.enqueueAndForget(cr(ur().mark((function t(){return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=EC,t.next=3,fN(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function TN(e,t){return function(e,t){return e.asyncQueue.enqueue(cr(ur().mark((function n(){return ur().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Lg(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,cN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(wN(e=LC(e,bN)),t).then((function(t){return t?new qC(e,null,t.query):null}))}function CN(e){if(e._initialized||e._terminated)throw new Fg(Mg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var NN=function(){function e(t){Rt(this,e),this._byteString=t}return Lt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(jk.fromBase64String(t))}catch(t){throw new Fg(Mg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(jk.fromUint8Array(t))}}]),e}(),AN=function(){function e(){Rt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rk(n)}return Lt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var ON=Lt((function e(t){Rt(this,e),this._methodName=t})),DN=function(){function e(t,n){if(Rt(this,e),!isFinite(t)||t<-90||t>90)throw new Fg(Mg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Fg(Mg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Lt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return $g(this._lat,e._lat)||$g(this._long,e._long)}}]),e}(),RN=/^__.*__$/,PN=function(){function e(t,n,r){Rt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Lt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Gw(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kw(e,this.data,t,this.fieldTransforms)}}]),e}(),LN=function(){function e(t,n,r){Rt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Lt(e,[{key:"toMutation",value:function(e,t){return new Gw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function MN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rg()}}var FN=function(){function e(t,n,r,i,a,o){Rt(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Lt(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return rA(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(MN(this.sa)&&RN.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),UN=function(){function e(t,n,r){Rt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||lI(t)}return Lt(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new FN({sa:e,methodName:t,fa:n,path:rk.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function jN(e){var t=e._freezeSettings(),n=lI(e._databaseId);return new UN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function VN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);ZN("Data must be an object, but it was:",o,r);var u,s,c=JN(r,o);if(a.merge)u=new Wb(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Gt(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=eA(t,d,n);if(!o.contains(p))throw new Fg(Mg.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));iA(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Wb(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new PN(new Kb(c),u,s)}var BN=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ON);function qN(e,t,n){return new FN({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var zN=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"_toFieldTransform",value:function(e){return new Lw(e.path,new Tw)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ON),WN=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e))._a=r,i}return Lt(n,[{key:"_toFieldTransform",value:function(e){var t=qN(this,e,!0),n=this._a.map((function(e){return YN(e,t)})),r=new Cw(n);return new Lw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ON),KN=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e))._a=r,i}return Lt(n,[{key:"_toFieldTransform",value:function(e){var t=qN(this,e,!0),n=this._a.map((function(e){return YN(e,t)})),r=new Aw(n);return new Lw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ON),GN=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e)).wa=r,i}return Lt(n,[{key:"_toFieldTransform",value:function(e){var t=new Dw(e.yt,xw(e.yt,this.wa));return new Lw(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ON);function HN(e,t,n,r){var i=e.da(1,t,n);ZN("Data must be an object, but it was:",i,r);var a=[],o=Kb.empty();Pk(r,(function(e,r){var u=nA(t,e,n);r=Ra(r);var s=i.ca(u);if(r instanceof BN)a.push(u);else{var c=YN(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Wb(a);return new LN(o,u,i.fieldTransforms)}function QN(e,t,n,r,i,a){var o=e.da(1,t,n),u=[eA(t,r,n)],s=[i];if(a.length%2!=0)throw new Fg(Mg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(eA(t,a[c])),s.push(a[c+1]);for(var l=[],f=Kb.empty(),h=u.length-1;h>=0;--h)if(!iA(l,u[h])){var d=u[h],p=s[h];p=Ra(p);var v=o.ca(d);if(p instanceof BN)l.push(d);else{var y=YN(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Wb(l);return new LN(f,m,o.fieldTransforms)}function $N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return YN(n,e.da(r?4:3,t))}function YN(e,t){if(XN(e=Ra(e)))return ZN("Unsupported field value:",t,e),JN(e,t);if(e instanceof ON)return function(e,t){if(!MN(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Gt(e);try{for(a.s();!(n=a.n()).done;){var o=YN(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ra(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xw(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Xg.fromDate(e);return{timestampValue:Ax(t.yt,n)}}if(e instanceof Xg){var r=new Xg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ax(t.yt,r)}}if(e instanceof DN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof NN)return{bytesValue:Ox(t.yt,e._byteString)};if(e instanceof BC){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Px(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(PC(e)))}(e,t)}function JN(e,t){var n={};return Lk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pk(e,(function(e,r){var i=YN(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function XN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xg||e instanceof DN||e instanceof NN||e instanceof BC||e instanceof ON)}function ZN(e,t,n){if(!XN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=PC(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function eA(e,t,n){if((t=Ra(t))instanceof AN)return t._internalPath;if("string"==typeof t)return nA(e,t);throw rA("Field path arguments must be of type string or ",e,!1,void 0,n)}var tA=new RegExp("[~\\*/\\[\\]]");function nA(e,t,n){if(t.search(tA)>=0)throw rA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return zt(AN,Dt(t.split(".")))._internalPath}catch(L){throw rA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rA(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Fg(Mg.INVALID_ARGUMENT,u+e+s)}function iA(e,t){return e.some((function(e){return e.isEqual(t)}))}var aA=function(){function e(t,n,r,i,a){Rt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Lt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new BC(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new oA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(uA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),oA=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"data",value:function(){return ou(Ut(n.prototype),"data",this).call(this)}}]),n}(aA);function uA(e,t){return"string"==typeof t?nA(e,t):t instanceof AN?t._internalPath:t._delegate._internalPath}function sA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Fg(Mg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cA=Lt((function e(){Rt(this,e)})),lA=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n)}(cA);function fA(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof cA&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof dA})).length,n=e.filter((function(e){return e instanceof hA})).length;if(t>1||t>0&&n>0)throw new Fg(Mg.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=Gt(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e=s._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var hA=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Lt(n,[{key:"_apply",value:function(e){var t=this._parse(e);return EA(e._query,t),new qC(e.firestore,e.converter,fw(e._query,t))}},{key:"_parse",value:function(e){var t=jN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){SA(o,a);var s,c=[],l=Gt(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(_A(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=_A(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||SA(o,a),u=$N(n,"where",o,"in"===a||"not-in"===a);return gb.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(lA);var dA=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Lt(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:kb.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Gt(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;EA(r,a),r=fw(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new qC(e.firestore,e.converter,fw(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(cA);var pA=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Lt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Mb(t,n);return function(e,t){if(null===ow(e)){var n=uw(e);null!==n&&IA(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new qC(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new nw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(lA);var vA=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Lt(n,[{key:"_apply",value:function(e){return new qC(e.firestore,e.converter,hw(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(lA);var yA=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Lt(n,[{key:"_apply",value:function(e){var t=xA(e,this.type,this._docOrFields,this._inclusive);return new qC(e.firestore,e.converter,function(e,t){return new nw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(lA);function mA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yA._create("startAt",t,!0)}function gA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yA._create("startAfter",t,!1)}var kA=function(e){Ft(n,e);var t=qt(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Lt(n,[{key:"_apply",value:function(e){var t=xA(e,this.type,this._docOrFields,this._inclusive);return new qC(e.firestore,e.converter,function(e,t){return new nw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(lA);function bA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kA._create("endBefore",t,!1)}function wA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kA._create("endAt",t,!0)}function xA(e,t,n,r){if(n[0]=Ra(n[0]),n[0]instanceof aA)return function(e,t,n,r,i){if(!r)throw new Fg(Mg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Gt(cw(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(nb(t,r.key));else{var c=r.data.field(s.field);if(Wk(c))throw new Fg(Mg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new pb(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=jN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Fg(Mg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!sw(e)&&-1!==c.indexOf("/"))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(tk.fromString(c));if(!ik.isDocumentKey(l))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ik(l);u.push(nb(t,f))}else{var h=$N(n,r,c);u.push(h)}}return new pb(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function _A(e,t,n){if("string"==typeof(n=Ra(n))){if(""===n)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sw(t)&&-1!==n.indexOf("/"))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(tk.fromString(n));if(!ik.isDocumentKey(r))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return nb(e,new ik(r))}if(n instanceof BC)return nb(e,n._key);throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(PC(n),"."))}function SA(e,t){if(!Array.isArray(e)||0===e.length)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function EA(e,t){if(t.isInequality()){var n=uw(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=ow(e);null!==i&&IA(e,r,i)}var a=function(e,t){var n,r=Gt(e);try{for(r.s();!(n=r.n()).done;){var i,a=Gt(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Fg(Mg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Fg(Mg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function IA(e,t,n){if(!n.isEqual(t))throw new Fg(Mg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var TA=function(){function e(){Rt(this,e)}return Lt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($k(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rg()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Pk(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new DN(qk(e.latitude),qk(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Kk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gk(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Bk(e);return new Xg(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=tk.fromString(e);Pg(i_(n));var r=new Dk(n.get(1),n.get(3)),i=new ik(n.popFirst(5));return r.isEqual(t)||Ag("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function CA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var NA=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).firestore=e,r}return Lt(n,[{key:"convertBytes",value:function(e){return new NN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new BC(this.firestore,null,t)}}]),n}(TA),AA=function(){function e(t,n){Rt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Lt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),OA=function(e){Ft(n,e);var t=qt(n);function n(e,r,i,a,o,u){var s;return Rt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Lt(n,[{key:"exists",value:function(){return ou(Ut(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new DA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(uA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(aA),DA=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ou(Ut(n.prototype),"data",this).call(this,e)}}]),n}(OA),RA=function(){function e(t,n,r,i){Rt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new AA(i.hasPendingWrites,i.fromCache),this.query=r}return Lt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new DA(n._firestore,n._userDataWriter,r.key,r,new AA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fg(Mg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new DA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new DA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:PA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function PA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rg()}}function LA(e,t){return e instanceof OA&&t instanceof OA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof RA&&t instanceof RA&&e._firestore===t._firestore&&HC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var MA=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).firestore=e,r}return Lt(n,[{key:"convertBytes",value:function(e){return new NN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new BC(this.firestore,null,t)}}]),n}(TA);function FA(e){e=LC(e,BC);var t=LC(e.firestore,bN),n=wN(t),r=new MA(t);return function(e,t){var n=new Ug;return e.asyncQueue.enqueueAndForget(cr(ur().mark((function r(){return ur().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=cr(ur().mark((function e(t,n,r){var i,a;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Lg(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Fg(Mg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=oT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,cN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new OA(t,r,e._key,n,new AA(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function UA(e){e=LC(e,qC);var t=LC(e.firestore,bN),n=wN(t),r=new MA(t);return function(e,t){var n=new Ug;return e.asyncQueue.enqueueAndForget(cr(ur().mark((function r(){return ur().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=cr(ur().mark((function e(t,n,r){var i,a,o,u,s;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jE(t,n,!0);case 3:i=e.sent,a=new IT(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=oT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,cN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new RA(t,r,e,n)}))}function jA(e,t,n){e=LC(e,BC);var r=LC(e.firestore,bN),i=CA(e.converter,t,n);return zA(r,[VN(jN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Fw.none())])}function VA(e,t,n){e=LC(e,BC);for(var r=LC(e.firestore,bN),i=jN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return zA(r,[("string"==typeof(t=Ra(t))||t instanceof AN?QN(i,"updateDoc",e._key,t,n,o):HN(i,"updateDoc",e._key,t)).toMutation(e._key,Fw.exists(!0))])}function BA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ra(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||gN(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(gN(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof BC)l=LC(e.firestore,bN),f=iw(e._key.path),c={next:function(t){n[s]&&n[s](WA(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=LC(e,qC);l=LC(p.firestore,bN),f=p._query;var v=new MA(l);c={next:function(e){n[s]&&n[s](new RA(l,v,p,e))},error:n[s+1],complete:n[s+2]},sA(e._query)}return function(e,t,n,r){var i=new $C(r),a=new kT(t,i,n);return e.asyncQueue.enqueueAndForget(cr(ur().mark((function t(){return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=hT,t.next=3,dN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(cr(ur().mark((function t(){return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=pT,t.next=3,dN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(wN(l),f,h,c)}function qA(e,t){return function(e,t){var n=new $C(t);return e.asyncQueue.enqueueAndForget(cr(ur().mark((function t(){return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Lg(e).Ru.add(t),t.next()},t.next=3,dN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(cr(ur().mark((function t(){return ur().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Lg(e).Ru.delete(t)},t.next=3,dN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(wN(e=LC(e,bN)),gN(t)?t:{next:t})}function zA(e,t){return function(e,t){var n=new Ug;return e.asyncQueue.enqueueAndForget(cr(ur().mark((function r(){return ur().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=MT,r.next=3,fN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(wN(e),t)}function WA(e,t,n){var r=n.docs.get(t._key),i=new MA(e);return new OA(e,i,t._key,r,new AA(n.hasPendingWrites,n.fromCache),t.converter)}var KA={maxAttempts:5},GA=function(){function e(t,n){Rt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=jN(t)}return Lt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=HA(e,this._firestore),i=CA(r.converter,t,n),a=VN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Fw.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=HA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ra(t))||t instanceof AN?QN(this._dataReader,"WriteBatch.update",i._key,t,n,o):HN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Fw.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=HA(e,this._firestore);return this._mutations=this._mutations.concat(new Xw(t._key,Fw.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Fg(Mg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function HA(e,t){if((e=Ra(e)).firestore!==t)throw new Fg(Mg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var QA=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,r))._firestore=e,i}return Lt(n,[{key:"get",value:function(e){var t=this,r=HA(e,this._firestore),i=new MA(this._firestore);return ou(Ut(n.prototype),"get",this).call(this,e).then((function(e){return new OA(t._firestore,i,r._key,e._document,new AA(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Rt(this,e),this._firestore=t,this._transaction=n,this._dataReader=jN(t)}return Lt(e,[{key:"get",value:function(e){var t=this,n=HA(e,this._firestore),r=new NA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Rg();var i=e[0];if(i.isFoundDocument())return new aA(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new aA(t._firestore,r,n._key,null,n.converter);throw Rg()}))}},{key:"set",value:function(e,t,n){var r=HA(e,this._firestore),i=CA(r.converter,t,n),a=VN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=HA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ra(t))||t instanceof AN?QN(this._dataReader,"Transaction.update",i._key,t,n,o):HN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=HA(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function $A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WN("arrayUnion",t)}function YA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ig=e}(Co),wo(new Pa("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new bN(new qg(e.getProvider("auth-internal")),new Gg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fg(Mg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dk(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Po(Sg,"3.8.0",e),Po(Sg,"3.8.0","esm2017")}();function JA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function XA(){if("undefined"===typeof Uint8Array)throw new Fg("unimplemented","Uint8Arrays are not available in this environment.")}function ZA(){if("undefined"==typeof atob)throw new Fg("unimplemented","Blobs are unavailable in Firestore in this environment.")}var eO=function(){function e(t){Rt(this,e),this._delegate=t}return Lt(e,[{key:"toBase64",value:function(){return ZA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return XA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return ZA(),new e(NN.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return XA(),new e(NN.fromUint8Array(t))}}]),e}();function tO(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Gt(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var nO=function(){function e(){Rt(this,e)}return Lt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){CN(e=LC(e,bN));var n=wN(e),r=e._freezeSettings(),i=new NC;return _N(n,i,new TC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){CN(e=LC(e,bN));var t=wN(e),n=e._freezeSettings(),r=new NC;return _N(t,r,new CC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Fg(Mg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ug;return e._queue.enqueueAndForgetEvenWhileRestricted(cr(ur().mark((function n(){return ur().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=cr(ur().mark((function e(t){var n;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bk.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,bk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(SE(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),rO=function(){function e(t,n,r){var i=this;Rt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Dk||(this._appCompat=t)}return Lt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Og("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};VC(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return SN(this._delegate)}},{key:"disableNetwork",value:function(){return EN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&OC("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ug;return e.asyncQueue.enqueueAndForget(cr(ur().mark((function n(){return ur().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=HT,n.next=3,fN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(wN(e=LC(e,bN)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return qA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Fg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new mO(this,WC(this._delegate,e))}catch(t){throw cO(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new sO(this,KC(this._delegate,e))}catch(t){throw cO(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new pO(this,function(e,t){if(e=LC(e,jC),AC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Fg(Mg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new qC(e,null,function(e){return new nw(tk.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw cO(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=LC(e,bN);var r=Object.assign(Object.assign({},KA),n);return function(e){if(e.maxAttempts<1)throw new Fg(Mg.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Ug;return e.asyncQueue.enqueueAndForget(cr(ur().mark((function i(){var a;return ur().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,hN(e);case 2:a=i.sent,new XC(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(wN(e),(function(n){return t(new QA(e,n))}),r)}(this._delegate,(function(n){return e(new aO(t,n))}))}},{key:"batch",value:function(){var e=this;return wN(this._delegate),new oO(new GA(this._delegate,(function(t){return zA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return IN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return TN(this._delegate,e).then((function(e){return e?new pO(t,e):null}))}}]),e}(),iO=function(e){Ft(n,e);var t=qt(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).firestore=e,r}return Lt(n,[{key:"convertBytes",value:function(e){return new eO(new NN(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return sO.forKey(t,this.firestore,null)}}]),n}(TA);var aO=function(){function e(t,n){Rt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new iO(t)}return Lt(e,[{key:"get",value:function(e){var t=this,n=gO(e);return this._delegate.get(n).then((function(e){return new hO(t._firestore,new OA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=gO(e);return n?(JA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=gO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=gO(e);return this._delegate.delete(t),this}}]),e}(),oO=function(){function e(t){Rt(this,e),this._delegate=t}return Lt(e,[{key:"set",value:function(e,t,n){var r=gO(e);return n?(JA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=gO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=gO(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),uO=function(){function e(t,n,r){Rt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Lt(e,[{key:"fromFirestore",value:function(e,t){var n=new DA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dO(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new iO(t),n),i.set(n,a)),a}}]),e}();uO.INSTANCES=new WeakMap;var sO=function(){function e(t,n){Rt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new iO(t)}return Lt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new mO(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new mO(this.firestore,WC(this._delegate,e))}catch(t){throw cO(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ra(e))instanceof BC&&GC(this._delegate,e)}},{key:"set",value:function(e,t){t=JA("DocumentReference.set",t);try{return t?jA(this._delegate,e,t):jA(this._delegate,e)}catch(n){throw cO(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?VA(this._delegate,e):VA.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw cO(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return zA(LC(e.firestore,bN),[new Xw(e._key,Fw.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=lO(n),a=fO(n,(function(t){return new hO(e.firestore,new OA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return BA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?FA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=LC(e,BC);var t=LC(e.firestore,bN);return vN(wN(t),e._key,{source:"server"}).then((function(n){return WA(t,e,n)}))}(this._delegate):function(e){e=LC(e,BC);var t=LC(e.firestore,bN);return vN(wN(t),e._key).then((function(n){return WA(t,e,n)}))}(this._delegate),t.then((function(e){return new hO(n.firestore,new OA(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(uO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Fg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new BC(n._delegate,r,new ik(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new BC(n._delegate,r,t))}}]),e}();function cO(e,t,n){return e.message=e.message.replace(t,n),e}function lO(e){var t,n=Gt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!tO(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function fO(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=tO(e[0])?e[0]:tO(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var hO=function(){function e(t,n){Rt(this,e),this._firestore=t,this._delegate=n}return Lt(e,[{key:"ref",get:function(){return new sO(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return LA(this._delegate,e._delegate)}}]),e}(),dO=function(e){Ft(n,e);var t=qt(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Rg()}(void 0!==t),t}}]),n}(hO),pO=function(){function e(t,n){Rt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new iO(t)}return Lt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,fA(this._delegate,function(e,t,n){var r=t,i=uA("where",e);return hA._create(i,r,n)}(t,n,r)))}catch(i){throw cO(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,fA(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=uA("orderBy",e);return pA._create(r,n)}(t,n)))}catch(r){throw cO(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,fA(this._delegate,function(e){return MC("limit",e),vA._create("limit",e,"F")}(t)))}catch(n){throw cO(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,fA(this._delegate,function(e){return MC("limitToLast",e),vA._create("limitToLast",e,"L")}(t)))}catch(n){throw cO(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,fA(this._delegate,mA.apply(void 0,arguments)))}catch(t){throw cO(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,fA(this._delegate,gA.apply(void 0,arguments)))}catch(t){throw cO(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,fA(this._delegate,bA.apply(void 0,arguments)))}catch(t){throw cO(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,fA(this._delegate,wA.apply(void 0,arguments)))}catch(t){throw cO(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return HC(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?UA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=LC(e,qC);var t=LC(e.firestore,bN),n=wN(t),r=new MA(t);return yN(n,e._query,{source:"server"}).then((function(n){return new RA(t,r,e,n)}))}(this._delegate):function(e){e=LC(e,qC);var t=LC(e.firestore,bN),n=wN(t),r=new MA(t);return sA(e._query),yN(n,e._query).then((function(n){return new RA(t,r,e,n)}))}(this._delegate),t.then((function(e){return new yO(n.firestore,new RA(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=lO(n),a=fO(n,(function(t){return new yO(e.firestore,new RA(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return BA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(uO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),vO=function(){function e(t,n){Rt(this,e),this._firestore=t,this._delegate=n}return Lt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new dO(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),yO=function(){function e(t,n){Rt(this,e),this._firestore=t,this._delegate=n}return Lt(e,[{key:"query",get:function(){return new pO(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new dO(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new vO(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new dO(n._firestore,r))}))}},{key:"isEqual",value:function(e){return LA(this._delegate,e._delegate)}}]),e}(),mO=function(e){Ft(n,e);var t=qt(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Lt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new sO(this.firestore,e):null}},{key:"doc",value:function(e){try{return new sO(this.firestore,void 0===e?KC(this._delegate):KC(this._delegate,e))}catch(t){throw cO(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=LC(e.firestore,bN),r=KC(e),i=CA(e.converter,t);return zA(n,[VN(jN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Fw.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new sO(t.firestore,e)}))}},{key:"isEqual",value:function(e){return GC(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(uO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(pO);function gO(e){return LC(e,BC)}var kO=function(){function e(){Rt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=zt(AN,n)}return Lt(e,[{key:"isEqual",value:function(e){return(e=Ra(e))instanceof AN&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(rk.keyField().canonicalString())}}]),e}(),bO=function(){function e(t){Rt(this,e),this._delegate=t}return Lt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new zN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new BN("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=$A.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=YA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new GN("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),wO={Firestore:rO,GeoPoint:DN,Timestamp:Xg,Blob:eO,Transaction:aO,WriteBatch:oO,DocumentReference:sO,DocumentSnapshot:hO,Query:pO,QueryDocumentSnapshot:dO,QuerySnapshot:yO,CollectionReference:mO,FieldPath:kO,FieldValue:bO,setLogLevel:function(e){!function(e){Tg.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Pa("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},wO)))}(e,(function(e,t){return new rO(e,t,new nO)})),e.registerVersion("@firebase/firestore-compat","0.3.0")}(iu);var xO=iu.initializeApp({apiKey:"AIzaSyA5h-gymw17IA-CLwu_LZobLucoQi-JHt4",authDomain:"netflix-clone-a2c9e.firebaseapp.com",projectId:"netflix-clone-a2c9e",storageBucket:"netflix-clone-a2c9e.appspot.com",messagingSenderId:"682925509706",appId:"1:682925509706:web:22fa8a1c7b41784bdfaab3"}).firestore(),_O=iu.auth(),SO=xO;var EO=function(){var e=(0,t.useRef)(null),n=(0,t.useRef)(null);return(0,ar.jsx)("div",{className:"signupScreen",children:(0,ar.jsxs)("form",{children:[(0,ar.jsx)("h1",{children:"Sign In"}),(0,ar.jsx)("input",{ref:e,placeholder:"Email",type:"email"}),(0,ar.jsx)("input",{ref:n,placeholder:"Password",type:"password"}),(0,ar.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),_O.signInWithEmailAndPassword(e.current.value,n.current.value).then((function(e){console.log(e)})).catch((function(e){return alert(e.message)}))},children:"Sign In"}),(0,ar.jsxs)("h4",{children:[(0,ar.jsx)("span",{className:"signupScreen_gray",children:"New to Netflix? "}),(0,ar.jsx)("span",{className:"signupScreen_link",onClick:function(t){t.preventDefault(),_O.createUserWithEmailAndPassword(e.current.value,n.current.value).then((function(e){console.log(e)})).catch((function(e){alert(e.message)}))},children:"Sign Up now."})]})]})})};var IO=function(){var e=At((0,t.useState)(!1),2),n=e[0],r=e[1];return(0,ar.jsxs)("div",{className:"loginScreen",children:[(0,ar.jsxs)("div",{className:"loginScreen_background",children:[(0,ar.jsx)("img",{className:"loginScreen_logo",src:"https://upload.wikimedia.org/wikipedia/commons/7/7a/Logonetflix.png",alt:""}),(0,ar.jsx)("button",{onClick:function(){return r(!0)},className:"loginScreen_button",children:"Sign In"}),(0,ar.jsx)("div",{className:"loginScreen_gradient"})]}),(0,ar.jsx)("div",{className:"loginScreen_body",children:n?(0,ar.jsx)(EO,{}):(0,ar.jsxs)(ar.Fragment,{children:[(0,ar.jsx)("h1",{children:"Unlimited films, TV programmes and more."}),(0,ar.jsx)("h2",{children:"Watch anywhere. Cancel at any time."}),(0,ar.jsx)("h3",{children:"Ready to watch? Enter your email to create or restart your membership"}),(0,ar.jsx)("div",{className:"loginScreen_input",children:(0,ar.jsxs)("form",{children:[(0,ar.jsx)("input",{type:"email",placeholder:"Email Address"}),(0,ar.jsx)("button",{onClick:function(){return r(!0)},className:"loginScreen_getStarted",children:"GET STARTED"})]})})]})})]})},TO="https://js.stripe.com/v3",CO=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,NO="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",AO=null,OO=function(e){return null!==AO||(AO=new Promise((function(t,n){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(NO),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(TO,'"]')),t=0;t<e.length;t++){var n=e[t];if(CO.test(n.src))return n}return null}();r&&e?console.warn(NO):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(TO).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(i){return void n(i)}else t(null)}))),AO},DO=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.46.0",startTime:t})}(r,n),r},RO=Promise.resolve().then((function(){return OO(null)})),PO=!1;RO.catch((function(e){PO||console.warn(e)}));var LO=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];PO=!0;var r=Date.now();return RO.then((function(e){return DO(e,t,r)}))};var MO=function(){var e=At((0,t.useState)([]),2),n=e[0],r=e[1],i=y(St),a=At((0,t.useState)(null),2),o=a[0],u=a[1];(0,t.useEffect)((function(){SO.collection("customers").doc(i.uid).collection("subscriptions").get().then((function(e){e.forEach(function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u({role:t.data().role,current_period_end:t.data().current_period_end.seconds,current_period_start:t.data().current_period_start.seconds});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[i.uid]),(0,t.useEffect)((function(){SO.collection("products").where("active","==",!0).get().then((function(e){var t={};e.forEach(function(){var e=cr(ur().mark((function e(n){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t[n.id]=n.data(),e.next=3,n.ref.collection("prices").get();case 3:e.sent.docs.forEach((function(e){t[n.id].prices={priceId:e.id,priceData:e.data()}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r(t)}))}),[]),console.log(n),console.log(o);var s=function(){var e=cr(ur().mark((function e(t){return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SO.collection("customers").doc(i.uid).collection("checkout_sessions").add({price:t,success_url:window.location.origin,cancel_url:window.location.origin});case 2:e.sent.onSnapshot(function(){var e=cr(ur().mark((function e(t){var n,r,i;return ur().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data(),r=n.error,i=n.sessionId,r&&alert("An error occured: ".concat(r.message)),!i){e.next=7;break}return e.next=5,LO("pk_test_51MP0IfCeDLW5LZLeh84IAumKHaWNwsjBafySSh3YsNTjWmTtJocLSdwkkKt7J5Tqqvk8Ytqy1VVlfOnxrgSiYMDs00skLySZrm");case 5:e.sent.redirectToCheckout({sessionId:i});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ar.jsxs)("div",{className:"plansScreen",children:[(0,ar.jsx)("br",{}),o&&(0,ar.jsxs)("p",{children:["Renewal date: ",new Date(1e3*(null===o||void 0===o?void 0:o.current_period_end)).toLocaleDateString()]}),Object.entries(n).map((function(e){var t,n=At(e,2),r=n[0],i=n[1],a=null===(t=i.name)||void 0===t?void 0:t.toLowerCase().includes(null===o||void 0===o?void 0:o.role);return(0,ar.jsxs)("div",{className:"".concat(a&&"plansScreen_plan--disabled"," plansScreen_plan"),children:[(0,ar.jsxs)("div",{className:"plansScreen_info",children:[(0,ar.jsx)("h5",{children:i.name}),(0,ar.jsx)("h6",{children:i.description})]}),(0,ar.jsx)("button",{onClick:function(){return!a&&s(i.prices.priceId)},children:a?"Current Package":"Subscribe"})]},r)}))]})};var FO=function(){var e=y(St);return(0,ar.jsxs)("div",{className:"profileScreen",children:[(0,ar.jsx)(or,{}),(0,ar.jsxs)("div",{className:"profileScreen_body",children:[(0,ar.jsx)("h1",{children:"Edit Profile"}),(0,ar.jsxs)("div",{className:"profileScreen_info",children:[(0,ar.jsx)("img",{src:"https://i.pinimg.com/736x/c3/3b/32/c33b322b61b8f30f0df1d0b3de690734.jpg",alt:""}),(0,ar.jsxs)("div",{className:"profileScreen_details",children:[(0,ar.jsx)("h2",{children:e.email}),(0,ar.jsxs)("div",{className:"profileScreen_plans",children:[(0,ar.jsx)("h3",{children:"Plans"}),(0,ar.jsx)(MO,{}),(0,ar.jsx)("button",{onClick:function(){return _O.signOut()},className:"profileScreen_signOut",children:"Sign Out"})]})]})]})]})]})};var UO=function(){var e=y(St),n=E();return(0,t.useEffect)((function(){return _O.onAuthStateChanged((function(e){n(e?xt({uid:e.uid,email:e.email}):_t())}))}),[n]),(0,ar.jsx)("div",{className:"app",children:(0,ar.jsx)(ta,{children:e?(0,ar.jsxs)(nr,{children:[(0,ar.jsx)(er,{path:"/profile",element:(0,ar.jsx)(FO,{})}),(0,ar.jsx)(er,{exact:!0,path:"/",element:(0,ar.jsx)(ea,{})})]}):(0,ar.jsx)(IO,{})})})},jO=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},VO=document.getElementById("root");(0,i.s)(VO).render((0,ar.jsx)(t.StrictMode,{children:(0,ar.jsx)(b,{store:Et,children:(0,ar.jsx)(UO,{})})})),jO()}()}();
//# sourceMappingURL=main.737dbc60.js.map